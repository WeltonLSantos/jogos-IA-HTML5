// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,H,ca,K,da,ea,L,O,fa,ga,ha,ia,la,ma,P,na,oa,Q,ra,sa,wa,xa,ya,za,Aa,S,Ba,Ca,T,Da,Ea,Fa,Ga,Ha,U,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,V,Kb,Lb,Mb,Y,Nb,Ob={},Pb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(g){return g.__proto__}:function(g){return g.constructor.prototype});
(function(){function g(c,r,e,s){this.set(c,r,e,s)}function q(){this.ab=this.$a=this.eb=this.cb=this.lb=this.kb=this.wa=this.ua=0}function a(c,r,e,s){c<r?e<s?(w=c<e?c:e,y=r>s?r:s):(w=c<s?c:s,y=r>e?r:e):e<s?(w=r<e?r:e,y=c>s?c:s):(w=r<s?r:s,y=c>e?c:e)}function f(){this.items=this.oc=null;this.Oe=0;r&&(this.oc=new Set);this.jf=[];this.od=!0}function u(c){s[B++]=c}function t(){this.Pa=this.Vh=this.y=this.oi=0}function d(c){this.Ea=[];this.xg=this.zg=this.Ag=this.yg=0;this.kg(c)}function b(c,r){this.ri=
c;this.qi=r;this.cells={}}function n(c,r){this.ri=c;this.qi=r;this.cells={}}function p(c,r,e){var s;return R.length?(s=R.pop(),s.Ui=c,s.x=r,s.y=e,s):new aa(c,r,e)}function e(c,r,e){this.Ui=c;this.x=r;this.y=e;this.Ja=new H}function k(c,r,e){var s;return W.length?(s=W.pop(),s.Ui=c,s.x=r,s.y=e,s):new ca(c,r,e)}function v(c,r,e){this.Ui=c;this.x=r;this.y=e;this.Ja=[];this.Ne=!0;this.Ec=new H;this.nf=!1}function h(c,r){return c.wc-r.wc}K=function(c){window.console&&window.console.log&&window.console.log(c)};
da=function(c){window.console&&window.console.error&&window.console.error(c)};ea=function(c){return"undefined"===typeof c};L=function(c){return"number"===typeof c};O=function(c){return"string"===typeof c};fa=function(c){return 0<c&&0===(c-1&c)};ga=function(c){--c;for(var r=1;32>r;r<<=1)c|=c>>r;return c+1};ha=function(c){return 0>c?-c:c};ia=function(c,r){return c>r?c:r};la=function(c,r){return c<r?c:r};ma=Math.PI;P=function(c){return 0<=c?c|0:(c|0)-1};na=function(c){var r=c|0;return r===c?r:r+1};oa=
function(c,r,e,s,l,a,m,t){var k,h,b,B;c<e?(h=c,k=e):(h=e,k=c);l<m?(B=l,b=m):(B=m,b=l);if(k<B||h>b)return!1;r<s?(h=r,k=s):(h=s,k=r);a<t?(B=a,b=t):(B=t,b=a);if(k<B||h>b)return!1;k=l-c+m-e;h=a-r+t-s;c=e-c;r=s-r;l=m-l;a=t-a;t=ha(r*l-a*c);return ha(l*h-a*k)>t?!1:ha(c*h-r*k)<=t};g.prototype.set=function(c,r,e,s){this.left=c;this.top=r;this.right=e;this.bottom=s};g.prototype.Fg=function(c){this.left=c.left;this.top=c.top;this.right=c.right;this.bottom=c.bottom};g.prototype.width=function(){return this.right-
this.left};g.prototype.height=function(){return this.bottom-this.top};g.prototype.offset=function(c,r){this.left+=c;this.top+=r;this.right+=c;this.bottom+=r;return this};g.prototype.normalize=function(){var c=0;this.left>this.right&&(c=this.left,this.left=this.right,this.right=c);this.top>this.bottom&&(c=this.top,this.top=this.bottom,this.bottom=c)};g.prototype.Tp=function(c){return!(c.right<this.left||c.bottom<this.top||c.left>this.right||c.top>this.bottom)};g.prototype.Up=function(c,r,e){return!(c.right+
r<this.left||c.bottom+e<this.top||c.left+r>this.right||c.top+e>this.bottom)};g.prototype.ob=function(c,r){return c>=this.left&&c<=this.right&&r>=this.top&&r<=this.bottom};g.prototype.Ng=function(c){return this.left===c.left&&this.top===c.top&&this.right===c.right&&this.bottom===c.bottom};Q=g;q.prototype.jg=function(c){this.ua=c.left;this.wa=c.top;this.kb=c.right;this.lb=c.top;this.cb=c.right;this.eb=c.bottom;this.$a=c.left;this.ab=c.bottom};q.prototype.Gm=function(c,r){if(0===r)this.jg(c);else{var e=
Math.sin(r),s=Math.cos(r),l=c.left*e,a=c.top*e,m=c.right*e,e=c.bottom*e,t=c.left*s,k=c.top*s,h=c.right*s,s=c.bottom*s;this.ua=t-a;this.wa=k+l;this.kb=h-a;this.lb=k+m;this.cb=h-e;this.eb=s+m;this.$a=t-e;this.ab=s+l}};q.prototype.offset=function(c,r){this.ua+=c;this.wa+=r;this.kb+=c;this.lb+=r;this.cb+=c;this.eb+=r;this.$a+=c;this.ab+=r;return this};var w=0,y=0;q.prototype.Bk=function(c){a(this.ua,this.kb,this.cb,this.$a);c.left=w;c.right=y;a(this.wa,this.lb,this.eb,this.ab);c.top=w;c.bottom=y};q.prototype.ob=
function(c,r){var e=this.kb-this.ua,s=this.lb-this.wa,l=this.cb-this.ua,a=this.eb-this.wa,m=c-this.ua,t=r-this.wa,k=e*e+s*s,h=e*l+s*a,s=e*m+s*t,b=l*l+a*a,B=l*m+a*t,d=1/(k*b-h*h),e=(b*s-h*B)*d,k=(k*B-h*s)*d;if(0<=e&&0<k&&1>e+k)return!0;e=this.$a-this.ua;s=this.ab-this.wa;k=e*e+s*s;h=e*l+s*a;s=e*m+s*t;d=1/(k*b-h*h);e=(b*s-h*B)*d;k=(k*B-h*s)*d;return 0<=e&&0<k&&1>e+k};q.prototype.ld=function(c,r){if(r)switch(c){case 0:return this.ua;case 1:return this.kb;case 2:return this.cb;case 3:return this.$a;case 4:return this.ua;
default:return this.ua}else switch(c){case 0:return this.wa;case 1:return this.lb;case 2:return this.eb;case 3:return this.ab;case 4:return this.wa;default:return this.wa}};q.prototype.Yl=function(){return(this.ua+this.kb+this.cb+this.$a)/4};q.prototype.Zl=function(){return(this.wa+this.lb+this.eb+this.ab)/4};q.prototype.ml=function(c){var r=c.Yl(),e=c.Zl();if(this.ob(r,e))return!0;r=this.Yl();e=this.Zl();if(c.ob(r,e))return!0;var s,l,a,k,m,t,h,b;for(h=0;4>h;h++)for(b=0;4>b;b++)if(r=this.ld(h,!0),
e=this.ld(h,!1),s=this.ld(h+1,!0),l=this.ld(h+1,!1),a=c.ld(b,!0),k=c.ld(b,!1),m=c.ld(b+1,!0),t=c.ld(b+1,!1),oa(r,e,s,l,a,k,m,t))return!0;return!1};ra=q;sa=function(c,r){for(var e in r)r.hasOwnProperty(e)&&(c[e]=r[e]);return c};wa=function(c,r){var e,s;r=P(r);if(!(0>r||r>=c.length)){e=r;for(s=c.length-1;e<s;e++)c[e]=c[e+1];c.length=s}};xa=function(c,r){c.length=r.length;var e,s;e=0;for(s=r.length;e<s;e++)c[e]=r[e]};ya=function(c,r){c.push.apply(c,r)};za=function(c,r){var e,s;e=0;for(s=c.length;e<s;++e)if(c[e]===
r)return e;return-1};Aa=function(c,r){var e=za(c,r);-1!==e&&wa(c,e)};S=function(c){return c/(180/ma)};Ba=function(c){return 180/ma*c};Ca=function(c){c%=360;0>c&&(c+=360);return c};T=function(c){c%=2*ma;0>c&&(c+=2*ma);return c};Da=function(c){return Ca(Ba(c))};Ea=function(c){return T(S(c))};Fa=function(c,r,e,s){return Math.atan2(s-r,e-c)};Ga=function(c,r){if(c===r)return 0;var e=Math.sin(c),s=Math.cos(c),l=Math.sin(r),a=Math.cos(r),e=e*l+s*a;return 1<=e?0:-1>=e?ma:Math.acos(e)};Ha=function(c,r,e){var s=
Math.sin(c),l=Math.cos(c),a=Math.sin(r),k=Math.cos(r);return Math.acos(s*a+l*k)>e?0<l*a-s*k?T(c+e):T(c-e):T(r)};U=function(c,r){var e=Math.sin(c),s=Math.cos(c),l=Math.sin(r),a=Math.cos(r);return 0>=s*l-e*a};Ia=function(c,r,e,s){c=e-c;r=s-r;return Math.sqrt(c*c+r*r)};Ja=function(c,r){return!c!==!r};Ka=function(c){for(var r in c)if(c.hasOwnProperty(r))return!0;return!1};La=function(c){for(var r in c)c.hasOwnProperty(r)&&delete c[r]};var m=+new Date;Ma=function(){if("undefined"!==typeof window.performance){var c=
window.performance;if("undefined"!==typeof c.now)return c.now();if("undefined"!==typeof c.webkitNow)return c.webkitNow();if("undefined"!==typeof c.mozNow)return c.mozNow();if("undefined"!==typeof c.msNow)return c.msNow()}return Date.now()-m};var l=!1,x=l=!1,c=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),x=/(iphone|ipod|ipad)/i.test(navigator.userAgent),c=window.c2ejecta);var r=!l&&!c&&!x&&"undefined"!==
typeof Set&&"undefined"!==typeof Set.prototype.forEach;f.prototype.contains=function(c){return this.Yc()?!1:r?this.oc.has(c):this.items&&this.items.hasOwnProperty(c)};f.prototype.add=function(c){if(r)this.oc.has(c)||(this.oc.add(c),this.od=!1);else{var e=c.toString(),s=this.items;s?s.hasOwnProperty(e)||(s[e]=c,this.Oe++,this.od=!1):(this.items={},this.items[e]=c,this.Oe=1,this.od=!1)}};f.prototype.remove=function(c){if(!this.Yc())if(r)this.oc.has(c)&&(this.oc["delete"](c),this.od=!1);else if(this.items){c=
c.toString();var e=this.items;e.hasOwnProperty(c)&&(delete e[c],this.Oe--,this.od=!1)}};f.prototype.clear=function(){this.Yc()||(r?this.oc.clear():(this.items=null,this.Oe=0),this.jf.length=0,this.od=!0)};f.prototype.Yc=function(){return 0===this.count()};f.prototype.count=function(){return r?this.oc.size:this.Oe};var s=null,B=0;f.prototype.br=function(){if(!this.od){if(r)this.jf.length=this.oc.size,s=this.jf,B=0,this.oc.forEach(u),s=null,B=0;else{var c=this.jf;c.length=this.Oe;var e,l=0,a=this.items;
if(a)for(e in a)a.hasOwnProperty(e)&&(c[l++]=a[e])}this.od=!0}};f.prototype.Od=function(){this.br();return this.jf};H=f;new H;Na=function(c,e){r?Oa(c,e.oc):Pa(c,e.Od())};Oa=function(c,r){var e,s,l,a;s=e=0;for(l=c.length;e<l;++e)a=c[e],r.has(a)||(c[s++]=a);c.length=s};Pa=function(c,r){var e,s,l,a;s=e=0;for(l=c.length;e<l;++e)a=c[e],-1===za(r,a)&&(c[s++]=a);c.length=s};t.prototype.add=function(c){this.y=c-this.oi;this.Vh=this.Pa+this.y;this.oi=this.Vh-this.Pa-this.y;this.Pa=this.Vh};t.prototype.reset=
function(){this.Pa=this.Vh=this.y=this.oi=0};Qa=t;Ra=function(c){return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};d.prototype.kg=function(c){this.um=c;this.mc=c.length/2;this.Ea.length=c.length;this.Cg=this.Dg=-1;this.Ek=0};d.prototype.Le=function(){return!this.um.length};d.prototype.ea=function(){for(var c=this.Ea,r=c[0],e=r,s=c[1],l=s,a,k,m=1,t=this.mc;m<t;++m)k=2*m,a=c[k],k=c[k+1],a<r&&(r=a),a>e&&(e=a),k<s&&(s=k),k>l&&(l=k);this.yg=r;this.zg=e;this.Ag=s;this.xg=l};d.prototype.jg=function(c,
r,e){this.Ea.length=8;this.mc=4;var s=this.Ea;s[0]=c.left-r;s[1]=c.top-e;s[2]=c.right-r;s[3]=c.top-e;s[4]=c.right-r;s[5]=c.bottom-e;s[6]=c.left-r;s[7]=c.bottom-e;this.Dg=c.right-c.left;this.Cg=c.bottom-c.top;this.ea()};d.prototype.df=function(c,r,e,s,l){this.Ea.length=8;this.mc=4;var a=this.Ea;a[0]=c.ua-r;a[1]=c.wa-e;a[2]=c.kb-r;a[3]=c.lb-e;a[4]=c.cb-r;a[5]=c.eb-e;a[6]=c.$a-r;a[7]=c.ab-e;this.Dg=s;this.Cg=l;this.ea()};d.prototype.Fm=function(c){this.mc=c.mc;xa(this.Ea,c.Ea);this.yg=c.yg;this.Ag-c.Ag;
this.zg=c.zg;this.xg=c.xg};d.prototype.Be=function(c,r,e){if(this.Dg!==c||this.Cg!==r||this.Ek!==e){this.Dg=c;this.Cg=r;this.Ek=e;var s,a,l,k,m,t=0,h=1,b=this.um,B=this.Ea;0!==e&&(t=Math.sin(e),h=Math.cos(e));e=0;for(l=this.mc;e<l;e++)s=2*e,a=s+1,k=b[s]*c,m=b[a]*r,B[s]=k*h-m*t,B[a]=m*h+k*t;this.ea()}};d.prototype.ob=function(c,r){var e=this.Ea;if(c===e[0]&&r===e[1])return!0;var s,a,l,k=this.mc,m=this.yg-110,t=this.Ag-101,h=this.zg+131,b=this.xg+120,B,d,n=0,x=0;for(s=0;s<k;s++)a=2*s,l=(s+1)%k*2,B=
e[a],a=e[a+1],d=e[l],l=e[l+1],oa(m,t,c,r,B,a,d,l)&&n++,oa(h,b,c,r,B,a,d,l)&&x++;return 1===n%2||1===x%2};d.prototype.Kf=function(c,r,e){var s=c.Ea,a=this.Ea;if(this.ob(s[0]+r,s[1]+e)||c.ob(a[0]-r,a[1]-e))return!0;var l,k,m,t,h,b,B,d,n,x,R,X;l=0;for(t=this.mc;l<t;l++)for(k=2*l,m=(l+1)%t*2,d=a[k],k=a[k+1],n=a[m],x=a[m+1],m=0,B=c.mc;m<B;m++)if(h=2*m,b=(m+1)%B*2,R=s[h]+r,h=s[h+1]+e,X=s[b]+r,b=s[b+1]+e,oa(d,k,n,x,R,h,X,b))return!0;return!1};Sa=d;b.prototype.td=function(c,r,e){var s;s=this.cells[c];return s?
(s=s[r])?s:e?(s=p(this,c,r),this.cells[c][r]=s):null:e?(s=p(this,c,r),this.cells[c]={},this.cells[c][r]=s):null};b.prototype.zb=function(c){return P(c/this.ri)};b.prototype.Ab=function(c){return P(c/this.qi)};b.prototype.update=function(c,r,e){var s,a,l,k,m;if(r)for(s=r.left,a=r.right;s<=a;++s)for(l=r.top,k=r.bottom;l<=k;++l)if(!e||!e.ob(s,l))if(m=this.td(s,l,!1))m.remove(c),m.Yc()&&(m.Ja.clear(),1E3>R.length&&R.push(m),this.cells[s][l]=null);if(e)for(s=e.left,a=e.right;s<=a;++s)for(l=e.top,k=e.bottom;l<=
k;++l)r&&r.ob(s,l)||this.td(s,l,!0).$i(c)};b.prototype.Jh=function(c,r){var e,s,l,a,k,m;e=this.zb(c.left);l=this.Ab(c.top);s=this.zb(c.right);for(k=this.Ab(c.bottom);e<=s;++e)for(a=l;a<=k;++a)(m=this.td(e,a,!1))&&m.dump(r)};Ta=b;n.prototype.td=function(c,r,e){var s;s=this.cells[c];return s?(s=s[r])?s:e?(s=k(this,c,r),this.cells[c][r]=s):null:e?(s=k(this,c,r),this.cells[c]={},this.cells[c][r]=s):null};n.prototype.zb=function(c){return P(c/this.ri)};n.prototype.Ab=function(c){return P(c/this.qi)};n.prototype.update=
function(c,r,e){var s,l,a,k,m;if(r)for(s=r.left,l=r.right;s<=l;++s)for(a=r.top,k=r.bottom;a<=k;++a)if(!e||!e.ob(s,a))if(m=this.td(s,a,!1))m.remove(c),m.Yc()&&(m.reset(),1E3>W.length&&W.push(m),this.cells[s][a]=null);if(e)for(s=e.left,l=e.right;s<=l;++s)for(a=e.top,k=e.bottom;a<=k;++a)r&&r.ob(s,a)||this.td(s,a,!0).$i(c)};n.prototype.Jh=function(c,r,e,s,a){var l,k;c=this.zb(c);r=this.Ab(r);e=this.zb(e);for(l=this.Ab(s);c<=e;++c)for(s=r;s<=l;++s)(k=this.td(c,s,!1))&&k.dump(a)};n.prototype.jq=function(c){var r,
e,s,a,l;r=c.left;s=c.top;e=c.right;for(a=c.bottom;r<=e;++r)for(c=s;c<=a;++c)if(l=this.td(r,c,!1))l.Ne=!1};Va=n;var R=[];e.prototype.Yc=function(){return this.Ja.Yc()};e.prototype.$i=function(c){this.Ja.add(c)};e.prototype.remove=function(c){this.Ja.remove(c)};e.prototype.dump=function(c){ya(c,this.Ja.Od())};aa=e;var W=[];v.prototype.Yc=function(){if(!this.Ja.length)return!0;if(this.Ja.length>this.Ec.count())return!1;this.Ji();return!0};v.prototype.$i=function(c){this.Ec.contains(c)?(this.Ec.remove(c),
this.Ec.Yc()&&(this.nf=!1)):this.Ja.length?(this.Ja[this.Ja.length-1].Bc()>c.Bc()&&(this.Ne=!1),this.Ja.push(c)):(this.Ja.push(c),this.Ne=!0)};v.prototype.remove=function(c){this.Ec.add(c);this.nf=!0;30<=this.Ec.count()&&this.Ji()};v.prototype.Ji=function(){this.nf&&(this.Ec.count()===this.Ja.length?this.reset():(Na(this.Ja,this.Ec),this.Ec.clear(),this.nf=!1))};v.prototype.Ho=function(){this.Ne||(this.Ja.sort(h),this.Ne=!0)};v.prototype.reset=function(){this.Ja.length=0;this.Ne=!0;this.Ec.clear();
this.nf=!1};v.prototype.dump=function(c){this.Ji();this.Ho();this.Ja.length&&c.push(this.Ja)};ca=v;var X="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Wa=function(c){return 0>=c||11<=c?"source-over":X[c-1]};Xa=function(c,r,e){if(e)switch(c.Ta=e.ONE,c.Ra=e.ONE_MINUS_SRC_ALPHA,r){case 1:c.Ta=e.ONE;c.Ra=e.ONE;break;case 3:c.Ta=e.ONE;c.Ra=e.ZERO;break;case 4:c.Ta=e.ONE_MINUS_DST_ALPHA;c.Ra=e.ONE;break;case 5:c.Ta=e.DST_ALPHA;
c.Ra=e.ZERO;break;case 6:c.Ta=e.ZERO;c.Ra=e.SRC_ALPHA;break;case 7:c.Ta=e.ONE_MINUS_DST_ALPHA;c.Ra=e.ZERO;break;case 8:c.Ta=e.ZERO;c.Ra=e.ONE_MINUS_SRC_ALPHA;break;case 9:c.Ta=e.DST_ALPHA;c.Ra=e.ONE_MINUS_SRC_ALPHA;break;case 10:c.Ta=e.ONE_MINUS_DST_ALPHA,c.Ra=e.SRC_ALPHA}};Ya=function(c){return Math.round(1E6*c)/1E6};Za=function(c,r){return"string"!==typeof c||"string"!==typeof r||c.length!==r.length?!1:c===r?!0:c.toLowerCase()===r.toLowerCase()};$a=function(c){c=c.target;return!c||c===document||
c===window||document&&document.body&&c===document.body||Za(c.tagName,"canvas")?!0:!1}})();var Qb="undefined"!==typeof Float32Array?Float32Array:Array;function Rb(g){var q=new Qb(3);g&&(q[0]=g[0],q[1]=g[1],q[2]=g[2]);return q}function Sb(g){var q=new Qb(16);g&&(q[0]=g[0],q[1]=g[1],q[2]=g[2],q[3]=g[3],q[4]=g[4],q[5]=g[5],q[6]=g[6],q[7]=g[7],q[8]=g[8],q[9]=g[9],q[10]=g[10],q[11]=g[11],q[12]=g[12],q[13]=g[13],q[14]=g[14],q[15]=g[15]);return q}
function Tb(g,q){q[0]=g[0];q[1]=g[1];q[2]=g[2];q[3]=g[3];q[4]=g[4];q[5]=g[5];q[6]=g[6];q[7]=g[7];q[8]=g[8];q[9]=g[9];q[10]=g[10];q[11]=g[11];q[12]=g[12];q[13]=g[13];q[14]=g[14];q[15]=g[15]}function Ub(g,q){var a=q[0],f=q[1];q=q[2];g[0]*=a;g[1]*=a;g[2]*=a;g[3]*=a;g[4]*=f;g[5]*=f;g[6]*=f;g[7]*=f;g[8]*=q;g[9]*=q;g[10]*=q;g[11]*=q}
function Vb(g,q,a,f){f||(f=Sb());var u,t,d,b,n,p,e,k,v=g[0],h=g[1];g=g[2];t=a[0];d=a[1];u=a[2];a=q[1];p=q[2];v===q[0]&&h===a&&g===p?(g=f,g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1):(a=v-q[0],p=h-q[1],e=g-q[2],k=1/Math.sqrt(a*a+p*p+e*e),a*=k,p*=k,e*=k,q=d*e-u*p,u=u*a-t*e,t=t*p-d*a,(k=Math.sqrt(q*q+u*u+t*t))?(k=1/k,q*=k,u*=k,t*=k):t=u=q=0,d=p*t-e*u,b=e*q-a*t,n=a*u-p*q,(k=Math.sqrt(d*d+b*b+n*n))?(k=1/k,d*=k,b*=k,n*=k):n=b=d=0,
f[0]=q,f[1]=d,f[2]=a,f[3]=0,f[4]=u,f[5]=b,f[6]=p,f[7]=0,f[8]=t,f[9]=n,f[10]=e,f[11]=0,f[12]=-(q*v+u*h+t*g),f[13]=-(d*v+b*h+n*g),f[14]=-(a*v+p*h+e*g),f[15]=1)}
(function(){function g(a){this.vd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Fk=Rb([0,0,100]);this.Il=Rb([0,0,0]);this.cn=Rb([0,1,0]);this.ok=Rb([1,1,1]);this.Ok=!0;this.wj=Sb();this.Wb=Sb();this.zl=Sb();this.Ai=Sb();this.m=a;this.il()}function q(a,d,b){this.m=a;this.lg=d;this.name=b;this.Vb=a.getAttribLocation(d,"aPos");this.Bd=a.getAttribLocation(d,"aTex");this.Gl=a.getUniformLocation(d,"matP");this.vh=a.getUniformLocation(d,"matMV");this.Te=
a.getUniformLocation(d,"opacity");this.Hl=a.getUniformLocation(d,"samplerFront");this.Vf=a.getUniformLocation(d,"samplerBack");this.je=a.getUniformLocation(d,"destStart");this.ie=a.getUniformLocation(d,"destEnd");this.uj=a.getUniformLocation(d,"seconds");this.tj=a.getUniformLocation(d,"pixelWidth");this.sj=a.getUniformLocation(d,"pixelHeight");this.Uf=a.getUniformLocation(d,"layerScale");this.Tf=a.getUniformLocation(d,"layerAngle");this.Xf=a.getUniformLocation(d,"viewOrigin");this.Wf=a.getUniformLocation(d,
"scrollPos");this.Pp=!!(this.tj||this.sj||this.uj||this.Vf||this.je||this.ie||this.Uf||this.Tf||this.Xf||this.Wf);this.Ql=this.Rl=-999;this.xh=1;this.Ml=this.Ll=0;this.Ol=this.Kl=this.Jl=1;this.Tl=this.Sl=this.Vl=this.Ul=this.Nl=0;this.ij=[];this.Pl=Sb();this.Te&&a.uniform1f(this.Te,1);this.Hl&&a.uniform1i(this.Hl,0);this.Vf&&a.uniform1i(this.Vf,1);this.je&&a.uniform2f(this.je,0,0);this.ie&&a.uniform2f(this.ie,1,1);this.Uf&&a.uniform1f(this.Uf,1);this.Tf&&a.uniform1f(this.Tf,0);this.Xf&&a.uniform2f(this.Xf,
0,0);this.Wf&&a.uniform2f(this.Wf,0,0);this.Xd=!1}function a(a,d){this.type=a;this.u=d;this.m=d.m;this.Cc=this.Xb=this.km=0;this.W=this.uc=null;this.Hm=[]}g.prototype.il=function(){var a=this.m,d;this.Al=1;this.fe=this.zd=null;this.Jg=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Bl=a.ONE;this.yl=a.ONE_MINUS_SRC_ALPHA;this.Ej=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ej);this.tg=
Array(4);this.ng=Array(4);for(d=0;4>d;d++)this.tg[d]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.tg[d]),this.ng[d]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.ng[d]);this.Qc=0;this.Rp=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Rp);this.nk=new Float32Array(16E3);this.dk=new Float32Array(16E3);this.vq=new Float32Array(32E3);for(var b=new Uint16Array(12E3),n=d=0;12E3>d;)b[d++]=n,b[d++]=n+1,b[d++]=n+2,b[d++]=n,b[d++]=n+2,b[d++]=n+3,n+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,
a.STATIC_DRAW);this.Fj=this.Lc=0;this.Ga=[];d=this.yi({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Ga.push(d);d=this.yi({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ga.push(d);for(var p in Wb)Wb.hasOwnProperty(p)&&this.Ga.push(this.yi(Wb[p],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",p));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.nd=[];this.Nc=0;this.pb=!1;this.Lk=this.Of=-1;this.vf=null;this.fp=a.createFramebuffer();this.ym=null;this.Nd=Rb([0,0,0]);this.Wl=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Wl&&
(this.Wl=2048);this.Ic(0)};q.prototype.ik=function(a){var d=this.Pl;if(d[0]!==a[0]||d[1]!==a[1]||d[2]!==a[2]||d[3]!==a[3]||d[4]!==a[4]||d[5]!==a[5]||d[6]!==a[6]||d[7]!==a[7]||d[8]!==a[8]||d[9]!==a[9]||d[10]!==a[10]||d[11]!==a[11]||d[12]!==a[12]||d[13]!==a[13]||d[14]!==a[14]||d[15]!==a[15])Tb(a,this.Pl),this.m.uniformMatrix4fv(this.vh,!1,a)};g.prototype.yi=function(a,d,b){var n=this.m,p=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(p,a.src);n.compileShader(p);if(!n.getShaderParameter(p,n.COMPILE_STATUS))return n.deleteShader(p),
null;var e=n.createShader(n.VERTEX_SHADER);n.shaderSource(e,d);n.compileShader(e);if(!n.getShaderParameter(e,n.COMPILE_STATUS))return n.deleteShader(p),n.deleteShader(e),null;d=n.createProgram();n.attachShader(d,p);n.attachShader(d,e);n.linkProgram(d);if(!n.getProgramParameter(d,n.LINK_STATUS))return n.deleteShader(p),n.deleteShader(e),n.deleteProgram(d),null;n.useProgram(d);n.deleteShader(p);n.deleteShader(e);b=new q(n,d,b);b.Hi=a.Hi||0;b.Ii=a.Ii||0;b.Kk=!!a.Kk;b.yk=!!a.yk;b.G=a.G||[];a=0;for(p=
b.G.length;a<p;a++)b.G[a][1]=n.getUniformLocation(d,b.G[a][0]),b.ij.push(0),n.uniform1f(b.G[a][1],0);return b};g.prototype.Si=function(a){var d,b;d=0;for(b=this.Ga.length;d<b;d++)if(this.Ga[d].name===a)return d;return-1};g.prototype.rm=function(a,d,b){var n=this.Wb,p=this.wj,e=[0,0,0,0,0,0,0,0];e[0]=n[0]*a+n[4]*d+n[12];e[1]=n[1]*a+n[5]*d+n[13];e[2]=n[2]*a+n[6]*d+n[14];e[3]=n[3]*a+n[7]*d+n[15];e[4]=p[0]*e[0]+p[4]*e[1]+p[8]*e[2]+p[12]*e[3];e[5]=p[1]*e[0]+p[5]*e[1]+p[9]*e[2]+p[13]*e[3];e[6]=p[2]*e[0]+
p[6]*e[1]+p[10]*e[2]+p[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],b[0]=(.5*e[4]+.5)*this.width,b[1]=(.5*e[5]+.5)*this.height)};g.prototype.cf=function(a,d,b){if(this.width!==a||this.height!==d||b){this.rd();this.width=a;this.height=d;this.m.viewport(0,0,a,d);d=a/d;var n=this.wj,p;p=1*Math.tan(45*Math.PI/360);d*=p;a=-d;b=-p;n||(n=Sb());var e=d-a,k=p-b;n[0]=2/e;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=2/k;n[6]=0;n[7]=0;n[8]=(d+a)/e;n[9]=(p+b)/k;n[10]=-1001/999;n[11]=-1;n[12]=
0;n[13]=0;n[14]=-2E3/999;n[15]=0;Vb(this.Fk,this.Il,this.cn,this.Wb);a=[0,0];d=[0,0];this.rm(0,0,a);this.rm(1,1,d);this.ok[0]=1/(d[0]-a[0]);this.ok[1]=-1/(d[1]-a[1]);a=0;for(d=this.Ga.length;a<d;a++)b=this.Ga[a],b.Xd=!1,b.Gl&&(this.m.useProgram(b.lg),this.m.uniformMatrix4fv(b.Gl,!1,this.wj));this.m.useProgram(this.Ga[this.Of].lg);this.m.bindTexture(this.m.TEXTURE_2D,null);this.m.activeTexture(this.m.TEXTURE1);this.m.bindTexture(this.m.TEXTURE_2D,null);this.m.activeTexture(this.m.TEXTURE0);this.fe=
this.zd=null}};g.prototype.Fc=function(){Vb(this.Fk,this.Il,this.cn,this.Wb);Ub(this.Wb,this.ok)};g.prototype.translate=function(a,d){if(0!==a||0!==d){this.Nd[0]=a;this.Nd[1]=d;this.Nd[2]=0;var b=this.Wb,n=this.Nd,p=n[0],e=n[1],n=n[2];b[12]=b[0]*p+b[4]*e+b[8]*n+b[12];b[13]=b[1]*p+b[5]*e+b[9]*n+b[13];b[14]=b[2]*p+b[6]*e+b[10]*n+b[14];b[15]=b[3]*p+b[7]*e+b[11]*n+b[15]}};g.prototype.scale=function(a,d){if(1!==a||1!==d)this.Nd[0]=a,this.Nd[1]=d,this.Nd[2]=1,Ub(this.Wb,this.Nd)};g.prototype.Rj=function(a){if(0!==
a){var d=this.Wb,b,n=Math.sin(a);a=Math.cos(a);var p=d[0],e=d[1],k=d[2],f=d[3],h=d[4],w=d[5],g=d[6],m=d[7];b?d!==b&&(b[8]=d[8],b[9]=d[9],b[10]=d[10],b[11]=d[11],b[12]=d[12],b[13]=d[13],b[14]=d[14],b[15]=d[15]):b=d;b[0]=p*a+h*n;b[1]=e*a+w*n;b[2]=k*a+g*n;b[3]=f*a+m*n;b[4]=p*-n+h*a;b[5]=e*-n+w*a;b[6]=k*-n+g*a;b[7]=f*-n+m*a}};g.prototype.Kc=function(){for(var a=!1,d=0;16>d;d++)if(this.zl[d]!==this.Wb[d]){a=!0;break}a&&(a=this.nc(),a.type=5,a.W?Tb(this.Wb,a.W):a.W=Sb(this.Wb),Tb(this.Wb,this.zl),this.pb=
!1)};a.prototype.xo=function(){this.m.bindTexture(this.m.TEXTURE_2D,this.uc)};a.prototype.yo=function(){var a=this.m;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.uc);a.activeTexture(a.TEXTURE0)};a.prototype.uo=function(){var a=this.km,d=this.u;d.Jg=a;d=d.vf;d.Te&&d.xh!==a&&(d.xh=a,this.m.uniform1f(d.Te,a))};a.prototype.ro=function(){this.m.drawElements(this.m.TRIANGLES,this.Cc,this.m.UNSIGNED_SHORT,2*this.Xb)};a.prototype.to=function(){this.m.blendFunc(this.Xb,this.Cc)};a.prototype.zo=
function(){var a,d,b,n=this.u.Ga,p=this.u.Lk;a=0;for(d=n.length;a<d;a++)b=n[a],a===p&&b.vh?(b.ik(this.W),b.Xd=!0):b.Xd=!1;Tb(this.W,this.u.Ai)};a.prototype.so=function(){var a=this.m,d=this.u;this.uc?(d.fe===this.uc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),d.fe=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,d.fp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.uc,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};a.prototype.po=function(){var a=this.m;0===this.Xb?(a.clearColor(this.W[0],this.W[1],this.W[2],this.W[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.W[0],this.W[1],this.W[2],this.W[3]),a.clearColor(0,0,0,0),a.clear(this.m.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};a.prototype.qo=function(){var a=this.m,d=this.u,b=d.Ga[1];a.useProgram(b.lg);!b.Xd&&b.vh&&(b.ik(d.Ai),b.Xd=!0);a.enableVertexAttribArray(b.Vb);a.bindBuffer(a.ARRAY_BUFFER,
d.Ej);a.vertexAttribPointer(b.Vb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Xb/4,this.Cc);b=d.vf;a.useProgram(b.lg);0<=b.Vb&&(a.enableVertexAttribArray(b.Vb),a.bindBuffer(a.ARRAY_BUFFER,d.tg[d.Qc]),a.vertexAttribPointer(b.Vb,2,a.FLOAT,!1,0,0));0<=b.Bd&&(a.enableVertexAttribArray(b.Bd),a.bindBuffer(a.ARRAY_BUFFER,d.ng[d.Qc]),a.vertexAttribPointer(b.Bd,2,a.FLOAT,!1,0,0))};a.prototype.vo=function(){var a=this.m,d=this.u,b=d.Ga[this.Xb];d.Lk=this.Xb;d.vf=b;a.useProgram(b.lg);!b.Xd&&b.vh&&(b.ik(d.Ai),
b.Xd=!0);b.Te&&b.xh!==d.Jg&&(b.xh=d.Jg,a.uniform1f(b.Te,d.Jg));0<=b.Vb&&(a.enableVertexAttribArray(b.Vb),a.bindBuffer(a.ARRAY_BUFFER,d.tg[d.Qc]),a.vertexAttribPointer(b.Vb,2,a.FLOAT,!1,0,0));0<=b.Bd&&(a.enableVertexAttribArray(b.Bd),a.bindBuffer(a.ARRAY_BUFFER,d.ng[d.Qc]),a.vertexAttribPointer(b.Bd,2,a.FLOAT,!1,0,0))};a.prototype.wo=function(){var a,d,b=this.u.vf,n=this.m;a=this.W;b.Vf&&this.u.fe!==this.uc&&(n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,this.uc),this.u.fe=this.uc,n.activeTexture(n.TEXTURE0));
var p=a[0];b.tj&&p!==b.Rl&&(b.Rl=p,n.uniform1f(b.tj,p));p=a[1];b.sj&&p!==b.Ql&&(b.Ql=p,n.uniform1f(b.sj,p));p=a[2];d=a[3];!b.je||p===b.Ll&&d===b.Ml||(b.Ll=p,b.Ml=d,n.uniform2f(b.je,p,d));p=a[4];d=a[5];!b.ie||p===b.Jl&&d===b.Kl||(b.Jl=p,b.Kl=p,n.uniform2f(b.ie,p,d));p=a[6];b.Uf&&p!==b.Ol&&(b.Ol=p,n.uniform1f(b.Uf,p));p=a[7];b.Tf&&p!==b.Nl&&(b.Nl=p,n.uniform1f(b.Tf,p));p=a[8];d=a[9];!b.Xf||p===b.Ul&&d===b.Vl||(b.Ul=p,b.Vl=d,n.uniform2f(b.Xf,p,d));p=a[10];d=a[11];!b.Wf||p===b.Sl&&d===b.Tl||(b.Sl=p,b.Tl=
d,n.uniform2f(b.Wf,p,d));b.uj&&n.uniform1f(b.uj,Ma()/1E3);if(b.G.length)for(a=0,d=b.G.length;a<d;a++)p=this.Hm[a],p!==b.ij[a]&&(b.ij[a]=p,n.uniform1f(b.G[a][1],p))};g.prototype.nc=function(){this.Nc===this.nd.length&&this.nd.push(new a(0,this));return this.nd[this.Nc++]};g.prototype.rd=function(){if(0!==this.Nc&&!this.m.isContextLost()){var a=this.m;0<this.Fj&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ej),a.bufferData(a.ARRAY_BUFFER,this.vq.subarray(0,this.Fj),a.STREAM_DRAW),d&&0<=d.Vb&&"<point>"===d.name&&
a.vertexAttribPointer(d.Vb,4,a.FLOAT,!1,0,0));if(0<this.Lc){var d=this.vf;a.bindBuffer(a.ARRAY_BUFFER,this.tg[this.Qc]);a.bufferData(a.ARRAY_BUFFER,this.nk.subarray(0,this.Lc),a.STREAM_DRAW);d&&0<=d.Vb&&"<point>"!==d.name&&a.vertexAttribPointer(d.Vb,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.ng[this.Qc]);a.bufferData(a.ARRAY_BUFFER,this.dk.subarray(0,this.Lc),a.STREAM_DRAW);d&&0<=d.Bd&&"<point>"!==d.name&&a.vertexAttribPointer(d.Bd,2,a.FLOAT,!1,0,0)}for(var b,a=0,d=this.Nc;a<d;a++)switch(b=
this.nd[a],b.type){case 1:b.ro();break;case 2:b.xo();break;case 3:b.uo();break;case 4:b.to();break;case 5:b.zo();break;case 6:b.so();break;case 7:b.po();break;case 8:b.qo();break;case 9:b.vo();break;case 10:b.wo();break;case 11:b.yo()}this.Fj=this.Lc=this.Nc=0;this.pb=!1;this.Qc++;4<=this.Qc&&(this.Qc=0)}};g.prototype.$e=function(a){if(a!==this.Al){var d=this.nc();d.type=3;this.Al=d.km=a;this.pb=!1}};g.prototype.Nb=function(a){if(a!==this.zd){var d=this.nc();d.type=2;this.zd=d.uc=a;this.pb=!1}};g.prototype.Id=
function(a,d){if(a!==this.Bl||d!==this.yl){var b=this.nc();b.type=4;b.Xb=a;b.Cc=d;this.Bl=a;this.yl=d;this.pb=!1}};g.prototype.Dm=function(){this.Id(this.m.ONE,this.m.ONE_MINUS_SRC_ALPHA)};g.prototype.Ih=function(a,d,b,n,p,e,k,f){15992<=this.Lc&&this.rd();var h=this.Lc,w=this.nk,g=this.dk;if(this.pb)this.nd[this.Nc-1].Cc+=6;else{var m=this.nc();m.type=1;m.Xb=h/4*3;m.Cc=6;this.pb=!0}w[h]=a;g[h++]=0;w[h]=d;g[h++]=0;w[h]=b;g[h++]=1;w[h]=n;g[h++]=0;w[h]=p;g[h++]=1;w[h]=e;g[h++]=1;w[h]=k;g[h++]=0;w[h]=
f;g[h++]=1;this.Lc=h};g.prototype.Fd=function(a,d,b,n,p,e,k,f,h){15992<=this.Lc&&this.rd();var w=this.Lc,g=this.nk,m=this.dk;if(this.pb)this.nd[this.Nc-1].Cc+=6;else{var l=this.nc();l.type=1;l.Xb=w/4*3;l.Cc=6;this.pb=!0}var l=h.left,x=h.top,c=h.right;h=h.bottom;g[w]=a;m[w++]=l;g[w]=d;m[w++]=x;g[w]=b;m[w++]=c;g[w]=n;m[w++]=x;g[w]=p;m[w++]=c;g[w]=e;m[w++]=h;g[w]=k;m[w++]=l;g[w]=f;m[w++]=h;this.Lc=w};g.prototype.Ic=function(a){if(this.Of!==a){if(!this.Ga[a]){if(0===this.Of)return;a=0}var d=this.nc();
d.type=9;this.Of=d.Xb=a;this.pb=!1}};g.prototype.dg=function(a){a=this.Ga[a];return!(!a.je&&!a.ie)};g.prototype.Hj=function(a){a=this.Ga[a];return!!(a.je||a.ie||a.Kk)};g.prototype.Cq=function(a){a=this.Ga[a];return 0!==a.Hi||0!==a.Ii};g.prototype.up=function(a){return this.Ga[a].Hi};g.prototype.vp=function(a){return this.Ga[a].Ii};g.prototype.wp=function(a,d){return this.Ga[a].G[d][2]};g.prototype.Fh=function(a){return this.Ga[a].yk};g.prototype.bf=function(a,d,b,n,f,e,k,v,h,w,g,m,l,x){var c=this.Ga[this.Of],
r,s;if(c.Pp||x.length){r=this.nc();r.type=10;r.W?Tb(this.Wb,r.W):r.W=Sb();s=r.W;s[0]=d;s[1]=b;s[2]=n;s[3]=f;s[4]=e;s[5]=k;s[6]=v;s[7]=h;s[8]=w;s[9]=g;s[10]=m;s[11]=l;r.uc=c.Vf?a:null;if(x.length)for(b=r.Hm,b.length=x.length,a=0,d=x.length;a<d;a++)b[a]=x[a];this.pb=!1}};g.prototype.clear=function(a,d,b,n){var f=this.nc();f.type=7;f.Xb=0;f.W||(f.W=Sb());f.W[0]=a;f.W[1]=d;f.W[2]=b;f.W[3]=n;this.pb=!1};g.prototype.clearRect=function(a,d,b,n){if(!(0>b||0>n)){var f=this.nc();f.type=7;f.Xb=1;f.W||(f.W=Sb());
f.W[0]=a;f.W[1]=d;f.W[2]=b;f.W[3]=n;this.pb=!1}};g.prototype.Bq=function(){this.rd();this.m.flush()};var f=[],u={};g.prototype.fo=function(){f.length=0;u={}};g.prototype.Fl=function(a,d,b){var n;n=!1;d=!!d;var p=a.src+","+n+","+d+(n?",undefined":""),e=null;if("undefined"!==typeof a.src&&u.hasOwnProperty(p))return e=u[p],e.Bg++,e;this.rd();var k=this.m,v=fa(a.width)&&fa(a.height),e=k.createTexture();k.bindTexture(k.TEXTURE_2D,e);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var h=k.RGBA,w=k.RGBA,
g=k.UNSIGNED_BYTE;if(b&&!this.vd)switch(b){case 1:w=h=k.RGB;break;case 2:g=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:g=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:w=h=k.RGB,g=k.UNSIGNED_SHORT_5_6_5}if(!v&&n){b=document.createElement("canvas");b.width=ga(a.width);b.height=ga(a.height);var m=b.getContext("2d");m.webkitImageSmoothingEnabled=d;m.mozImageSmoothingEnabled=d;m.msImageSmoothingEnabled=d;m.imageSmoothingEnabled=d;m.drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height);k.texImage2D(k.TEXTURE_2D,0,h,
w,g,b)}else k.texImage2D(k.TEXTURE_2D,0,h,w,g,a);n?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));d?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),v&&this.Ok?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.zd=null;e.sf=a.width;e.rf=a.height;e.Bg=1;e.Dk=p;f.push(e);return u[p]=e};g.prototype.Pc=function(a,d,b,n){this.rd();var p=this.m;this.vd&&(n=!1);var e=p.createTexture();p.bindTexture(p.TEXTURE_2D,e);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,a,d,0,p.RGBA,n?p.UNSIGNED_SHORT_4_4_4_4:p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,
p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,b?p.LINEAR:p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,b?p.LINEAR:p.NEAREST);p.bindTexture(p.TEXTURE_2D,null);this.zd=null;e.sf=a;e.rf=d;f.push(e);return e};g.prototype.fr=function(a,d,b){this.rd();var n=this.m;this.vd&&(b=!1);n.bindTexture(n.TEXTURE_2D,d);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{n.texImage2D(n.TEXTURE_2D,
0,n.RGBA,n.RGBA,b?n.UNSIGNED_SHORT_4_4_4_4:n.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}n.bindTexture(n.TEXTURE_2D,null);this.zd=null};g.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Bg&&1<a.Bg?a.Bg--:(this.rd(),a===this.zd&&(this.m.bindTexture(this.m.TEXTURE_2D,null),this.zd=null),a===this.fe&&(this.m.activeTexture(this.m.TEXTURE1),this.m.bindTexture(this.m.TEXTURE_2D,null),this.m.activeTexture(this.m.TEXTURE0),this.fe=null),
Aa(f,a),"undefined"!==typeof a.Dk&&delete u[a.Dk],this.m.deleteTexture(a)))};g.prototype.Gc=function(a){if(a!==this.ym){var d=this.nc();d.type=6;this.ym=d.uc=a;this.pb=!1}};ab=g})();
(function(){function g(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function q(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function a(c){if(c&&(c.getContext||c.dc)&&!c.c2runtime){c.c2runtime=this;var a=this;this.be=(this.ah=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2isphonegap&&window.c2isphonegap;this.ae=!!c.dc;this.Vp="undefined"!==typeof window.AppMobi||this.ae;this.hc=!!window.c2cocoonjs;this.ic=!!window.c2ejecta;this.hc&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.ic&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",
function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.Va=this.ae||this.hc||this.ic;this.vd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.rl=/tizen/i.test(navigator.userAgent);this.ol=/android/i.test(navigator.userAgent)&&!this.rl&&!this.vd;this.hj=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.vd;this.xl=/ipad/i.test(navigator.userAgent);this.wl=this.hj||this.xl||this.ic;this.bq=this.hj&&/os\s6/i.test(navigator.userAgent);this.$g=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.vd;this.nl=/amazonwebappplatform/i.test(navigator.userAgent);this.Yp=/firefox/i.test(navigator.userAgent);this.$p=/safari/i.test(navigator.userAgent)&&!this.$g&&!this.vd;this.xd="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.tl=!("undefined"===
typeof window.c2isWindows8||!window.c2isWindows8);this.aq=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Ke=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.fj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.sl=this.tl||this.aq||this.fj;this.Wp=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.pl=this.ol&&!this.$g&&!this.ah&&!this.Yp&&!this.nl&&!this.Va;this.devicePixelRatio=
1;this.wd=this.be||this.ah||this.Vp||this.hc||this.ol||this.wl||this.Ke||this.fj||this.Wp||this.rl||this.ic;this.wd||(this.wd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.xd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.xd=!0);this.Xp="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=c;this.Gk=document.getElementById("c2canvasdiv");
this.X=this.u=this.m=null;this.Mi="";this.Qg=!1;this.hm=this.im=0;this.canvas.oncontextmenu=function(c){c.preventDefault&&c.preventDefault();return!1};this.canvas.onselectstart=function(c){c.preventDefault&&c.preventDefault();return!1};this.ae&&(window.c2runtime=this);this.xd&&(window.ondragover=function(c){c.preventDefault();return!1},window.ondrop=function(c){c.preventDefault();return!1},require("nw.gui").App.clearCache());this.pl&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=c.width;this.height=c.height;this.N=this.width;this.M=this.height;this.Hg=this.width;this.Gg=this.height;this.Qf=window.innerWidth;this.Pf=window.innerHeight;this.hp=!1;this.S=!0;this.Mf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.n=[];this.qa=[];this.pj={};this.kc=[];this.Gi={};this.Uc=[];this.lf=[];this.ai=[];this.Tn=[];this.Un=[];this.Mm=null;this.Td={};this.cj=this.ud=!1;this.jc=0;this.ej=!1;this.ec=[];this.Zc=this.Wa=this.qh=this.Vj=
"";this.mg=this.Km=!1;this.xi=this.Yf=this.Tc=this.Ee=0;this.pg=1;this.ee=new Qa;this.ei=new Qa;this.ih=0;this.Xl=!0;this.zh=this.Sg=this.Fe=this.$b=this.he=this.Li=0;this.vi=null;this.Lg=[];this.Fi=[];this.Og=-1;this.vj=[[]];this.gk=this.wh=0;this.Hh(null);this.zf=this.dm=this.ag=0;this.Uh=[];this.Zh=this.Kh=-1;this.fh=!0;this.uh=0;this.Lf=!1;this.Uq=0;this.qf=null;this.Np=!1;this.jj=0;this.Kj=!1;this.fm=new H;this.zj=new H;this.gm=new H;this.Lh=[];this.rc=new Sa([]);this.ck=new Sa([]);this.Ae=[];
this.Yg={};this.De={};this.ze={};this.kf={};this.Ak={};this.El=this.oh=this.sb=this.Kb=this.Dl=this.nh=this.da=null;this.hf=this.gj=!1;this.Ni=[null,null];this.Wd=0;this.Cd={};this.Sh=this.Se=null;this.yh=[];this.Hq()}}function f(c){c.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(c,a,e,l){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=f;k.onerror=l;k.onsuccess=function(k){k=k.target.result;k.onerror=l;k.transaction(["saves"],"readwrite").objectStore("saves").put({slot:c,
data:a}).onsuccess=e}}function t(c,a,e){var l=indexedDB.open("_C2SaveStates");l.onupgradeneeded=f;l.onerror=e;l.onsuccess=function(l){l=l.target.result;l.onerror=e;var k=l.transaction(["saves"]).objectStore("saves").get(c);k.onsuccess=function(){k.result?a(k.result.data):a(null)}}}function d(){K("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function b(c){var a,e=
{};for(a in c)!c.hasOwnProperty(a)||c[a]instanceof H||c[a]&&"undefined"!==typeof c[a].ys||(e[a]=c[a]);return e}a.prototype.Hq=function(){var c=this,a;a=this.Ke?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var e="data.js";if(this.tl||this.Ke||this.fj)e="data.json";a.open("GET",e,!0);var l=!1;if(!this.Va&&"response"in a&&"responseType"in a)try{a.responseType="json",l="json"===a.responseType}catch(k){l=!1}if(!l&&"responseType"in a)try{a.responseType="text"}catch(m){}if("overrideMimeType"in
a)try{a.overrideMimeType("application/json; charset=utf-8")}catch(h){}this.Ke?a.onreadystatechange=function(){4===a.readyState&&c.sh(JSON.parse(a.responseText))}:(a.onload=function(){if(l)c.sh(a.response);else if(c.ic){var e=a.responseText,e=e.substr(e.indexOf("{"));c.sh(JSON.parse(e))}else c.sh(JSON.parse(a.responseText))},a.onerror=function(c){da("Error requesting "+e+":");da(c)});a.send()};a.prototype.Sp=function(){var c=this,a,e,l,k,m,h,b,d,n;this.devicePixelRatio=(this.de=(!this.Va||this.ic)&&
this.dr&&!this.pl)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Qa();e=!(!this.hp&&(!this.ii||this.xd||this.sl||this.Ke||this.ah||this.be||this.nl));0<this.Gb&&this.setSize(g(),q(),!0);try{this.Fo&&(this.hc||this.ic||!this.Va)&&(a={alpha:e,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.m=this.canvas.getContext("webgl",a)||this.canvas.getContext("experimental-webgl",a))}catch(f){}if(this.m){this.Va||(this.Na=document.createElement("canvas"),
jQuery(this.Na).appendTo(this.canvas.parentNode),this.Na.oncontextmenu=function(){return!1},this.Na.onselectstart=function(){return!1},this.Na.width=this.Hg,this.Na.height=this.Gg,jQuery(this.Na).css({width:this.Hg+"px",height:this.Gg+"px"}),this.pm(),this.Dj=this.Na.getContext("2d"));this.u=new ab(this.m,this.wd);this.u.cf(this.canvas.width,this.canvas.height);this.u.Ok=0!==this.Ao;this.X=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();c.nq();K("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){c.u.il();c.u.cf(c.u.width,c.u.height,!0);c.Kb=null;c.sb=null;c.Ni[0]=null;c.Ni[1]=null;c.oq();c.S=!0;K("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);a=0;for(e=this.n.length;a<e;a++)for(m=this.n[a],l=0,k=m.D.length;l<k;l++)b=m.D[l],b.Oa=this.u.Si(b.id),this.hf=this.hf||this.u.dg(b.Oa);a=0;for(e=this.kc.length;a<e;a++){d=this.kc[a];l=0;for(k=d.D.length;l<k;l++)b=d.D[l],b.Oa=this.u.Si(b.id);
l=0;for(k=d.K.length;l<k;l++)for(n=d.K[l],m=0,h=n.D.length;m<h;m++)b=n.D[m],b.Oa=this.u.Si(b.id),this.hf=this.hf||this.u.dg(b.Oa)}}else{if(0<this.Gb&&this.ae){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.X=AppMobi.canvas.getContext("2d");try{this.X.samplingMode=this.V?"smooth":"sharp",this.X.globalScale=1,this.X.HTML5CompatibilityMode=!0,this.X.imageSmoothingEnabled=this.V}catch(x){}0!==this.width&&0!==this.height&&(this.X.width=this.width,
this.X.height=this.height)}this.X||(a=this.hc?{antialias:!!this.V,alpha:e}:{alpha:e},this.X=this.canvas.getContext("2d",a),this.X.webkitImageSmoothingEnabled=this.V,this.X.mozImageSmoothingEnabled=this.V,this.X.msImageSmoothingEnabled=this.V,this.X.imageSmoothingEnabled=this.V);this.Dj=this.Na=null}this.Yh=function(){c.Zb(!1)};window==window.top||this.Va||this.sl||this.Ke||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},
!0));"undefined"!==typeof cr_is_preview&&(this.hc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(K("Reloading for continuous preview"),this.qh="__c2_continuouspreview",this.mg=!0),this.uq&&!this.wd&&(jQuery(window).focus(function(){c.setSuspended(!1)}),jQuery(window).blur(function(){c.setSuspended(!0)})));this.Va||(a=function(c){$a(c)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur&&document.activeElement.blur()},window.navigator.pointerEnabled?document.addEventListener("pointerdown",a):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",a):document.addEventListener("touchstart",a),document.addEventListener("mousedown",a));0===this.Gb&&this.de&&1<this.devicePixelRatio&&this.setSize(this.Ca,this.Ba,!0);this.Ym();this.Lp();this.go();this.T={}};a.prototype.setSize=function(c,a,e){var l=0,k=0,m=0,h=0,h=0,b=this.bq&&this.$p&&!navigator.standalone&&
!this.Va&&!this.be;b&&(a+=60);if(this.Qf!==c||this.Pf!==a||e){this.Qf=c;this.Pf=a;var d=this.Gb,n=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Lf)&&!this.be;if(n||0!==this.Gb||e)n&&0<this.Wd&&(d=this.Wd),e=this.devicePixelRatio,4<=d?(m=this.Ca/this.Ba,c/a>m?(m*=a,5===d?(h=m*e/this.Ca,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),m=this.Ca*h/e,h=this.Ba*h/e,l=(c-m)/2,k=(a-h)/2,c=m,a=h):(l=(c-m)/2,c=m)):(h=c/m,5===d?(h=h*e/this.Ba,1<
h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),m=this.Ca*h/e,h=this.Ba*h/e,l=(c-m)/2,k=(a-h)/2,c=m):k=(a-h)/2,a=h),n&&!this.xd&&(k=l=0)):this.xd&&this.Lf&&0===this.Vk&&(l=Math.floor((c-this.Ca)/2),k=Math.floor((a-this.Ba)/2),c=this.Ca,a=this.Ba),2>d&&(this.pf=e),this.de&&this.xl&&1<e&&(1024<=c&&(c=1023),1024<=a&&(a=1023)),this.Hg=Math.round(c),this.Gg=Math.round(a),this.width=Math.round(c*e),this.height=Math.round(a*e),this.S=!0,this.nn?(this.N=this.width,this.M=this.height,this.Tb=!0):this.width<this.Ca&&
this.height<this.Ba||1===d?(this.N=this.width,this.M=this.height,this.Tb=!0):(this.N=this.Ca,this.M=this.Ba,this.Tb=!1,2===d?(m=this.Ca/this.Ba,d=this.Qf/this.Pf,d<m?this.N=this.M*d:d>m&&(this.M=this.N/d)):3===d&&(m=this.Ca/this.Ba,d=this.Qf/this.Pf,d>m?this.N=this.M*d:d<m&&(this.M=this.N/d))),this.Gk&&!this.Va&&(jQuery(this.Gk).css({width:Math.round(c)+"px",height:Math.round(a)+"px","margin-left":Math.floor(l)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(c)+
"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(c*e),this.canvas.height=Math.round(a*e),this.ic?(this.canvas.style.left=Math.floor(l)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(c)+"px",this.canvas.style.height=Math.round(a)+"px"):this.de&&!this.Va&&jQuery(this.canvas).css({width:Math.round(c)+"px",height:Math.round(a)+"px"})),this.Na&&(this.Na.width=Math.round(c),this.Na.height=Math.round(a),jQuery(this.Na).css({width:Math.round(c)+
"px",height:Math.round(a)+"px"})),this.u&&this.u.cf(Math.round(c*e),Math.round(a*e)),this.ae&&this.X&&(this.X.width=Math.round(c),this.X.height=Math.round(a)),this.X&&(this.X.webkitImageSmoothingEnabled=this.V,this.X.mozImageSmoothingEnabled=this.V,this.X.msImageSmoothingEnabled=this.V,this.X.imageSmoothingEnabled=this.V),this.Ym(),this.Va||!b&&!this.hj||window.setTimeout(function(){window.scrollTo(0,1)},100)}};a.prototype.Ym=function(){if(this.Wn&&0!==this.Cj){var c="portrait";2===this.Cj&&(c="landscape");
screen.orientation&&screen.orientation.lock?screen.orientation.lock(c):screen.lockOrientation?screen.lockOrientation(c):screen.webkitLockOrientation?screen.webkitLockOrientation(c):screen.mozLockOrientation?screen.mozLockOrientation(c):screen.msLockOrientation&&screen.msLockOrientation(c)}};a.prototype.nq=function(){this.u.fo();this.gj=!0;var c,a,e;c=0;for(a=this.n.length;c<a;c++)e=this.n[c],e.Bj&&e.Bj()};a.prototype.oq=function(){this.gj=!1;var c,a,e;c=0;for(a=this.n.length;c<a;c++)e=this.n[c],e.jm&&
e.jm()};a.prototype.pm=function(){if(!this.Va){var c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Lf)&&!this.be?jQuery(this.canvas).offset():jQuery(this.canvas).position();c.position="absolute";jQuery(this.Na).css(c)}};var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(c){var a;if(c&&!this.Mf)for(K("[Construct 2] Suspending"),
this.Mf=!0,-1!==this.Kh&&n&&n(this.Kh),-1!==this.Zh&&clearTimeout(this.Zh),c=0,a=this.Uh.length;c<a;c++)this.Uh[c](!0);else if(!c&&this.Mf){K("[Construct 2] Resuming");this.Mf=!1;this.ih=Ma();this.he=Ma();c=this.Yf=this.Sg=0;for(a=this.Uh.length;c<a;c++)this.Uh[c](!1);this.Zb(!1)}};a.prototype.hd=function(c){return this.yh[c]};a.prototype.sh=function(c){c&&c.project||da("Project model unavailable");c=c.project;this.name=c[0];this.Uk=c[1];this.Gb=c[12];this.Vk=c[12];this.Ca=c[10];this.Ba=c[11];this.lm=
this.Ca/2;this.mm=this.Ba/2;this.Va&&!this.ic&&(4<=c[12]||0===c[12])&&(K("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Vk=this.Gb=3);this.lk=c[18];this.Sf=c[19];0===this.Sf&&(this.Se=new Image,this.Se.src="loading-logo.png");this.ag=c[21];this.yh=Xb();this.Jc=new Z(this);var a,e,l,k,m,h,b,d,n;a=0;for(e=c[2].length;a<e;a++)b=c[2][a],l=this.hd(b[0]),bb(b,l.prototype),n=new l(this),n.Rh=b[1],n.yd=b[2],n.$l=b[9],n.ca&&n.ca(),
this.plugins.push(n);this.yh=Xb();a=0;for(e=c[3].length;a<e;a++){b=c[3][a];m=this.hd(b[1]);n=null;l=0;for(k=this.plugins.length;l<k;l++)if(this.plugins[l]instanceof m){n=this.plugins[l];break}var f=new n.Xa(n);f.name=b[0];f.J=b[2];f.aj=b[3].slice(0);f.er=b[3].length;f.Xn=b[4];f.ip=b[5];f.O=b[11];f.J?(f.le=[],f.Vc=this.zf++,f.fa=null):(f.le=null,f.Vc=-1,f.fa=[]);f.Pg=null;f.He=null;f.Qk=null;f.Jb=!1;f.nb=null;b[6]?(f.Rm=b[6][0],f.Sm=b[6][1],f.Wq=b[6][2]):(f.Rm=null,f.Sm=0,f.Wq=0);f.mb=b[7]?b[7]:null;
f.index=a;f.d=[];f.Kg=[];f.Ld=[new cb(f)];f.Rc=0;f.Sb=null;f.mo=0;f.gf=!0;f.bi=db;f.mp=eb;f.tp=fb;f.U=gb;f.fg=hb;f.Gh=ib;f.pe=jb;f.Ug=kb;f.Oi=lb;f.Qi=mb;f.yc=nb;f.al=ob;f.Eg=new Ta(this.Ca,this.Ba);f.vg=!0;f.wg=!1;f.T={};f.toString=pb;f.qa=[];l=0;for(k=b[8].length;l<k;l++){d=b[8][l];var x=this.hd(d[1]),p=null;m=0;for(h=this.qa.length;m<h;m++)if(this.qa[m]instanceof x){p=this.qa[m];break}p||(p=new x(this),p.yj=[],p.xj=new H,p.ca&&p.ca(),this.qa.push(p),Pb.Tq&&p instanceof Pb.Tq&&(this.Mm=p));-1===
p.yj.indexOf(f)&&p.yj.push(f);m=new p.Xa(p,f);m.name=d[0];m.O=d[2];m.ca();f.qa.push(m)}f.global=b[9];f.dj=b[10];f.D=[];l=0;for(k=b[12].length;l<k;l++)f.D.push({id:b[12][l][0],name:b[12][l][1],Oa:-1,Cb:!0,index:l});f.Ls=b[13];this.lk&&!f.J&&!f.dj&&n.yd||f.ca();f.name&&(this.types[f.name]=f);this.n.push(f);n.Rh&&(l=new n.La(f),l.uid=this.ag++,l.vm=this.dm++,l.Yd=0,l.Ff=qb,l.toString=rb,l.H=b[14],l.ca(),f.d.push(l),this.Cd[l.uid.toString()]=l)}a=0;for(e=c[4].length;a<e;a++)for(m=c[4][a],h=this.n[m[0]],
l=1,k=m.length;l<k;l++)b=this.n[m[l]],b.fa.push(h),h.le.push(b);a=0;for(e=c[27].length;a<e;a++){m=c[27][a];h=[];l=0;for(k=m.length;l<k;l++)h.push(this.n[m[l]]);l=0;for(k=h.length;l<k;l++)h[l].Jb=!0,h[l].nb=h}if(0<this.zf)for(a=0,e=this.n.length;a<e;a++)if(b=this.n[a],!b.J&&b.fa.length){b.Pg=Array(this.zf);b.He=Array(this.zf);b.Qk=Array(this.zf);f=[];l=p=x=d=0;for(k=b.fa.length;l<k;l++)for(n=b.fa[l],b.Pg[n.Vc]=d,d+=n.er,b.He[n.Vc]=x,x+=n.Xn,b.Qk[n.Vc]=p,p+=n.ip,m=0,h=n.D.length;m<h;m++)f.push(sa({},
n.D[m]));b.D=f.concat(b.D);l=0;for(k=b.D.length;l<k;l++)b.D[l].index=l}a=0;for(e=c[5].length;a<e;a++)b=c[5][a],l=new sb(this,b),this.pj[l.name]=l,this.kc.push(l);a=0;for(e=c[6].length;a<e;a++)b=c[6][a],l=new tb(this,b),this.Gi[l.name]=l,this.Uc.push(l);a=0;for(e=this.Uc.length;a<e;a++)this.Uc[a].oa();a=0;for(e=this.Uc.length;a<e;a++)this.Uc[a].hn();a=0;for(e=this.ai.length;a<e;a++)this.ai[a].oa();this.ai.length=0;this.Vn=c[7];this.Ed=c[9];this.pf=1;this.Fo=c[13];this.V=c[14];this.ii=c[15];this.dr=
c[17];this.Cj=c[20];this.Wn=0<this.Cj;this.uq=c[22];this.Tb=this.nn=c[23];this.Ao=c[24];this.zq=c[25];this.Th=Date.now();this.yh.length=0;this.Sp()};var p=!1;a.prototype.gr=function(c,a){c.cocoonLazyLoad=!0;c.onerror=function(a){p=c.Ck=!0;console&&console.error&&console.error("Error loading image '"+c.src+"': ",a)};this.ic?c.src=a:c.src||("undefined"!==typeof XAPKReader?XAPKReader.get(a,function(a){c.src=a},function(e){p=c.Ck=!0;console&&console.error&&console.error("Error extracting image '"+a+"' from expansion file: ",
e)}):c.src=a);this.lf.push(c)};a.prototype.gp=function(c){var a,e;a=0;for(e=this.lf.length;a<e;a++)if(this.lf[a].io===c)return this.lf[a];return null};var e=0,k=!1;a.prototype.Lp=function(){this.qf&&(e=this.qf.Is(this.Vn))};a.prototype.zk=function(){var c=e,a=0,l=0,m=!0,b,h,l=0;for(b=this.lf.length;l<b;l++){h=this.lf[l];var d=h.ho;if(!d||0>=d)d=5E4;c+=d;h.src&&(h.complete||h.loaded)&&!h.Ck?a+=d:m=!1}m&&this.zq&&this.qf&&(k||(this.qf.Js(),k=!0),l=this.qf.Cs(),a+=l,l<e&&(m=!1));this.qe=0==c?0:a/c;return m};
a.prototype.go=function(){if(this.X||this.u){var c=this.X||this.Dj;this.Na&&this.pm();this.qe=0;this.Cl=-1;if(this.zk())this.Mp();else{var a=Date.now()-this.Th;if(c){var e=this.width,l=this.height,m=this.devicePixelRatio;this.Na&&(e=this.Hg,l=this.Gg,m=1);if(3!==this.Sf&&(this.hc||500<=a&&this.Cl!=this.qe)){c.clearRect(0,0,e,l);var a=e/2,l=l/2,e=0===this.Sf&&this.Se.complete,k=40*m,b=0,h=80*m,d;e&&(h=this.Se.width*m,d=this.Se.height*m,k=h/2,b=d/2,c.drawImage(this.Se,P(a-k),P(l-b),h,d));1>=this.Sf?
(a=P(a-k)+.5,l=P(l+(b+(e?12*m:0)))+.5,c.fillStyle=p?"red":"DodgerBlue",c.fillRect(a,l,Math.floor(h*this.qe),6*m),c.strokeStyle="black",c.strokeRect(a,l,h,6*m),c.strokeStyle="white",c.strokeRect(a-1*m,l-1*m,h+2*m,8*m)):2===this.Sf&&(c.font=this.ic?"12pt ArialMT":"12pt Arial",c.fillStyle=p?"#f00":"#999",c.Ks="middle",m=Math.round(100*this.qe)+"%",e=c.measureText?c.measureText(m):null,c.fillText(m,a-(e?e.width:0)/2,l))}this.Cl=this.qe}setTimeout(function(c){return function(){c.go()}}(this),this.hc?10:
100)}}};a.prototype.Mp=function(){this.Na&&(this.canvas.parentNode.removeChild(this.Na),this.Na=this.Dj=null);this.Th=Date.now();this.he=Ma();var c,a,e;if(this.lk)for(c=0,a=this.n.length;c<a;c++)e=this.n[c],e.J||e.dj||!e.Da.yd||e.ca();else this.fh=!1;c=0;for(a=this.kc.length;c<a;c++)this.kc[c].jo();2<=this.Gb&&(c=this.Ca/this.Ba,a=this.width/this.height,this.pf=2!==this.Gb&&a>c||2===this.Gb&&a<c?this.height/this.Ba:this.width/this.Ca);this.Uk?this.pj[this.Uk].bk():this.kc[0].bk();this.lk||(this.uh=
1,this.trigger(Z.prototype.F.rk,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();c=0;for(a=this.n.length;c<a;c++)e=this.n[c],e.mq&&e.mq();this.Zb(!1);this.ae&&AppMobi.webview.execute("onGameReady();")};var v=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.Zb=function(c){if(this.da){var a=Ma();if(this.Np&&this.Kj&&29>a-this.jj)this.Kj=
!1,this.jj=a,v?this.Kh=v(this.Yh,this.canvas):this.Zh=setTimeout(this.Yh,this.wd?1:16);else{this.Kj=!0;this.jj=a;var e=this.Gb,l=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.be;(l||this.Lf)&&0<this.Wd&&(e=this.Wd);0<e&&(!this.wl||window.self!==window.top)&&(e=window.innerHeight,this.Qf===window.innerWidth&&this.Pf===e||this.setSize(g(),q()));this.Va||(l?(this.Qg||(this.Mi=jQuery(this.canvas).css("margin")||"0",this.Qg=!0),this.$g||
this.xd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Qg?(this.$g||this.xd||jQuery(this.canvas).css("margin",this.Mi),this.Mi="",this.Qg=!1,0===this.Gb&&this.setSize(Math.round(this.im/this.devicePixelRatio),Math.round(this.hm/this.devicePixelRatio),!0)):(this.im=this.width,this.hm=this.height));this.fh&&(l=this.zk(),this.uh=this.qe,l&&(this.fh=
!1,this.qe=1,this.trigger(Z.prototype.F.rk,null)));this.gq();!this.S&&!this.hc||this.gj||this.mg||c||(this.S=!1,this.u?this.fc():this.Sc(),this.Sh&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Sh[0],this.Sh[1]),this.trigger(Z.prototype.F.Fn,null)),this.Sh=null));this.Ds||(this.$b++,this.Fe++,this.Sg++);this.Yf+=Ma()-a;this.Mf||c||(v?this.Kh=v(this.Yh,this.canvas):this.Zh=setTimeout(this.Yh,this.wd?1:16))}}};a.prototype.gq=function(){var c,a,e,l,m,k,h,b,d;c=Ma();1E3<=c-this.he&&
(this.he+=1E3,1E3<=c-this.he&&(this.he=c),this.Li=this.Sg,this.Sg=0,this.xi=this.Yf,this.Yf=0);this.Xl&&(0!==this.ih&&(a=c-this.ih,0!==a||this.Xp?(this.Tc=a/1E3,.5<this.Tc?this.Tc=0:.1<this.Tc&&(this.Tc=.1)):(10<=this.Ns&&(this.Xl=!1),this.Tc=1/60)),this.ih=c);this.Ee=this.Tc*this.pg;this.ee.add(this.Ee);this.ei.add(this.Tc);c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Lf)&&!this.be;2<=this.Gb||c&&0<this.Wd?(a=this.Ca/this.Ba,e=
this.width/this.height,l=this.Gb,c&&0<this.Wd&&(l=this.Wd),this.pf=2!==l&&e>a||2===l&&e<a?this.height/this.Ba:this.width/this.Ca,this.da&&(this.da.Bm(this.da.scrollX),this.da.Cm(this.da.scrollY))):this.pf=this.de?this.devicePixelRatio:1;this.Qa();this.jc++;this.Jc.Kq();this.jc--;this.Qa();this.jc++;e=this.fm.Od();c=0;for(a=e.length;c<a;c++)e[c].Es();c=0;for(a=this.n.length;c<a;c++)if(h=this.n[c],!h.J&&(h.qa.length||h.fa.length))for(e=0,l=h.d.length;e<l;e++)for(b=h.d[e],m=0,k=b.I.length;m<k;m++)b.I[m].Zb();
c=0;for(a=this.n.length;c<a;c++)if(h=this.n[c],!h.J&&(h.qa.length||h.fa.length))for(e=0,l=h.d.length;e<l;e++)for(b=h.d[e],m=0,k=b.I.length;m<k;m++)d=b.I[m],d.yq&&d.yq();e=this.zj.Od();c=0;for(a=e.length;c<a;c++)e[c].Zb();this.jc--;this.Op();for(c=0;this.vi&&10>c++;)this.Nk(this.vi);c=0;for(a=this.Uc.length;c<a;c++)this.Uc[c].Vi=!1;this.da.xf&&this.da.xf.ta();this.Lh.length=0;this.jc++;c=0;for(a=this.n.length;c<a;c++)if(h=this.n[c],!h.J&&(h.qa.length||h.fa.length))for(e=0,l=h.d.length;e<l;e++)for(b=
h.d[e],m=0,k=b.I.length;m<k;m++)d=b.I[m],d.Tm&&d.Tm();e=this.gm.Od();c=0;for(a=e.length;c<a;c++)e[c].Tm();this.jc--};a.prototype.Nk=function(c){var a=this.da;this.da.Vq();var e,l,m,k,h,b,d;if(this.u)for(e=0,l=this.n.length;e<l;e++)h=this.n[e],h.J||!h.bn||h.global&&0!==h.d.length||-1!==c.Jf.indexOf(h)||h.bn();a==c&&(this.Jc.yb.length=0);c.bk();e=0;for(l=this.n.length;e<l;e++)if(h=this.n[e],h.global||h.Da.Rh)for(c=0,a=h.d.length;c<a;c++)if(b=h.d[c],b.Aj&&b.Aj(),b.I)for(m=0,k=b.I.length;m<k;m++)d=b.I[m],
d.Aj&&d.Aj();this.S=!0;this.Qa()};a.prototype.Um=function(c){this.zj.add(c)};a.prototype.Ie=function(c){return c&&-1!==c.$f?this.Tc*c.$f:this.Ee};a.prototype.Sc=function(){this.da.Sc(this.X);this.ae&&this.X.present()};a.prototype.fc=function(){this.da.fc(this.u);this.u.Bq()};a.prototype.vk=function(c){c&&this.Lg.push(c)};a.prototype.Gq=function(c){Aa(this.Lg,c)};a.prototype.Ri=function(c){c=c.toString();return this.Cd.hasOwnProperty(c)?this.Cd[c]:null};var h=[];a.prototype.Pd=function(c){var a,e;
a=c.type.name;var l=null;if(this.Td.hasOwnProperty(a)){if(l=this.Td[a],l.contains(c))return}else l=h.length?h.pop():new H,this.Td[a]=l;l.add(c);this.ud=!0;if(c.Jb)for(a=0,e=c.siblings.length;a<e;a++)this.Pd(c.siblings[a]);this.cj&&l.jf.push(c);this.jc++;this.trigger(Object.getPrototypeOf(c.type.Da).F.Hn,c);this.jc--};a.prototype.Qa=function(){if(this.ud){var c,a,e,l,m,k;this.cj=!0;e=0;for(m=this.ec.length;e<m;++e)for(c=this.ec[e],a=c.type,a.d.push(c),l=0,k=a.fa.length;l<k;++l)a.fa[l].d.push(c),a.fa[l].gf=
!0;this.ec.length=0;this.Bn();La(this.Td);this.ud=this.cj=!1}};a.prototype.Bn=function(){for(var c in this.Td)this.Td.hasOwnProperty(c)&&this.tn(this.Td[c])};a.prototype.tn=function(c){var a=c.Od(),e=a[0].type,l,m,k,b,d,f;Na(e.d,c);e.gf=!0;0===e.d.length&&(e.wg=!1);l=0;for(m=e.fa.length;l<m;++l)f=e.fa[l],Na(f.d,c),f.gf=!0;l=0;for(m=this.Jc.yb.length;l<m;++l)if(d=this.Jc.yb[l],d.xb.hasOwnProperty(e.index)&&Na(d.xb[e.index].$d,c),!e.J)for(k=0,b=e.fa.length;k<b;++k)f=e.fa[k],d.xb.hasOwnProperty(f.index)&&
Na(d.xb[f.index].$d,c);if(d=a[0].k){if(d.vc)for(k=d.d,l=0,m=k.length;l<m;++l)b=k[l],c.contains(b)&&(b.ea(),d.ub.update(b,b.hb,null),b.hb.set(0,0,-1,-1));Na(d.d,c);d.ig(0)}for(l=0;l<a.length;++l)this.sn(a[l],e);c.clear();h.push(c);this.S=!0};a.prototype.sn=function(c,a){var e,l,m;e=0;for(l=this.Lg.length;e<l;++e)this.Lg[e](c);c.pd&&a.Eg.update(c,c.pd,null);(e=c.k)&&e.Ze(c,!0);if(c.I)for(e=0,l=c.I.length;e<l;++e)m=c.I[e],m.bg&&m.bg(),m.behavior.xj.remove(c);this.fm.remove(c);this.zj.remove(c);this.gm.remove(c);
c.bg&&c.bg();this.Cd.hasOwnProperty(c.uid.toString())&&delete this.Cd[c.uid.toString()];this.zh--;100>a.Kg.length&&a.Kg.push(c)};a.prototype.Jk=function(c,a,e,l){if(c.J){var m=P(Math.random()*c.le.length);return this.Jk(c.le[m],a,e,l)}return c.Sb?this.qd(c.Sb,a,!1,e,l,!1):null};var w=[];a.prototype.qd=function(c,a,e,l,m,k){var h,b,d,f;if(!c)return null;var n=this.n[c[1]],x=n.Da.yd;if(this.fh&&x&&!n.dj||x&&!this.u&&11===c[0][11])return null;var p=a;x||(a=null);var g;n.Kg.length?(g=n.Kg.pop(),g.Mb=
!0,n.Da.La.call(g,n)):(g=new n.Da.La(n),g.Mb=!1);g.uid=e&&!k?c[2]:this.ag++;this.Cd[g.uid.toString()]=g;g.vm=this.dm++;g.Yd=n.d.length;h=0;for(b=this.ec.length;h<b;++h)this.ec[h].type===n&&g.Yd++;g.Ff=qb;g.toString=rb;d=c[3];if(g.Mb)La(g.T);else{g.T={};if("undefined"!==typeof cr_is_preview)for(g.ll=[],g.ll.length=d.length,h=0,b=d.length;h<b;h++)g.ll[h]=d[h][1];g.Aa=[];g.Aa.length=d.length}h=0;for(b=d.length;h<b;h++)g.Aa[h]=d[h][0];if(x){var v=c[0];g.x=ea(l)?v[0]:l;g.y=ea(m)?v[1]:m;g.z=v[2];g.width=
v[3];g.height=v[4];g.depth=v[5];g.j=v[6];g.opacity=v[7];g.qb=v[8];g.rb=v[9];g.Za=v[10];h=v[11];!this.u&&n.D.length&&(g.Za=h);g.tf=Wa(g.Za);this.m&&Xa(g,g.Za,this.m);if(g.Mb){h=0;for(b=v[12].length;h<b;h++)for(d=0,f=v[12][h].length;d<f;d++)g.la[h][d]=v[12][h][d];g.ja.set(0,0,0,0);g.pd.set(0,0,-1,-1);g.hb.set(0,0,-1,-1);g.bb.jg(g.ja);g.ni.length=0}else{g.la=v[12].slice(0);h=0;for(b=g.la.length;h<b;h++)g.la[h]=v[12][h].slice(0);g.P=[];g.jd=[];g.jd.length=n.D.length;g.ja=new Q(0,0,0,0);g.pd=new Q(0,0,
-1,-1);g.hb=new Q(0,0,-1,-1);g.bb=new ra;g.ni=[];g.C=ub;g.xs=vb;g.ob=wb;g.ea=xb;g.cr=yb;g.jn=zb;g.Bc=Ab}g.og=!1;g.Zq=0;g.Yq=0;g.Xq=null;14===v.length&&(g.og=!0,g.Zq=v[13][0],g.Yq=v[13][1],g.Xq=v[13][2]);h=0;for(b=n.D.length;h<b;h++)g.jd[h]=!0;g.ed=Bb;g.ed();g.ln=!!g.P.length;g.mi=!0;g.pi=!0;n.vg=!0;g.visible=!0;g.$f=-1;g.k=a;g.wc=a.d.length;"undefined"===typeof g.Q&&(g.Q=null);this.S=g.Oc=!0}var q;h=w.length=0;for(b=n.fa.length;h<b;h++)w.push.apply(w,n.fa[h].qa);w.push.apply(w,n.qa);if(g.Mb)for(h=
0,b=w.length;h<b;h++){var y=w[h];q=g.I[h];q.Mb=!0;y.behavior.La.call(q,y,g);v=c[4][h];d=0;for(f=v.length;d<f;d++)q.H[d]=v[d];q.ca();y.behavior.xj.add(g)}else for(g.I=[],h=0,b=w.length;h<b;h++)y=w[h],q=new y.behavior.La(y,g),q.Mb=!1,q.H=c[4][h].slice(0),q.ca(),g.I.push(q),y.behavior.xj.add(g);v=c[5];if(g.Mb)for(h=0,b=v.length;h<b;h++)g.H[h]=v[h];else g.H=v.slice(0);this.ec.push(g);this.ud=!0;a&&(a.of(g,!0),1!==a.$c||1!==a.ad)&&(n.wg=!0);this.zh++;if(n.Jb){if(g.Jb=!0,g.Mb?g.siblings.length=0:g.siblings=
[],!e&&!k){h=0;for(b=n.nb.length;h<b;h++)if(n.nb[h]!==n){if(!n.nb[h].Sb)return null;g.siblings.push(this.qd(n.nb[h].Sb,p,!1,x?g.x:l,x?g.y:m,!0))}h=0;for(b=g.siblings.length;h<b;h++)for(g.siblings[h].siblings.push(g),d=0;d<b;d++)h!==d&&g.siblings[h].siblings.push(g.siblings[d])}}else g.Jb=!1,g.siblings=null;g.ca();h=0;for(b=g.I.length;h<b;h++)g.I[h].xq&&g.I[h].xq();return g};a.prototype.qp=function(c){var a,e;a=0;for(e=this.da.K.length;a<e;a++){var l=this.da.K[a];if(Za(l.name,c))return l}return null};
a.prototype.rp=function(c){c=P(c);0>c&&(c=0);c>=this.da.K.length&&(c=this.da.K.length-1);return this.da.K[c]};a.prototype.wi=function(c){var a,e;a=0;for(e=c.length;a<e;a++)c[a].U().ba=!0};a.prototype.fg=function(c){var a,e;a=0;for(e=c.length;a<e;a++)c[a].fg()};a.prototype.Gh=function(c){var a,e;a=0;for(e=c.length;a<e;a++)c[a].Gh()};a.prototype.pe=function(c){var a,e;a=0;for(e=c.length;a<e;a++)c[a].pe()};a.prototype.dn=function(c){if(c.vg){var a,e,l=c.d;a=0;for(e=l.length;a<e;++a)l[a].jn();l=this.ec;
a=0;for(e=l.length;a<e;++a)l[a].type===c&&l[a].jn();c.vg=!1}};a.prototype.Xk=function(c,a,e,l){var h,m,k=c?1!==c.$c||1!==c.ad:!1;if(a.J)for(c=0,h=a.le.length;c<h;++c)m=a.le[c],k||m.wg?ya(l,m.d):(this.dn(m),m.Eg.Jh(e,l));else k||a.wg?ya(l,a.d):(this.dn(a),a.Eg.Jh(e,l))};a.prototype.Ti=function(c,a,e,l){var h,m;h=0;for(m=a.length;h<m;++h)this.Xk(c,a[h],e,l)};a.prototype.xp=function(c,a,e){var l=this.Mm;l&&this.Ti(c,l.yj,a,e)};a.prototype.te=function(c,a){if(!(c&&a&&c!==a&&c.Oc&&a.Oc))return!1;c.ea();
a.ea();var e=c.k,l=a.k,h,m,k,b,d,f,n,g;if(e===l||e.$c===l.$c&&l.ad===l.ad&&e.scale===l.scale&&e.j===l.j&&e.ug===l.ug){if(!c.ja.Tp(a.ja)||!c.bb.ml(a.bb)||c.og&&a.og)return!1;if(c.og)return this.Om(c,a);if(a.og)return this.Om(a,c);n=c.Q&&!c.Q.Le();h=a.Q&&!a.Q.Le();if(!n&&!h)return!0;n?(c.Q.Be(c.width,c.height,c.j),n=c.Q):(this.rc.df(c.bb,c.x,c.y,c.width,c.height),n=this.rc);h?(a.Q.Be(a.width,a.height,a.j),g=a.Q):(this.rc.df(a.bb,a.x,a.y,a.width,a.height),g=this.rc);return n.Kf(g,a.x-c.x,a.y-c.y)}n=
c.Q&&!c.Q.Le();h=a.Q&&!a.Q.Le();n?(c.Q.Be(c.width,c.height,c.j),this.rc.Fm(c.Q)):this.rc.df(c.bb,c.x,c.y,c.width,c.height);n=this.rc;h?(a.Q.Be(a.width,a.height,a.j),this.ck.Fm(a.Q)):this.ck.df(a.bb,a.x,a.y,a.width,a.height);g=this.ck;h=0;for(m=n.mc;h<m;h++)k=2*h,b=k+1,d=n.Ea[k],f=n.Ea[b],n.Ea[k]=e.ga(d+c.x,f+c.y,!0),n.Ea[b]=e.ga(d+c.x,f+c.y,!1);n.ea();h=0;for(m=g.mc;h<m;h++)k=2*h,b=k+1,d=g.Ea[k],f=g.Ea[b],g.Ea[k]=l.ga(d+a.x,f+a.y,!0),g.Ea[b]=l.ga(d+a.x,f+a.y,!1);g.ea();return n.Kf(g,0,0)};var y=new ra;
new Q(0,0,0,0);var m=[];a.prototype.Om=function(c,a){var e,l,h,k,b=a.ja,d=c.x,f=c.y;c.zs(b,m);var n=a.Q&&!a.Q.Le();e=0;for(l=m.length;e<l;++e)if(h=m[e],k=h.Fs,b.Up(k,d,f)&&(y.jg(k),y.offset(d,f),y.ml(a.bb)))if(n)if(a.Q.Be(a.width,a.height,a.j),h.Gj){if(h.Gj.Kf(a.Q,a.x-(d+k.left),a.y-(f+k.top)))return m.length=0,!0}else{if(this.rc.df(y,0,0,k.right-k.left,k.bottom-k.top),this.rc.Kf(a.Q,a.x,a.y))return m.length=0,!0}else if(h.Gj){if(this.rc.df(a.bb,0,0,a.width,a.height),h.Gj.Kf(this.rc,-(d+k.left),-(f+
k.top)))return m.length=0,!0}else return m.length=0,!0;m.length=0;return!1};a.prototype.Zm=function(c,a){if(!a)return!1;var e,l,h,m,k;e=0;for(l=c.qa.length;e<l;e++)if(c.qa[e].behavior instanceof a)return!0;if(!c.J)for(e=0,l=c.fa.length;e<l;e++)for(k=c.fa[e],h=0,m=k.qa.length;h<m;h++)if(k.qa[h].behavior instanceof a)return!0;return!1};a.prototype.$m=function(c){return this.Zm(c,Pb.Mr)};a.prototype.hk=function(c){return this.Zm(c,Pb.Nr)};var l=[];a.prototype.tc=function(c){var a,e,h;c.ea();this.xp(c.k,
c.ja,l);a=0;for(e=l.length;a<e;++a)if(h=l[a],h.T.solidEnabled&&this.te(c,h))return l.length=0,h;l.length=0;return null};a.prototype.Fq=function(c,a,e,l){l=l||50;var h=c.x,m=c.y,k,b=null,d=null;for(k=0;k<l;k++)if(c.x=h+a*k,c.y=m+e*k,c.C(),!this.te(c,b)&&((b=this.tc(c))&&(d=b),!b&&!b))return d&&this.Dq(c,a,e,d),!0;c.x=h;c.y=m;c.C();return!1};a.prototype.Dq=function(c,a,e,l){var h=2,m,k=!1;m=!1;for(var b=c.x,d=c.y;16>=h;)m=1/h,h*=2,c.x+=a*m*(k?1:-1),c.y+=e*m*(k?1:-1),c.C(),this.te(c,l)?m=k=!0:(m=k=!1,
b=c.x,d=c.y);m&&(c.x=b,c.y=d,c.C())};a.prototype.wm=function(c,a){var e=ea(a)?100:a,l=0,h=c.x,m=c.y,k=0,b=0,d=0,f=this.tc(c);if(!f)return!0;for(;l<=e;){switch(k){case 0:b=0;d=-1;l++;break;case 1:b=1;d=-1;break;case 2:b=1;d=0;break;case 3:d=b=1;break;case 4:b=0;d=1;break;case 5:b=-1;d=1;break;case 6:b=-1;d=0;break;case 7:d=b=-1}k=(k+1)%8;c.x=P(h+b*l);c.y=P(m+d*l);c.C();if(!this.te(c,f)&&(f=this.tc(c),!f))return!0}c.x=h;c.y=m;c.C();return!1};a.prototype.gg=function(c,a){c.Oc&&a.Oc&&this.Lh.push([c,
a])};a.prototype.co=function(c,a){var e,l,h;e=0;for(l=this.Lh.length;e<l;e++)if(h=this.Lh[e],h[0]==c&&h[1]==a||h[0]==a&&h[1]==c)return!0;return!1};a.prototype.ao=function(c,a,e){var l=c.x,h=c.y,m=ia(10,Ia(a,e,l,h)),k=Fa(a,e,l,h),b=this.tc(c);if(!b)return T(k+ma);var d=b,f,n,g,x,p=S(5);for(f=1;36>f;f++)if(n=k-f*p,c.x=a+Math.cos(n)*m,c.y=e+Math.sin(n)*m,c.C(),!this.te(c,d)&&(d=this.tc(c),!d)){g=n;break}36===f&&(g=T(k+ma));d=b;for(f=1;36>f;f++)if(n=k+f*p,c.x=a+Math.cos(n)*m,c.y=e+Math.sin(n)*m,c.C(),
!this.te(c,d)&&(d=this.tc(c),!d)){x=n;break}36===f&&(x=T(k+ma));c.x=l;c.y=h;c.C();if(x===g)return x;c=Ga(x,g)/2;c=U(x,g)?T(g+c+ma):T(x+c);g=Math.cos(k);k=Math.sin(k);x=Math.cos(c);c=Math.sin(c);a=g*x+k*c;return Fa(0,0,g-2*a*x,k-2*a*c)};var x=-1;a.prototype.trigger=function(c,a,e){if(!this.da)return!1;var l=this.da.xf;if(!l)return!1;var h=!1,m,k,b;x++;var d=l.Ci;k=0;for(b=d.length;k<b;++k)m=this.Wm(c,a,d[k],e),h=h||m;m=this.Wm(c,a,l,e);x--;return h||m};a.prototype.Wm=function(c,a,e,l){var h=!1,m,k,
b,d;if(a)for(b=this.fk(c,a,a.type.name,e,l),h=h||b,d=a.type.fa,m=0,k=d.length;m<k;++m)b=this.fk(c,a,d[m].name,e,l),h=h||b;else b=this.fk(c,a,"system",e,l),h=h||b;return h};a.prototype.fk=function(c,a,e,l,h){var m,k=!1,b=!1,b="undefined"!==typeof h,d=(b?l.Sk:l.Xm)[e];if(!d)return k;var f=null;l=0;for(m=d.length;l<m;++l)if(d[l].method==c){f=d[l].yf;break}if(!f)return k;c=b?f[h]:f;if(!c)return null;l=0;for(m=c.length;l<m;l++)h=c[l][0],b=c[l][1],b=this.ep(a,e,h,b),k=k||b;return k};a.prototype.ep=function(c,
a,e,l){var h,m,k=!1;this.gk++;var b=this.Sa().Eb;b&&this.fg(b.Jd);var d=1<this.gk;this.fg(e.Jd);d&&this.Eq();var f=this.Hh(e);f.Eb=e;c&&(h=this.types[a].U(),h.ba=!1,h.d.length=1,h.d[0]=c,this.types[a].yc());c=!0;if(e.parent){a=f.Nm;for(h=e.parent;h;)a.push(h),h=h.parent;a.reverse();h=0;for(m=a.length;h<m;h++)if(!a[h].Mq()){c=!1;break}}c&&(this.Fe++,e.lc?e.Lq(l):e.ta(),k=k||f.ge);this.Dh();d&&this.wq();this.pe(e.Jd);b&&this.pe(b.Jd);this.ud&&0===this.jc&&0===x&&!this.ej&&this.Qa();this.gk--;return k};
a.prototype.Yk=function(){var c=this.Sa();return c.Eb.Ha[c.za]};a.prototype.lp=function(){var c=this.Sa();return c.Eb.Ob[c.Bb]};a.prototype.Eq=function(){this.wh++;this.wh>=this.vj.length&&this.vj.push([])};a.prototype.wq=function(){this.wh--};a.prototype.Zk=function(){return this.vj[this.wh]};a.prototype.Hh=function(c){this.Og++;this.Og>=this.Fi.length&&this.Fi.push(new Cb);var a=this.Sa();a.reset(c);return a};a.prototype.Dh=function(){this.Og--};a.prototype.Sa=function(){return this.Fi[this.Og]};
a.prototype.$k=function(c,a){for(var e,l,h,m,k,b;a;){e=0;for(l=a.Yb.length;e<l;e++)if(b=a.Yb[e],b instanceof Db&&Za(c,b.name))return b;a=a.parent}e=0;for(l=this.Uc.length;e<l;e++)for(k=this.Uc[e],h=0,m=k.sd.length;h<m;h++)if(b=k.sd[h],b instanceof Db&&Za(c,b.name))return b;return null};a.prototype.bl=function(c){var a,e;a=0;for(e=this.kc.length;a<e;a++)if(this.kc[a].O===c)return this.kc[a];return null};a.prototype.Df=function(a){var e,l;e=0;for(l=this.n.length;e<l;e++)if(this.n[e].O===a)return this.n[e];
return null};a.prototype.np=function(a){var e,l;e=0;for(l=this.Ae.length;e<l;e++)if(this.Ae[e].O===a)return this.Ae[e];return null};a.prototype.Op=function(){var a=this,e=this.Vj,l=this.Zc,h=this.qh,m=!1;this.Km&&(m=!0,e="__c2_continuouspreview",this.Km=!1);if(e.length){this.Qa();l=this.Qq();if(window.indexedDB&&!this.hc)u(e,l,function(){K("Saved state to IndexedDB storage ("+l.length+" bytes)");a.Zc=l;a.trigger(Z.prototype.F.hi,null);a.Zc="";m&&d()},function(h){try{localStorage.setItem("__c2save_"+
e,l),K("Saved state to WebStorage ("+l.length+" bytes)"),a.Zc=l,a.trigger(Z.prototype.F.hi,null),a.Zc="",m&&d()}catch(k){K("Failed to save game state: "+h+"; "+k)}});else try{localStorage.setItem("__c2save_"+e,l),K("Saved state to WebStorage ("+l.length+" bytes)"),a.Zc=l,this.trigger(Z.prototype.F.hi,null),a.Zc="",m&&d()}catch(k){K("Error saving to WebStorage: "+k)}this.Wa=this.qh=this.Vj=""}h.length&&(window.indexedDB&&!this.hc?t(h,function(e){e?(a.Wa=e,K("Loaded state from IndexedDB storage ("+
a.Wa.length+" bytes)")):(a.Wa=localStorage.getItem("__c2save_"+h)||"",K("Loaded state from WebStorage ("+a.Wa.length+" bytes)"));a.mg=!1;a.Wa.length||a.trigger(Z.prototype.F.gi,null)},function(){a.Wa=localStorage.getItem("__c2save_"+h)||"";K("Loaded state from WebStorage ("+a.Wa.length+" bytes)");a.mg=!1;a.Wa.length||a.trigger(Z.prototype.F.gi,null)}):(this.Wa=localStorage.getItem("__c2save_"+h)||"",K("Loaded state from WebStorage ("+this.Wa.length+" bytes)"),this.mg=!1,a.Wa.length||a.trigger(Z.prototype.F.gi,
null)),this.Vj=this.qh="");this.Wa.length&&(this.Qa(),this.dq(this.Wa),this.Zc=this.Wa,this.trigger(Z.prototype.F.Kn,null),this.Wa=this.Zc="")};a.prototype.Qq=function(){var a,e,l,h,m,k,d,f={c2save:!0,version:1,rt:{time:this.ee.Pa,walltime:this.ei.Pa,timescale:this.pg,tickcount:this.$b,execcount:this.Fe,next_uid:this.ag,running_layout:this.da.O,start_time_offset:Date.now()-this.Th},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(e=this.n.length;a<e;a++)if(m=this.n[a],!m.J&&
!this.$m(m)){k={instances:[]};Ka(m.T)&&(k.ex=b(m.T));l=0;for(h=m.d.length;l<h;l++)k.instances.push(this.Uj(m.d[l]));f.types[m.O.toString()]=k}a=0;for(e=this.kc.length;a<e;a++)l=this.kc[a],f.layouts[l.O.toString()]=l.ib();h=f.events.groups;a=0;for(e=this.Ae.length;a<e;a++)l=this.Ae[a],h[l.O.toString()]=this.Yg[l.Gf].Xg;e=f.events.cnds;for(d in this.De)this.De.hasOwnProperty(d)&&(a=this.De[d],Ka(a.T)&&(e[d]={ex:b(a.T)}));e=f.events.acts;for(d in this.ze)this.ze.hasOwnProperty(d)&&(a=this.ze[d],Ka(a.T)&&
(e[d]={ex:a.T}));e=f.events.vars;for(d in this.kf)this.kf.hasOwnProperty(d)&&(a=this.kf[d],a.bh||a.parent&&!a.Nf||(e[d]=a.data));f.system=this.Jc.ib();return JSON.stringify(f)};a.prototype.xm=function(){var a,e,l,h,m,k;this.Cd={};a=0;for(e=this.n.length;a<e;a++)if(l=this.n[a],!l.J)for(h=0,m=l.d.length;h<m;h++)k=l.d[h],this.Cd[k.uid.toString()]=k};a.prototype.dq=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var e=a.rt;this.ee.reset();this.ee.Pa=e.time;this.ei.reset();this.ei.Pa=e.walltime||
0;this.pg=e.timescale;this.$b=e.tickcount;this.Th=Date.now()-e.start_time_offset;var l=e.running_layout;if(l!==this.da.O)if(l=this.bl(l))this.Nk(l);else return;var h,m,k,b,d,f,n;f=a.types;for(m in f)if(f.hasOwnProperty(m)&&(b=this.Df(parseInt(m,10)))&&!b.J&&!this.$m(b)){f[m].ex?b.T=f[m].ex:La(b.T);d=b.d;k=f[m].instances;l=0;for(h=la(d.length,k.length);l<h;l++)this.rh(d[l],k[l]);l=k.length;for(h=d.length;l<h;l++)this.Pd(d[l]);l=d.length;for(h=k.length;l<h;l++){d=null;if(b.Da.yd&&(d=this.da.Vg(k[l].w.l),
!d))continue;d=this.qd(b.Sb,d,!1,0,0,!0);this.rh(d,k[l])}b.gf=!0}this.Qa();this.xm();h=a.layouts;for(m in h)h.hasOwnProperty(m)&&(l=this.bl(parseInt(m,10)))&&l.Lb(h[m]);h=a.events.groups;for(m in h)h.hasOwnProperty(m)&&(l=this.np(parseInt(m,10)))&&this.Yg[l.Gf]&&(this.Yg[l.Gf].Xg=h[m]);l=a.events.cnds;for(m in l)l.hasOwnProperty(m)&&this.De.hasOwnProperty(m)&&(this.De[m].T=l[m].ex);l=a.events.acts;for(m in l)l.hasOwnProperty(m)&&this.ze.hasOwnProperty(m)&&(this.ze[m].T=l[m].ex);l=a.events.vars;for(m in l)l.hasOwnProperty(m)&&
this.kf.hasOwnProperty(m)&&(this.kf[m].data=l[m]);this.ag=e.next_uid;this.Jc.Lb(a.system);l=0;for(h=this.n.length;l<h;l++)if(b=this.n[l],!b.J)for(m=0,a=b.d.length;m<a;m++){d=b.d[m];if(b.Jb)for(f=d.Ff(),e=d.siblings.length=0,k=b.nb.length;e<k;e++)n=b.nb[e],b!==n&&d.siblings.push(n.d[f]);d.kd&&d.kd();if(d.I)for(e=0,k=d.I.length;e<k;e++)f=d.I[e],f.kd&&f.kd()}this.S=!0}};a.prototype.Uj=function(a,e){var l,h,m,k,d;k=a.type;m=k.Da;var f={};e?f.c2=!0:f.uid=a.uid;Ka(a.T)&&(f.ex=b(a.T));if(a.Aa&&a.Aa.length)for(f.ivs=
{},l=0,h=a.Aa.length;l<h;l++)f.ivs[a.type.aj[l].toString()]=a.Aa[l];if(m.yd){m={x:a.x,y:a.y,w:a.width,h:a.height,l:a.k.O,zi:a.Bc()};0!==a.j&&(m.a=a.j);1!==a.opacity&&(m.o=a.opacity);.5!==a.qb&&(m.hX=a.qb);.5!==a.rb&&(m.hY=a.rb);0!==a.Za&&(m.bm=a.Za);a.visible||(m.v=a.visible);a.Oc||(m.ce=a.Oc);-1!==a.$f&&(m.mts=a.$f);if(k.D.length)for(m.fx=[],l=0,h=k.D.length;l<h;l++)d=k.D[l],m.fx.push({name:d.name,active:a.jd[d.index],params:a.la[d.index]});f.w=m}if(a.I&&a.I.length)for(f.behs={},l=0,h=a.I.length;l<
h;l++)k=a.I[l],k.ib&&(f.behs[k.type.O.toString()]=k.ib());a.ib&&(f.data=a.ib());return f};a.prototype.pp=function(a,e){var l,h;l=0;for(h=a.aj.length;l<h;l++)if(a.aj[l]===e)return l;return-1};a.prototype.kp=function(a,e){var l,h;l=0;for(h=a.I.length;l<h;l++)if(a.I[l].type.O===e)return l;return-1};a.prototype.rh=function(a,e,l){var h,m,k,b,d;d=a.type;k=d.Da;if(l){if(!e.c2)return}else a.uid=e.uid;e.ex?a.T=e.ex:La(a.T);if(m=e.ivs)for(h in m)m.hasOwnProperty(h)&&(l=this.pp(d,parseInt(h,10)),0>l||l>=a.Aa.length||
(a.Aa[l]=m[h]));if(k.yd){k=e.w;a.k.O!==k.l&&(l=a.k,a.k=this.da.Vg(k.l),a.k?(l.Ze(a,!0),a.k.of(a,!0),a.C(),a.k.ig(0)):(a.k=l,this.Pd(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.wc=k.zi;a.j=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.qb=k.hasOwnProperty("hX")?k.hX:.5;a.rb=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.Oc=k.hasOwnProperty("ce")?k.ce:!0;a.$f=k.hasOwnProperty("mts")?k.mts:-1;a.Za=k.hasOwnProperty("bm")?k.bm:0;a.tf=Wa(a.Za);this.m&&Xa(a,
a.Za,this.m);a.C();if(k.hasOwnProperty("fx"))for(l=0,m=k.fx.length;l<m;l++)b=d.Qi(k.fx[l].name),0>b||(a.jd[b]=k.fx[l].active,a.la[b]=k.fx[l].params);a.ed()}if(d=e.behs)for(h in d)d.hasOwnProperty(h)&&(k=this.kp(a,parseInt(h,10)),0>k||a.I[k].Lb(d[h]));e.data&&a.Lb(e.data)};Eb=function(c){return new a(document.getElementById(c))};Fb=function(c,e){return new a({dc:!0,width:c,height:e})};window.cr_createRuntime=Eb;window.cr_createDCRuntime=Fb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=
!0;var c=document.createElement("screencanvas")||document.createElement("canvas");c.Hs=!0;document.body.appendChild(c);c=new a(c);window.c2runtime=c;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c};window.createEjectaRuntime=function(){var c=new a(document.getElementById("canvas"));window.c2runtime=c;window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return c}})();window.cr_getC2Runtime=function(){var g=document.getElementById("c2canvas");return g?g.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(g,q){if(0!==g&&0!==q){var a=window.cr_getC2Runtime();a&&a.setSize(g,q)}};window.cr_setSuspended=function(g){var q=window.cr_getC2Runtime();q&&q.setSuspended(g)};
(function(){function g(a,k){this.b=a;this.xf=null;this.scrollX=this.b.Ca/2;this.scrollY=this.b.Ba/2;this.scale=1;this.j=0;this.Bf=!0;this.name=k[0];this.width=k[1];this.height=k[2];this.an=k[3];this.Im=k[4];this.O=k[5];var b=k[6],h,d;this.K=[];this.Jf=[];h=0;for(d=b.length;h<d;h++){var f=new Gb(this,b[h]);f.em=h;this.K.push(f)}b=k[7];this.Zd=[];h=0;for(d=b.length;h<d;h++){var f=b[h],m=this.b.n[f[1]];m.Sb||(m.Sb=f);this.Zd.push(f);-1===this.Jf.indexOf(m)&&this.Jf.push(m)}this.D=[];this.P=[];this.la=
[];h=0;for(d=k[8].length;h<d;h++)this.D.push({id:k[8][h][0],name:k[8][h][1],Oa:-1,Cb:!0,index:h}),this.la.push(k[8][h][2].slice(0));this.ed();this.Ye=new Q(0,0,1,1);this.Lj=new Q(0,0,1,1);this.Dd={}}function q(a,k){return a.wc-k.wc}function a(a,k){this.Y=a;this.b=a.b;this.d=[];this.scale=1;this.j=0;this.Ud=!1;this.cd=new Q(0,0,0,0);this.Vm=new ra;this.xa=this.na=this.ya=this.ma=0;this.ve=!1;this.gd=-1;this.name=k[0];this.index=k[1];this.O=k[2];this.visible=k[3];this.md=k[4];this.dd=k[5];this.$c=k[6];
this.ad=k[7];this.opacity=k[8];this.Ki=k[9];this.vc=k[10];this.ug=k[11];this.Za=k[12];this.Eo=k[13];this.tf="source-over";this.Ra=this.Ta=0;this.ub=null;this.Re=f();this.bd=!0;this.hh=new Q(0,0,-1,-1);this.Rb=new Q(0,0,-1,-1);this.vc&&(this.ub=new Va(this.b.Ca,this.b.Ba));this.Hd=!1;var b=k[14],h,d;this.Je=[];h=0;for(d=b.length;h<d;h++){var n=b[h],m=this.b.n[n[1]];m.Sb||(m.Sb=n,m.mo=this.index);this.Je.push(n);-1===this.Y.Jf.indexOf(m)&&this.Y.Jf.push(m)}this.D=[];this.P=[];this.la=[];h=0;for(d=k[15].length;h<
d;h++)this.D.push({id:k[15][h][0],name:k[15][h][1],Oa:-1,Cb:!0,index:h}),this.la.push(k[15][h][2].slice(0));this.ed();this.Ye=new Q(0,0,1,1);this.Lj=new Q(0,0,1,1)}function f(){return b.length?b.pop():[]}function u(a){a.length=0;b.push(a)}g.prototype.Pq=function(a){var k=a.type.O.toString();this.Dd.hasOwnProperty(k)||(this.Dd[k]=[]);this.Dd[k].push(this.b.Uj(a))};g.prototype.fl=function(){var a=this.K[0];return!a.dd&&1===a.opacity&&!a.Ki&&a.visible};g.prototype.ed=function(){this.P.length=0;var a,
k,b;a=0;for(k=this.D.length;a<k;a++)b=this.D[a],b.Cb&&this.P.push(b)};g.prototype.Pi=function(a){var k,b,h;k=0;for(b=this.D.length;k<b;k++)if(h=this.D[k],h.name===a)return h;return null};var t=[],d=!0;g.prototype.bk=function(){this.Im&&(this.xf=this.b.Gi[this.Im],this.xf.hn());this.b.da=this;this.scrollX=this.b.Ca/2;this.scrollY=this.b.Ba/2;var a,k,b,h,f,n,m;a=0;for(b=this.b.n.length;a<b;a++)if(k=this.b.n[a],!k.J)for(f=k.d,k=0,h=f.length;k<h;k++)if(n=f[k],n.k){var l=n.k.em;l>=this.K.length&&(l=this.K.length-
1);n.k=this.K[l];-1===n.k.d.indexOf(n)&&n.k.d.push(n);n.k.ve=!0}if(!d)for(a=0,b=this.K.length;a<b;++a)this.K[a].d.sort(q);t.length=0;this.Zn();a=0;for(b=this.K.length;a<b;a++)n=this.K[a],n.ko(),n.jk();f=!1;if(!this.Bf){for(m in this.Dd)if(this.Dd.hasOwnProperty(m)&&(k=this.b.Df(parseInt(m,10)))&&!k.J&&this.b.hk(k)){h=this.Dd[m];a=0;for(b=h.length;a<b;a++){n=null;if(k.Da.yd&&(n=this.Vg(h[a].w.l),!n))continue;n=this.b.qd(k.Sb,n,!1,0,0,!0);this.b.rh(n,h[a]);f=!0;t.push(n)}h.length=0}a=0;for(b=this.K.length;a<
b;a++)this.K[a].d.sort(q),this.K[a].ve=!0}f&&(this.b.Qa(),this.b.xm());for(a=0;a<t.length;a++)if(n=t[a],n.type.Jb)for(b=n.Ff(),k=0,h=n.type.nb.length;k<h;k++)m=n.type.nb[k],n.type!==m&&(m.d.length>b?n.siblings.push(m.d[b]):m.Sb&&(f=this.b.qd(m.Sb,n.k,!0,n.x,n.y,!0),this.b.Qa(),m.bi(),n.siblings.push(f),t.push(f)));a=0;for(b=this.Zd.length;a<b;a++)this.b.qd(this.Zd[a],null,!0);this.b.vi=null;this.b.Qa();if(this.b.X&&!this.b.Va)for(a=0,b=this.b.n.length;a<b;a++)m=this.b.n[a],!m.J&&m.d.length&&m.qm&&
m.qm(this.b.X);a=0;for(b=t.length;a<b;a++)n=t[a],this.b.trigger(Object.getPrototypeOf(n.type.Da).F.fi,n);t.length=0;this.b.trigger(Z.prototype.F.qk,null);this.Bf=!1};g.prototype.jo=function(){var a,k,b,h,d;k=a=0;for(b=this.Zd.length;a<b;a++)h=this.Zd[a],d=this.b.n[h[1]],d.global?this.b.qd(h,null,!0):(this.Zd[k]=h,k++);this.Zd.length=k};g.prototype.Vq=function(){this.b.trigger(Z.prototype.F.Jn,null);this.b.Jc.yb.length=0;var a,k,b,h,f,n;a=0;for(k=this.K.length;a<k;a++)for(this.K[a].kk(),f=this.K[a].d,
b=0,h=f.length;b<h;b++)n=f[b],n.type.global||this.b.hk(n.type)&&this.Pq(n);a=0;for(k=this.K.length;a<k;a++){f=this.K[a].d;b=0;for(h=f.length;b<h;b++)n=f[b],n.type.global||this.b.Pd(n);this.b.Qa();f.length=0;this.K[a].ve=!0}a=0;for(k=this.b.n.length;a<k;a++)if(f=this.b.n[a],!(f.global||f.Da.yd||f.Da.Rh||f.J)){b=0;for(h=f.d.length;b<h;b++)this.b.Pd(f.d[b]);this.b.Qa()}d=!1};g.prototype.Sc=function(a){var k,b=a,h=!1,d=!this.b.Tb;d&&(this.b.oh||(this.b.oh=document.createElement("canvas"),k=this.b.oh,
k.width=this.b.N,k.height=this.b.M,this.b.El=k.getContext("2d"),h=!0),k=this.b.oh,b=this.b.El,k.width!==this.b.N&&(k.width=this.b.N,h=!0),k.height!==this.b.M&&(k.height=this.b.M,h=!0),h&&(b.webkitImageSmoothingEnabled=this.b.V,b.mozImageSmoothingEnabled=this.b.V,b.msImageSmoothingEnabled=this.b.V,b.imageSmoothingEnabled=this.b.V));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.ii&&!this.fl()&&b.clearRect(0,0,this.b.N,this.b.M);var f,m,h=0;for(f=this.K.length;h<f;h++)m=this.K[h],m.visible&&
0<m.opacity&&11!==m.Za&&(m.d.length||!m.dd)?m.Sc(b):m.jk();d&&a.drawImage(k,0,0,this.b.width,this.b.height)};g.prototype.fc=function(a){var k=0<this.P.length||this.b.hf||!this.b.Tb;if(k){this.b.sb||(this.b.sb=a.Pc(this.b.N,this.b.M,this.b.V));if(this.b.sb.sf!==this.b.N||this.b.sb.rf!==this.b.M)a.deleteTexture(this.b.sb),this.b.sb=a.Pc(this.b.N,this.b.M,this.b.V);a.Gc(this.b.sb);this.b.Tb||a.cf(this.b.N,this.b.M)}else this.b.sb&&(a.Gc(null),a.deleteTexture(this.b.sb),this.b.sb=null);this.b.ii&&!this.fl()&&
a.clear(0,0,0,0);var b,h,d;b=0;for(h=this.K.length;b<h;b++)d=this.K[b],d.visible&&0<d.opacity&&(d.d.length||!d.dd)?d.fc(a):d.jk();k&&(0===this.P.length||1===this.P.length&&this.b.Tb?(1===this.P.length?(k=this.P[0].index,a.Ic(this.P[0].Oa),a.bf(null,1/this.b.N,1/this.b.M,0,0,1,1,this.scale,this.j,0,0,this.b.N/2,this.b.M/2,this.la[k]),a.Fh(this.P[0].Oa)&&(this.b.S=!0)):a.Ic(0),this.b.Tb||a.cf(this.b.width,this.b.height),a.Gc(null),a.$e(1),a.Nb(this.b.sb),a.Dm(),a.Fc(),a.Kc(),k=this.b.width/2,b=this.b.height/
2,a.Ih(-k,b,k,b,k,-b,-k,-b),a.Nb(null)):this.Mj(a,null,null,null))};g.prototype.Ef=function(){return 0<this.P.length||this.b.hf||!this.b.Tb?this.b.sb:null};g.prototype.cl=function(){var a=this.K[0].Ib(),b,d,h;b=1;for(d=this.K.length;b<d;b++)h=this.K[b],(0!==h.$c||0!==h.ad)&&h.Ib()<a&&(a=h.Ib());return a};g.prototype.Bm=function(a){if(!this.an){var b=1/this.cl()*this.b.N/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.S=!0)};g.prototype.Cm=function(a){if(!this.an){var b=
1/this.cl()*this.b.M/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.S=!0)};g.prototype.Zn=function(){this.Bm(this.scrollX);this.Cm(this.scrollY)};g.prototype.Mj=function(a,b,d,h){var f=d?d.P:b?b.P:this.P,n=1,m=0,l=0,g=0,c=this.b.N,r=this.b.M;d?(n=d.k.Ib(),m=d.k.Hb(),l=d.k.ma,g=d.k.na,c=d.k.ya,r=d.k.xa):b&&(n=b.Ib(),m=b.Hb(),l=b.ma,g=b.na,c=b.ya,r=b.xa);var s=this.b.Ni,p,q,u,t,I=0,Ua=1,ja,G=this.b.N,E=this.b.M,ta=G/2,ka=E/2,C=b?b.Ye:this.Ye,z=b?b.Lj:this.Lj,
D=0,M=0,A=0,N=0,J=G,pa=G,F=E,qa=E,ba=u=0,ua=d?d.k.Hb():0;if(d){p=0;for(q=f.length;p<q;p++)u+=a.up(f[p].Oa),ba+=a.vp(f[p].Oa);t=d.ja;D=b.ga(t.left,t.top,!0,!0);A=b.ga(t.left,t.top,!1,!0);J=b.ga(t.right,t.bottom,!0,!0);F=b.ga(t.right,t.bottom,!1,!0);0!==ua&&(p=b.ga(t.right,t.top,!0,!0),q=b.ga(t.right,t.top,!1,!0),M=b.ga(t.left,t.bottom,!0,!0),N=b.ga(t.left,t.bottom,!1,!0),t=Math.min(D,J,p,M),J=Math.max(D,J,p,M),D=t,t=Math.min(A,F,q,N),F=Math.max(A,F,q,N),A=t);D-=u;A-=ba;J+=u;F+=ba;z.left=D/G;z.top=
1-A/E;z.right=J/G;z.bottom=1-F/E;M=D=P(D);N=A=P(A);pa=J=na(J);qa=F=na(F);M-=u;N-=ba;pa+=u;qa+=ba;0>D&&(D=0);0>A&&(A=0);J>G&&(J=G);F>E&&(F=E);0>M&&(M=0);0>N&&(N=0);pa>G&&(pa=G);qa>E&&(qa=E);C.left=D/G;C.top=1-A/E;C.right=J/G;C.bottom=1-F/E}else C.left=z.left=0,C.top=z.top=0,C.right=z.right=1,C.bottom=z.bottom=1;ba=d&&((d.j||ua)&&a.dg(f[0].Oa)||0!==u||0!==ba||1!==d.opacity||d.type.Da.$l)||b&&!d&&1!==b.opacity;a.Dm();if(ba){s[I]||(s[I]=a.Pc(G,E,this.b.V));if(s[I].sf!==G||s[I].rf!==E)a.deleteTexture(s[I]),
s[I]=a.Pc(G,E,this.b.V);a.Ic(0);a.Gc(s[I]);ja=qa-N;a.clearRect(M,E-N-ja,pa-M,ja);d?d.fc(a):(a.Nb(this.b.Kb),a.$e(b.opacity),a.Fc(),a.translate(-ta,-ka),a.Kc(),a.Fd(D,F,J,F,J,A,D,A,C));z.left=z.top=0;z.right=z.bottom=1;d&&(t=C.top,C.top=C.bottom,C.bottom=t);I=1;Ua=0}a.$e(1);u=f.length-1;var ua=a.Hj(f[u].Oa)||!b&&!d&&!this.b.Tb,va=0;p=0;for(q=f.length;p<q;p++){s[I]||(s[I]=a.Pc(G,E,this.b.V));if(s[I].sf!==G||s[I].rf!==E)a.deleteTexture(s[I]),s[I]=a.Pc(G,E,this.b.V);a.Ic(f[p].Oa);va=f[p].index;a.Fh(f[p].Oa)&&
(this.b.S=!0);0!=p||ba?(a.bf(h,1/G,1/E,z.left,z.top,z.right,z.bottom,n,m,l,g,(l+c)/2,(g+r)/2,d?d.la[va]:b?b.la[va]:this.la[va]),a.Nb(null),p!==u||ua?(a.Gc(s[I]),ja=qa-N,t=E-N-ja,a.clearRect(M,t,pa-M,ja)):(d?a.Id(d.Ta,d.Ra):b&&a.Id(b.Ta,b.Ra),a.Gc(h)),a.Nb(s[Ua]),a.Fc(),a.translate(-ta,-ka),a.Kc(),a.Fd(D,F,J,F,J,A,D,A,C),p!==u||ua||a.Nb(null)):(a.Gc(s[I]),ja=qa-N,t=E-N-ja,a.clearRect(M,t,pa-M,ja),d?(a.bf(h,1/d.width,1/d.height,z.left,z.top,z.right,z.bottom,n,m,l,g,(l+c)/2,(g+r)/2,d.la[va]),d.fc(a)):
(a.bf(h,1/G,1/E,0,0,1,1,n,m,l,g,(l+c)/2,(g+r)/2,b?b.la[va]:this.la[va]),a.Nb(b?this.b.Kb:this.b.sb),a.Fc(),a.translate(-ta,-ka),a.Kc(),a.Fd(D,F,J,F,J,A,D,A,C)),z.left=z.top=0,z.right=z.bottom=1,d&&!ua&&(t=F,F=A,A=t));I=0===I?1:0;Ua=0===I?1:0}ua&&(a.Ic(0),d?a.Id(d.Ta,d.Ra):b?a.Id(b.Ta,b.Ra):this.b.Tb||(a.cf(this.b.width,this.b.height),ta=this.b.width/2,ka=this.b.height/2,A=D=0,J=this.b.width,F=this.b.height),a.Gc(h),a.Nb(s[Ua]),a.Fc(),a.translate(-ta,-ka),a.Kc(),d&&1===f.length&&!ba?a.Fd(D,A,J,A,J,
F,D,F,C):a.Fd(D,F,J,F,J,A,D,A,C),a.Nb(null))};g.prototype.Vg=function(a){var b,d;b=0;for(d=this.K.length;b<d;b++)if(this.K[b].O===a)return this.K[b];return null};g.prototype.ib=function(){var a,b,d,h={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.Bf,persist:this.Dd,fx:[],layers:{}};a=0;for(b=this.D.length;a<b;a++)d=this.D[a],h.fx.push({name:d.name,active:d.Cb,params:this.la[d.index]});a=0;for(b=this.K.length;a<b;a++)d=this.K[a],h.layers[d.O.toString()]=d.ib();
return h};g.prototype.Lb=function(a){var b,d,h,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.Dd=a.persist;"undefined"!==typeof a.fv&&(this.Bf=a.fv);var n=a.fx;b=0;for(d=n.length;b<d;b++)if(h=this.Pi(n[b].name))h.Cb=n[b].active,this.la[h.index]=n[b].params;this.ed();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.Vg(parseInt(f,10)))&&a.Lb(b[f])};sb=g;a.prototype.ed=function(){this.P.length=0;var a,b,d;a=0;for(b=this.D.length;a<b;a++)d=this.D[a],
d.Cb&&this.P.push(d)};a.prototype.Pi=function(a){var b,d,h;b=0;for(d=this.D.length;b<d;b++)if(h=this.D[b],h.name===a)return h;return null};a.prototype.ko=function(){var a,b,d,h,f,n;b=a=0;for(d=this.Je.length;a<d;a++){h=this.Je[a];f=this.b.n[h[1]];n=this.b.hk(f);f=!0;if(!n||this.Y.Bf)h=this.b.qd(h,this,!0),t.push(h),h.type.global&&(f=!1);f&&(this.Je[b]=this.Je[a],b++)}this.Je.length=b;this.b.Qa();!this.b.u&&this.D.length&&(this.Za=this.Eo);this.tf=Wa(this.Za);this.b.m&&Xa(this,this.Za,this.b.m);this.bd=
!0};a.prototype.Ze=function(a,b){var d=za(this.d,a);0>d||(b&&this.vc&&a.hb&&a.hb.right>=a.hb.left&&(a.ea(),this.ub.update(a,a.hb,null),a.hb.set(0,0,-1,-1)),d===this.d.length-1?this.d.pop():(wa(this.d,d),this.ig(d)),this.bd=!0)};a.prototype.of=function(a,b){a.wc=this.d.length;this.d.push(a);b&&this.vc&&a.hb&&a.C();this.bd=!0};a.prototype.Aq=function(a){this.d.unshift(a);this.ig(0)};a.prototype.lq=function(a,b,d){var h=a.Bc();b=b.Bc();wa(this.d,h);h<b&&b--;d&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,
0,a);this.ig(h<b?h:b)};a.prototype.ig=function(a){-1===this.gd?this.gd=a:a<this.gd&&(this.gd=a);this.bd=this.ve=!0};a.prototype.kk=function(){if(this.ve){-1===this.gd&&(this.gd=0);var a,b,d;if(this.vc)for(a=this.gd,b=this.d.length;a<b;++a)d=this.d[a],d.wc=a,this.ub.jq(d.hb);else for(a=this.gd,b=this.d.length;a<b;++a)this.d[a].wc=a;this.ve=!1;this.gd=-1}};a.prototype.Ib=function(a){return this.sp()*(this.b.Tb||a?this.b.pf:1)};a.prototype.sp=function(){return(this.scale*this.Y.scale-1)*this.ug+1};a.prototype.Hb=
function(){return this.Ud?0:T(this.Y.j+this.j)};var b=[],n=[],p=[];a.prototype.dl=function(){this.kk();this.ub.Jh(this.ma,this.na,this.ya,this.xa,p);if(!p.length)return f();if(1===p.length){var a=f();xa(a,p[0]);p.length=0;return a}for(var b=!0;1<p.length;){for(var a=p,d=void 0,h=void 0,g=void 0,q=void 0,m=void 0,d=0,h=a.length;d<h-1;d+=2){var g=a[d],q=a[d+1],m=f(),l=g,x=q,c=m,r=0,s=0,t=0,R=l.length,W=x.length,X=void 0,I=void 0;for(c.length=R+W;r<R&&s<W;++t)X=l[r],I=x[s],X.wc<I.wc?(c[t]=X,++r):(c[t]=
I,++s);for(;r<R;++r,++t)c[t]=l[r];for(;s<W;++s,++t)c[t]=x[s];b||(u(g),u(q));n.push(m)}1===h%2&&(b?(g=f(),xa(g,a[h-1]),n.push(g)):n.push(a[h-1]));xa(a,n);n.length=0;b=!1}a=p[0];p.length=0;return a};a.prototype.Sc=function(a){this.Hd=this.Ki||1!==this.opacity||0!==this.Za;var b=this.b.canvas,d=a,h=!1;this.Hd&&(this.b.nh||(this.b.nh=document.createElement("canvas"),b=this.b.nh,b.width=this.b.N,b.height=this.b.M,this.b.Dl=b.getContext("2d"),h=!0),b=this.b.nh,d=this.b.Dl,b.width!==this.b.N&&(b.width=this.b.N,
h=!0),b.height!==this.b.M&&(b.height=this.b.M,h=!0),h&&(d.webkitImageSmoothingEnabled=this.b.V,d.mozImageSmoothingEnabled=this.b.V,d.msImageSmoothingEnabled=this.b.V,d.imageSmoothingEnabled=this.b.V),this.dd&&d.clearRect(0,0,this.b.N,this.b.M));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.dd||(d.fillStyle="rgb("+this.md[0]+","+this.md[1]+","+this.md[2]+")",d.fillRect(0,0,this.b.N,this.b.M));d.save();this.Ud=!0;var h=this.Ce(!0),f=this.Ce(!1);this.Ud=!1;this.b.Ed&&(h=Math.round(h),
f=Math.round(f));this.Qj(h,f,d);var n=this.Ib();d.scale(n,n);d.translate(-h,-f);this.vc?(this.Rb.left=this.ub.zb(this.ma),this.Rb.top=this.ub.Ab(this.na),this.Rb.right=this.ub.zb(this.ya),this.Rb.bottom=this.ub.Ab(this.xa),this.bd||!this.Rb.Ng(this.hh)?(u(this.Re),h=this.dl(),this.bd=!1,this.hh.Fg(this.Rb)):h=this.Re):h=this.d;for(var m,l=null,f=0,n=h.length;f<n;++f)m=h[f],m!==l&&(this.Bo(m,d),l=m);this.vc&&(this.Re=h);d.restore();this.Hd&&(a.globalCompositeOperation=this.tf,a.globalAlpha=this.opacity,
a.drawImage(b,0,0))};a.prototype.Bo=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var d=a.ja;d.right<this.ma||d.bottom<this.na||d.left>this.ya||d.top>this.xa||(b.globalCompositeOperation=a.tf,a.Sc(b))}};a.prototype.jk=function(){this.Ud=!0;var a=this.Ce(!0),b=this.Ce(!1);this.Ud=!1;this.b.Ed&&(a=Math.round(a),b=Math.round(b));this.Qj(a,b,null)};a.prototype.Qj=function(a,b,d){var h=this.Ib();this.ma=a;this.na=b;this.ya=a+1/h*this.b.N;this.xa=b+1/h*this.b.M;a=this.Hb();0!==a&&(d&&(d.translate(this.b.N/
2,this.b.M/2),d.rotate(-a),d.translate(this.b.N/-2,this.b.M/-2)),this.cd.set(this.ma,this.na,this.ya,this.xa),this.cd.offset((this.ma+this.ya)/-2,(this.na+this.xa)/-2),this.Vm.Gm(this.cd,a),this.Vm.Bk(this.cd),this.cd.offset((this.ma+this.ya)/2,(this.na+this.xa)/2),this.ma=this.cd.left,this.na=this.cd.top,this.ya=this.cd.right,this.xa=this.cd.bottom)};a.prototype.fc=function(a){var b=0,d=0;if(this.Hd=this.Ki||1!==this.opacity||0<this.P.length||0!==this.Za){this.b.Kb||(this.b.Kb=a.Pc(this.b.N,this.b.M,
this.b.V));if(this.b.Kb.sf!==this.b.N||this.b.Kb.rf!==this.b.M)a.deleteTexture(this.b.Kb),this.b.Kb=a.Pc(this.b.N,this.b.M,this.b.V);a.Gc(this.b.Kb);this.dd&&a.clear(0,0,0,0)}this.dd||a.clear(this.md[0]/255,this.md[1]/255,this.md[2]/255,1);this.Ud=!0;var h=this.Ce(!0),b=this.Ce(!1);this.Ud=!1;this.b.Ed&&(h=Math.round(h),b=Math.round(b));this.Qj(h,b,null);h=this.Ib();a.Fc();a.scale(h,h);a.Rj(-this.Hb());a.translate((this.ma+this.ya)/-2,(this.na+this.xa)/-2);a.Kc();this.vc?(this.Rb.left=this.ub.zb(this.ma),
this.Rb.top=this.ub.Ab(this.na),this.Rb.right=this.ub.zb(this.ya),this.Rb.bottom=this.ub.Ab(this.xa),this.bd||!this.Rb.Ng(this.hh)?(u(this.Re),b=this.dl(),this.bd=!1,this.hh.Fg(this.Rb)):b=this.Re):b=this.d;var f,n,m=null,d=0;for(f=b.length;d<f;++d)n=b[d],n!==m&&(this.Co(b[d],a),m=n);this.vc&&(this.Re=b);this.Hd&&(b=this.P.length?this.P[0].Oa:0,d=this.P.length?this.P[0].index:0,0===this.P.length||1===this.P.length&&!a.Hj(b)&&1===this.opacity?(1===this.P.length?(a.Ic(b),a.bf(this.Y.Ef(),1/this.b.N,
1/this.b.M,0,0,1,1,h,this.Hb(),this.ma,this.na,(this.ma+this.ya)/2,(this.na+this.xa)/2,this.la[d]),a.Fh(b)&&(this.b.S=!0)):a.Ic(0),a.Gc(this.Y.Ef()),a.$e(this.opacity),a.Nb(this.b.Kb),a.Id(this.Ta,this.Ra),a.Fc(),a.Kc(),h=this.b.N/2,b=this.b.M/2,a.Ih(-h,b,h,b,h,-b,-h,-b),a.Nb(null)):this.Y.Mj(a,this,null,this.Y.Ef()))};a.prototype.Co=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var d=a.ja;d.right<this.ma||d.bottom<this.na||d.left>this.ya||d.top>this.xa||(a.ln?this.Do(a,b):(b.Ic(0),
b.Id(a.Ta,a.Ra),a.fc(b)))}};a.prototype.Do=function(a,b){var d=a.P[0].Oa,h=a.P[0].index,f=this.Ib();if(1!==a.P.length||b.Hj(d)||b.Cq(d)||(a.j||a.k.Hb())&&b.dg(d)||1!==a.opacity||a.type.Da.$l)this.Y.Mj(b,this,a,this.Hd?this.b.Kb:this.Y.Ef()),b.Fc(),b.scale(f,f),b.Rj(-this.Hb()),b.translate((this.ma+this.ya)/-2,(this.na+this.xa)/-2),b.Kc();else{b.Ic(d);b.Id(a.Ta,a.Ra);b.Fh(d)&&(this.b.S=!0);var n=0,m=0,l=0,g=0;b.dg(d)&&(d=a.ja,n=this.ga(d.left,d.top,!0,!0),m=this.ga(d.left,d.top,!1,!0),l=this.ga(d.right,
d.bottom,!0,!0),d=this.ga(d.right,d.bottom,!1,!0),n/=windowWidth,m=1-m/windowHeight,l/=windowWidth,g=1-d/windowHeight);b.bf(this.Hd?this.b.Kb:this.Y.Ef(),1/a.width,1/a.height,n,m,l,g,f,this.Hb(),this.ma,this.na,(this.ma+this.ya)/2,(this.na+this.xa)/2,a.la[h]);a.fc(b)}};a.prototype.Ce=function(a){var b=0,d=0,h=this.b.devicePixelRatio;this.b.de&&(b*=h,d*=h);var h=this.b.lm,f=this.b.mm,h=(this.Y.scrollX-h)*this.$c+h,f=(this.Y.scrollY-f)*this.ad+f,n=1/this.Ib(!1),h=h-this.b.N*n/2,f=f-this.b.M*n/2,h=h+
b*n,f=f+d*n,d=this.Hb();0!==d&&(h-=this.Y.scrollX,f-=this.Y.scrollY,b=Math.cos(d),d=Math.sin(d),n=h*b-f*d,f=f*b+h*d,h=n+this.Y.scrollX,f+=this.Y.scrollY);return a?h:f};a.prototype.ga=function(a,b,d,h){var f=this.Hb();if(0!==f){a-=this.Y.scrollX;b-=this.Y.scrollY;var n=Math.cos(-f),f=Math.sin(-f),m=a*n-b*f;b=b*n+a*f;a=m+this.Y.scrollX;b+=this.Y.scrollY}n=this.b.lm;f=this.b.mm;n=(this.Y.scrollX-n)*this.$c+n;f=(this.Y.scrollY-f)*this.ad+f;m=1/this.Ib(!h);h?(n-=this.b.N*m/2,f-=this.b.M*m/2):(n-=this.b.width*
m/2,f-=this.b.height*m/2);n=(a-n)/m;f=(b-f)/m;a=this.b.devicePixelRatio;this.b.de&&!h&&(n/=a,f/=a);return d?n:f};a.prototype.ib=function(){var a,b,d,h={s:this.scale,a:this.j,vl:this.ma,vt:this.na,vr:this.ya,vb:this.xa,v:this.visible,bc:this.md,t:this.dd,px:this.$c,py:this.ad,o:this.opacity,zr:this.ug,fx:[],instances:[]};a=0;for(b=this.D.length;a<b;a++)d=this.D[a],h.fx.push({name:d.name,active:d.Cb,params:this.la[d.index]});return h};a.prototype.Lb=function(a){var b,d;this.scale=a.s;this.j=a.a;this.ma=
a.vl;this.na=a.vt;this.ya=a.vr;this.xa=a.vb;this.visible=a.v;this.md=a.bc;this.dd=a.t;this.$c=a.px;this.ad=a.py;this.opacity=a.o;this.ug=a.zr;var h=a.fx;a=0;for(b=h.length;a<b;a++)if(d=this.Pi(h[a].name))d.Cb=h[a].active,this.la[d.index]=h[a].params;this.ed();this.d.sort(q);this.ve=!0};Gb=a})();
(function(){function g(a,l){var b,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===l[0];case 2:return a[0]===l[0]&&a[1]===l[1];default:for(b=0;b<c;b++)if(a[b]!==l[b])return!1;return!0}}function q(a,b){return a.index-b.index}function a(a){var b,d,c,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(q);a.length>=h.length&&(h.length=a.length+1);h[a.length]||(h[a.length]=[]);e=h[a.length];b=0;for(d=e.length;b<d;b++)if(c=e[b],g(a,c))return c;e.push(a);return a}
function f(a,b){this.b=a;this.Xm={};this.Sk={};this.Vi=!1;this.hl=new H;this.Ci=[];this.ji=[];this.name=b[0];var d=b[1];this.sd=[];var c,h;c=0;for(h=d.length;c<h;c++)this.jl(d[c],null,this.sd)}function u(a){this.type=a;this.d=[];this.R=[];this.ba=!0}function t(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ia=[];this.Jd=[];this.gl=this.$h=this.ek=this.Zi=this.group=this.Lm=!1;this.Ha=[];this.Ob=[];this.Yb=[];this.Gf="";this.Xg=this.Zi=this.group=!1;this.Ik=null;d[1]&&(this.Gf=d[1][1].toLowerCase(),
this.group=!0,this.Zi=!!d[1][0],this.Ik=[],this.Xg=this.Zi,this.b.Ae.push(this),this.b.Yg[this.Gf]=this);this.lc=d[2];this.O=d[4];this.group||(this.b.Ak[this.O.toString()]=this);var c=d[5];a=0;for(b=c.length;a<b;a++){var h=new Hb(this,c[a]);h.index=a;this.Ha.push(h);this.wk(h.type)}c=d[6];a=0;for(b=c.length;a<b;a++)h=new Ib(this,c[a]),h.index=a,this.Ob.push(h);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.jl(d[a],this,this.Yb);this.dh=!1;this.Ha.length&&(this.dh=null==this.Ha[0].type&&
this.Ha[0].Ma==Z.prototype.F.wn)}function d(a,b){var d,c,h;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Jb))for(d=0,c=a.nb.length;d<c;d++)h=a.nb[d],a!==h&&-1===b.indexOf(h)&&b.push(h)}function b(a,b){this.Db=a;this.sheet=a.sheet;this.b=a.b;this.G=[];this.Z=[];this.T={};this.index=-1;this.mf=!1;this.Ma=this.b.hd(b[1]);this.trigger=0<b[3];this.Rk=2===b[3];this.bj=b[5];this.cq=b[6];this.O=b[7];this.b.De[this.O.toString()]=this;-1===b[0]?(this.type=null,this.ta=this.Tj,this.Sd=null,this.Pb=-1):(this.type=this.b.n[b[0]],
this.ta=this.cq?this.Nq:this.Sj,b[2]?(this.Sd=this.type.Ug(b[2]),this.Pb=this.type.Oi(b[2])):(this.Sd=null,this.Pb=-1),this.Db.parent&&this.Db.parent.Ph());this.Rk&&(this.ta=this.Oq);if(10===b.length){var d,c,h=b[9];d=0;for(c=h.length;d<c;d++){var e=new Jb(this,h[d]);this.G.push(e)}this.Z.length=h.length}}function n(a,b){this.Db=a;this.sheet=a.sheet;this.b=a.b;this.G=[];this.Z=[];this.T={};this.index=-1;this.mf=!1;this.Ma=this.b.hd(b[1]);-1===b[0]?(this.type=null,this.ta=this.Tj,this.Sd=null,this.Pb=
-1):(this.type=this.b.n[b[0]],this.ta=this.Sj,b[2]?(this.Sd=this.type.Ug(b[2]),this.Pb=this.type.Oi(b[2])):(this.Sd=null,this.Pb=-1));this.O=b[3];this.b.ze[this.O.toString()]=this;if(6===b.length){var d,c,h=b[5];d=0;for(c=h.length;d<c;d++){var e=new Jb(this,h[d]);this.G.push(e)}this.Z.length=h.length}}function p(a,b){this.A=a;this.Db=a.Db;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Ac=null;this.Kd=0;this.get=null;this.Hk=0;this.Y=null;this.key=0;this.object=null;this.index=0;this.rg=this.se=
this.rg=this.se=this.Tk=this.Vd=this.sg=null;this.ac=!1;var d,c,h;switch(b[0]){case 0:case 7:this.Ac=new V(this,b[1]);this.Kd=0;this.get=this.Cp;break;case 1:this.Ac=new V(this,b[1]);this.Kd=0;this.get=this.Dp;break;case 5:this.Ac=new V(this,b[1]);this.Kd=0;this.get=this.Hp;break;case 3:case 8:this.Hk=b[1];this.get=this.Ap;break;case 6:this.Y=this.b.pj[b[1]];this.get=this.Ip;break;case 9:this.key=b[1];this.get=this.Gp;break;case 4:this.object=this.b.n[b[1]];this.get=this.Jp;this.Db.wk(this.object);
this.A instanceof Ib?this.Db.Ph():this.Db.parent&&this.Db.parent.Ph();break;case 10:this.index=b[1];a.type.J?(this.get=this.Ep,this.ac=!0):this.get=this.Fp;break;case 11:this.sg=b[1];this.Vd=null;this.get=this.Bp;break;case 2:case 12:this.Tk=b[1];this.get=this.zp;break;case 13:for(this.get=this.Kp,this.se=[],this.rg=[],d=1,c=b.length;d<c;d++)h=new Jb(this.A,b[d]),this.se.push(h),this.rg.push(0)}}function e(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ia=[];this.name=d[1];this.mn=d[2];this.Yi=
d[3];this.Nf=!!d[4];this.bh=!!d[5];this.O=d[6];this.b.kf[this.O.toString()]=this;this.data=this.Yi;this.parent?(this.ke=this.Nf||this.bh?-1:this.b.Uq++,this.b.Un.push(this)):(this.ke=-1,this.b.Tn.push(this))}function k(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ia=[];this.If=null;this.Qp=d[1];this.Cb=!0}function v(){this.Nm=[];this.reset(null)}var h=[];f.prototype.toString=function(){return this.name};f.prototype.jl=function(a,b,d){switch(a[0]){case 0:a=new Kb(this,b,a);if(a.lc)for(d.push(a),
d=0,b=a.Ha.length;d<b;d++)a.Ha[d].trigger&&this.kl(a,d);else a.ul()?this.kl(a,0):d.push(a);break;case 1:a=new Db(this,b,a);d.push(a);break;case 2:a=new Lb(this,b,a),d.push(a)}};f.prototype.oa=function(){var a,b;a=0;for(b=this.sd.length;a<b;a++)this.sd[a].oa(a<b-1&&this.sd[a+1].dh)};f.prototype.hn=function(){this.Ci.length=0;this.ji.length=0;this.uk(this);this.ji.length=0};f.prototype.uk=function(a){var b,d,c,h,e=a.Ci,f=a.ji,k=this.hl.Od();b=0;for(d=k.length;b<d;++b)c=k[b],h=c.If,!c.Cb||a===h||-1<
f.indexOf(h)||(f.push(h),h.uk(a),e.push(h))};f.prototype.ta=function(a){this.b.Gs||(this.Vi=!0,a||(this.b.ej=!0));var b,d;b=0;for(d=this.sd.length;b<d;b++){var c=this.sd[b];c.ta();this.b.wi(c.ia);this.b.ud&&this.b.Qa()}a||(this.b.ej=!1)};f.prototype.kl=function(a,b){a.lc||this.b.ai.push(a);var d,c,h=a.Ha[b],e;e=h.type?h.type.name:"system";var f=(d=h.Rk)?this.Sk:this.Xm;f[e]||(f[e]=[]);e=f[e];f=h.Ma;if(d){if(h.G.length&&(h=h.G[0],1===h.type&&2===h.Ac.type)){h=h.Ac.value.toLowerCase();d=0;for(c=e.length;d<
c;d++)if(e[d].method==f){d=e[d].yf;d[h]?d[h].push([a,b]):d[h]=[[a,b]];return}d={};d[h]=[[a,b]];e.push({method:f,yf:d})}}else{d=0;for(c=e.length;d<c;d++)if(e[d].method==f){e[d].yf.push([a,b]);return}Yb&&f===Yb.prototype.F.ye?e.unshift({method:f,yf:[[a,b]]}):e.push({method:f,yf:[[a,b]]})}};tb=f;u.prototype.el=function(){return this.ba?this.type.d.length:this.d.length};u.prototype.Ub=function(){return this.ba?this.type.d:this.d};u.prototype.cg=function(a){a&&(a.b.Sa().Eb.lc?(this.ba&&(this.d.length=
0,xa(this.R,a.type.d),this.ba=!1),a=this.R.indexOf(a),-1!==a&&(this.d.push(this.R[a]),this.R.splice(a,1))):(this.ba=!1,this.d.length=1,this.d[0]=a))};cb=u;window._c2hh_="";t.prototype.oa=function(b){var d,h=this.parent;if(this.group)for(this.$h=!0;h;){if(!h.group){this.$h=!1;break}h=h.parent}this.ek=!this.ul()&&(!this.parent||this.parent.group&&this.parent.$h);this.gl=!!b;this.Jd=this.ia.slice(0);for(h=this.parent;h;){b=0;for(d=h.ia.length;b<d;b++)this.Rn(h.ia[b]);h=h.parent}this.ia=a(this.ia);this.Jd=
a(this.Jd);b=0;for(d=this.Ha.length;b<d;b++)this.Ha[b].oa();b=0;for(d=this.Ob.length;b<d;b++)this.Ob[b].oa();b=0;for(d=this.Yb.length;b<d;b++)this.Yb[b].oa(b<d-1&&this.Yb[b+1].dh)};t.prototype.wk=function(a){d(a,this.ia)};t.prototype.Rn=function(a){d(a,this.Jd)};t.prototype.Ph=function(){this.Lm=!0;this.parent&&this.parent.Ph()};t.prototype.ul=function(){return this.Ha.length?this.Ha[0].trigger:!1};t.prototype.ta=function(){var a,b=!1,d,c=this.b,h=this.b.Sa();h.Eb=this;var e=this.Ha;this.dh||(h.Ei=
!1);if(this.lc){0===e.length&&(b=!0);h.za=0;for(a=e.length;h.za<a;h.za++)e[h.za].trigger||(d=e[h.za].ta())&&(b=!0);(h.ge=b)&&this.Oh()}else{h.za=0;for(a=e.length;h.za<a;h.za++)if(d=e[h.za].ta(),!d){h.ge=!1;this.ek&&c.ud&&c.Qa();return}h.ge=!0;this.Oh()}this.Go(h)};t.prototype.Go=function(a){a.ge&&this.gl&&(a.Ei=!0);this.ek&&this.b.ud&&this.b.Qa()};t.prototype.Lq=function(a){this.b.Sa().Eb=this;this.Ha[a].ta()&&(this.Oh(),this.b.Sa().ge=!0)};t.prototype.Oh=function(){var a=this.b.Sa(),b;a.Bb=0;for(b=
this.Ob.length;a.Bb<b;a.Bb++)if(this.Ob[a.Bb].ta())return;this.zm()};t.prototype.Iq=function(){var a=this.b.Sa(),b;for(b=this.Ob.length;a.Bb<b;a.Bb++)if(this.Ob[a.Bb].ta())return;this.zm()};t.prototype.zm=function(){if(this.Yb.length){var a,b,d,c,h=this.Yb.length-1;this.b.Hh(this);if(this.Lm)for(a=0,b=this.Yb.length;a<b;a++)d=this.Yb[a],(c=!this.$h||!this.group&&a<h)&&this.b.Gh(d.ia),d.ta(),c?this.b.pe(d.ia):this.b.wi(d.ia);else for(a=0,b=this.Yb.length;a<b;a++)this.Yb[a].ta();this.b.Dh()}};t.prototype.Mq=
function(){var a=this.b.Sa();a.Eb=this;var b=!1,d;a.za=0;for(d=this.Ha.length;a.za<d;a.za++)if(this.Ha[a.za].ta())b=!0;else if(!this.lc)return!1;return this.lc?b:!0};t.prototype.Jq=function(){this.b.Fe++;var a=this.b.Sa().za,b=this.b.Hh(this);if(!this.lc)for(b.za=a+1,a=this.Ha.length;b.za<a;b.za++)if(!this.Ha[b.za].ta()){this.b.Dh();return}this.Oh();this.b.Dh()};t.prototype.Zp=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Ha[b].type===a.type)return!1;return!0};Kb=t;b.prototype.oa=
function(){var a,b,d;a=0;for(b=this.G.length;a<b;a++)d=this.G[a],d.oa(),d.ac&&(this.mf=!0)};b.prototype.Oq=function(){return!0};b.prototype.Tj=function(){var a,b;a=0;for(b=this.G.length;a<b;a++)this.Z[a]=this.G[a].get();return Ja(this.Ma.apply(this.b.Jc,this.Z),this.bj)};b.prototype.Nq=function(){var a,b;a=0;for(b=this.G.length;a<b;a++)this.Z[a]=this.G[a].get();a=this.Ma.apply(this.Sd?this.Sd:this.type,this.Z);this.type.yc();return a};b.prototype.Sj=function(){var a,b,d,c,h,e,f,k,n=this.type,g=n.U(),
p=this.Db.lc&&!this.trigger;b=0;var q=n.Jb,u=n.J,t=n.Vc,w=this.Pb,y=-1<w,v=this.mf,C=this.G,z=this.Z,D=this.bj,M=this.Ma,A;if(v)for(b=0,h=C.length;b<h;++b)e=C[b],e.ac||(z[b]=e.get(0));else for(b=0,h=C.length;b<h;++b)z[b]=C[b].get(0);if(g.ba){g.d.length=0;g.R.length=0;A=n.d;a=0;for(c=A.length;a<c;++a){k=A[a];if(v)for(b=0,h=C.length;b<h;++b)e=C[b],e.ac&&(z[b]=e.get(a));y?(b=0,u&&(b=k.type.He[t]),b=M.apply(k.I[w+b],z)):b=M.apply(k,z);(f=Ja(b,D))?g.d.push(k):p&&g.R.push(k)}n.finish&&n.finish(!0);g.ba=
!1;n.yc();return g.el()}d=0;A=(f=p&&!this.Db.Zp(this))?g.R:g.d;var N=!1;a=0;for(c=A.length;a<c;++a){k=A[a];if(v)for(b=0,h=C.length;b<h;++b)e=C[b],e.ac&&(z[b]=e.get(a));y?(b=0,u&&(b=k.type.He[t]),b=M.apply(k.I[w+b],z)):b=M.apply(k,z);if(Ja(b,D))if(N=!0,f){if(g.d.push(k),q)for(b=0,h=k.siblings.length;b<h;b++)e=k.siblings[b],e.type.U().d.push(e)}else{A[d]=k;if(q)for(b=0,h=k.siblings.length;b<h;b++)e=k.siblings[b],e.type.U().d[d]=e;d++}else if(f){A[d]=k;if(q)for(b=0,h=k.siblings.length;b<h;b++)e=k.siblings[b],
e.type.U().R[d]=e;d++}else if(p&&(g.R.push(k),q))for(b=0,h=k.siblings.length;b<h;b++)e=k.siblings[b],e.type.U().R.push(e)}A.length=d;if(q)for(u=n.nb,a=0,c=u.length;a<c;a++)k=u[a].U(),f?k.R.length=d:k.d.length=d;d=N;if(f&&!N)for(a=0,c=g.d.length;a<c;a++){k=g.d[a];if(v)for(b=0,h=C.length;b<h;b++)e=C[b],e.ac&&(z[b]=e.get(a));b=y?M.apply(k.I[w],z):M.apply(k,z);if(Ja(b,D)){N=!0;break}}n.finish&&n.finish(d||p);return p?N:g.el()};Hb=b;n.prototype.oa=function(){var a,b,d;a=0;for(b=this.G.length;a<b;a++)d=
this.G[a],d.oa(),d.ac&&(this.mf=!0)};n.prototype.Tj=function(){var a,b;a=0;for(b=this.G.length;a<b;a++)this.Z[a]=this.G[a].get();return this.Ma.apply(this.b.Jc,this.Z)};n.prototype.Sj=function(){var a=this.type.U().Ub(),b=this.type.J,d=this.type.Vc,c=this.Pb,h=-1<c,e=this.mf,f=this.G,k=this.Z,n=this.Ma,g,p,q,u,t,w;if(e)for(p=0,u=f.length;p<u;++p)t=f[p],t.ac||(k[p]=t.get(0));else for(p=0,u=f.length;p<u;++p)k[p]=f[p].get(0);g=0;for(q=a.length;g<q;++g){w=a[g];if(e)for(p=0,u=f.length;p<u;++p)t=f[p],t.ac&&
(k[p]=t.get(g));h?(p=0,b&&(p=w.type.He[d]),n.apply(w.I[c+p],k)):n.apply(w,k)}return!1};Ib=n;var w=[],y=-1;p.prototype.oa=function(){var a,b;if(11===this.type)this.Vd=this.b.$k(this.sg,this.Db.parent);else if(13===this.type)for(a=0,b=this.se.length;a<b;a++)this.se[a].oa();this.Ac&&this.Ac.oa()};p.prototype.kq=function(a){this.ac||!a||a.Da.Rh||(this.ac=!0)};p.prototype.Em=function(){this.ac=!0};p.prototype.Fa=function(){y++;w.length===y&&w.push(new Mb);return w[y]};p.prototype.ra=function(){y--};p.prototype.Cp=
function(a){this.Kd=a||0;a=this.Fa();this.Ac.get(a);this.ra();return a.data};p.prototype.Dp=function(a){this.Kd=a||0;a=this.Fa();this.Ac.get(a);this.ra();return O(a.data)?a.data:""};p.prototype.Jp=function(){return this.object};p.prototype.Ap=function(){return this.Hk};p.prototype.Hp=function(a){this.Kd=a||0;a=this.Fa();this.Ac.get(a);this.ra();return a.Ia()?this.b.rp(a.data):this.b.qp(a.data)};p.prototype.Ip=function(){return this.Y};p.prototype.Gp=function(){return this.key};p.prototype.Fp=function(){return this.index};
p.prototype.Ep=function(a){a=a||0;var b=this.A.type,d=null,d=b.U(),c=d.Ub();if(c.length)d=c[a%c.length].type;else if(d.R.length)d=d.R[a%d.R.length].type;else if(b.d.length)d=b.d[a%b.d.length].type;else return 0;return this.index+d.Pg[b.Vc]};p.prototype.Bp=function(){return this.Vd};p.prototype.zp=function(){return this.Tk};p.prototype.Kp=function(){var a,b;a=0;for(b=this.se.length;a<b;a++)this.rg[a]=this.se[a].get();return this.rg};Jb=p;e.prototype.oa=function(){this.ia=a(this.ia)};e.prototype.Qh=
function(a){var b=this.b.Zk();this.parent&&!this.Nf&&b?(this.ke>=b.length&&(b.length=this.ke+1),b[this.ke]=a):this.data=a};e.prototype.Wg=function(){var a=this.b.Zk();return!this.parent||this.Nf||!a||this.bh?this.data:this.ke>=a.length||"undefined"===typeof a[this.ke]?this.Yi:a[this.ke]};e.prototype.ta=function(){!this.parent||this.Nf||this.bh||this.Qh(this.Yi)};Db=e;k.prototype.toString=function(){return"include:"+this.If.toString()};k.prototype.oa=function(){this.If=this.b.Gi[this.Qp];this.sheet.hl.add(this);
this.ia=a(this.ia);for(var b=this.parent;b;)b.group&&b.Ik.push(this),b=b.parent;this.$q()};k.prototype.ta=function(){this.parent&&this.b.fg(this.b.n);this.If.Vi||this.If.ta(!0);this.parent&&this.b.pe(this.b.n)};k.prototype.$q=function(){for(var a=this.parent;a;){if(a.group&&!a.Xg){this.Cb=!1;return}a=a.parent}this.Cb=!0};Lb=k;v.prototype.reset=function(a){this.Eb=a;this.Bb=this.za=0;this.Nm.length=0;this.Ei=this.ge=!1};Cb=v})();
(function(){function g(a,f){this.A=a;this.b=a.b;this.type=f[0];this.get=[this.So,this.Oo,this.$o,this.dp,this.Io,this.bp,this.Wo,this.Lo,this.Vo,this.Zo,this.Jo,this.Yo,this.Mo,this.Xo,this.To,this.Uo,this.Po,this.Qo,this.Ko,this.cp,this.Pk,this.Ro,this.Pk,this.No][this.type];var g=null;this.fb=this.G=this.Z=this.Ma=this.Xh=this.Ka=this.first=this.value=null;this.Pb=-1;this.Xc=null;this.mk=-1;this.Vd=this.sg=null;this.hg=!1;switch(this.type){case 0:case 1:case 2:this.value=f[1];break;case 3:this.first=
new V(a,f[1]);break;case 18:this.first=new V(a,f[1]);this.Ka=new V(a,f[2]);this.Xh=new V(a,f[3]);break;case 19:this.Ma=this.b.hd(f[1]);this.Ma!==Z.prototype.Fb.random&&this.Ma!==Z.prototype.Fb.eo||this.A.Em();this.Z=[];this.G=[];3===f.length?(g=f[2],this.Z.length=g.length+1):this.Z.length=1;break;case 20:this.fb=this.b.n[f[1]];this.Pb=-1;this.Ma=this.b.hd(f[2]);this.hg=f[3];Ob.Function&&this.Ma===Ob.Function.prototype.Fb.nr&&this.A.Em();this.Xc=f[4]?new V(a,f[4]):null;this.Z=[];this.G=[];6===f.length?
(g=f[5],this.Z.length=g.length+1):this.Z.length=1;break;case 21:this.fb=this.b.n[f[1]];this.hg=f[2];this.Xc=f[3]?new V(a,f[3]):null;this.mk=f[4];break;case 22:this.fb=this.b.n[f[1]];this.fb.Ug(f[2]);this.Pb=this.fb.Oi(f[2]);this.Ma=this.b.hd(f[3]);this.hg=f[4];this.Xc=f[5]?new V(a,f[5]):null;this.Z=[];this.G=[];7===f.length?(g=f[6],this.Z.length=g.length+1):this.Z.length=1;break;case 23:this.sg=f[1],this.Vd=null}this.A.kq(this.fb);4<=this.type&&17>=this.type&&(this.first=new V(a,f[1]),this.Ka=new V(a,
f[2]));if(g){var q,d;q=0;for(d=g.length;q<d;q++)this.G.push(new V(a,g[q]))}}function q(a,f){this.type=a||Y.xe;this.data=f||0;this.Ve=null;this.type==Y.xe&&(this.data=Math.floor(this.data))}g.prototype.oa=function(){23===this.type&&(this.Vd=this.A.b.$k(this.sg,this.A.Db.parent));this.first&&this.first.oa();this.Ka&&this.Ka.oa();this.Xh&&this.Xh.oa();this.Xc&&this.Xc.oa();if(this.G){var a,f;a=0;for(f=this.G.length;a<f;a++)this.G[a].oa()}};g.prototype.cp=function(a){this.Z[0]=a;a=this.A.Fa();var f,g;
f=0;for(g=this.G.length;f<g;f++)this.G[f].get(a),this.Z[f+1]=a.data;this.A.ra();this.Ma.apply(this.b.Jc,this.Z)};g.prototype.Pk=function(a){var f=this.fb.U(),g=f.Ub();if(!g.length)if(f.R.length)g=f.R;else{this.hg?a.wb(""):a.aa(0);return}this.Z[0]=a;a.Ve=this.fb;a=this.A.Fa();var q,f=0;for(q=this.G.length;f<q;f++)this.G[f].get(a),this.Z[f+1]=a.data;f=this.A.Kd;this.Xc&&(this.Xc.get(a),a.Ia()&&(f=a.data,g=this.fb.d));this.A.ra();f%=g.length;0>f&&(f+=g.length);g=g[f];-1<this.Pb?(a=0,this.fb.J&&(a=g.type.He[this.fb.Vc]),
this.Ma.apply(g.I[this.Pb+a],this.Z)):this.Ma.apply(g,this.Z)};g.prototype.Ro=function(a){var f=this.fb.U(),g=f.Ub();if(!g.length)if(f.R.length)g=f.R;else{this.hg?a.wb(""):a.aa(0);return}f=this.A.Kd;if(this.Xc){var q=this.A.Fa();this.Xc.get(q);if(q.Ia()){f=q.data;g=this.fb.d;f%=g.length;0>f&&(f+=g.length);g=g[f].Aa[this.mk];O(g)?a.wb(g):a.L(g);this.A.ra();return}this.A.ra()}f%=g.length;0>f&&(f+=g.length);g=g[f];f=0;this.fb.J&&(f=g.type.Pg[this.fb.Vc]);g=g.Aa[this.mk+f];O(g)?a.wb(g):a.L(g)};g.prototype.So=
function(a){a.type=Y.xe;a.data=this.value};g.prototype.Oo=function(a){a.type=Y.we;a.data=this.value};g.prototype.$o=function(a){a.type=Y.String;a.data=this.value};g.prototype.dp=function(a){this.first.get(a);a.Ia()&&(a.data=-a.data)};g.prototype.Io=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.Ia()&&f.Ia()&&(a.data+=f.data,f.Me()&&a.Ue());this.A.ra()};g.prototype.bp=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.Ia()&&f.Ia()&&(a.data-=f.data,f.Me()&&a.Ue());this.A.ra()};
g.prototype.Wo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.Ia()&&f.Ia()&&(a.data*=f.data,f.Me()&&a.Ue());this.A.ra()};g.prototype.Lo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.Ia()&&f.Ia()&&(a.data/=f.data,a.Ue());this.A.ra()};g.prototype.Vo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.Ia()&&f.Ia()&&(a.data%=f.data,f.Me()&&a.Ue());this.A.ra()};g.prototype.Zo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.Ia()&&f.Ia()&&
(a.data=Math.pow(a.data,f.data),f.Me()&&a.Ue());this.A.ra()};g.prototype.Jo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.Ia()?f.eh()?a.wb(a.data.toString()+f.data):a.data&&f.data?a.aa(1):a.aa(0):a.eh()&&(a.data=f.eh()?a.data+f.data:a.data+(Math.round(1E10*f.data)/1E10).toString());this.A.ra()};g.prototype.Yo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.Ia()&&f.Ia()&&(a.data||f.data?a.aa(1):a.aa(0));this.A.ra()};g.prototype.Ko=function(a){this.first.get(a);a.data?
this.Ka.get(a):this.Xh.get(a)};g.prototype.Mo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.aa(a.data===f.data?1:0);this.A.ra()};g.prototype.Xo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.aa(a.data!==f.data?1:0);this.A.ra()};g.prototype.To=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.aa(a.data<f.data?1:0);this.A.ra()};g.prototype.Uo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.aa(a.data<=f.data?1:0);this.A.ra()};g.prototype.Po=
function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.aa(a.data>f.data?1:0);this.A.ra()};g.prototype.Qo=function(a){this.first.get(a);var f=this.A.Fa();this.Ka.get(f);a.aa(a.data>=f.data?1:0);this.A.ra()};g.prototype.No=function(a){var f=this.Vd.Wg();L(f)?a.L(f):a.wb(f)};V=g;q.prototype.Me=function(){return this.type===Y.we};q.prototype.Ia=function(){return this.type===Y.xe||this.type===Y.we};q.prototype.eh=function(){return this.type===Y.String};q.prototype.Ue=function(){this.Me()||(this.eh()&&
(this.data=parseFloat(this.data)),this.type=Y.we)};q.prototype.aa=function(a){this.type=Y.xe;this.data=Math.floor(a)};q.prototype.L=function(a){this.type=Y.we;this.data=a};q.prototype.wb=function(a){this.type=Y.String;this.data=a};q.prototype.Rq=function(a){L(a)?(this.type=Y.we,this.data=a):O(a)?(this.type=Y.String,this.data=a.toString()):(this.type=Y.xe,this.data=0)};Mb=q;Y={xe:0,we:1,String:2}})();function Z(g){this.b=g;this.yb=[]}
Z.prototype.ib=function(){var g={},q,a,f,u,t,d,b,n;g.waits=[];var p=g.waits,e;q=0;for(a=this.yb.length;q<a;q++){d=this.yb[q];e={t:d.time,st:d.Sq,s:d.Jm,ev:d.wf.O,sm:[],sols:{}};d.wf.Ob[d.Bb]&&(e.act=d.wf.Ob[d.Bb].O);f=0;for(u=d.ia.length;f<u;f++)e.sm.push(d.ia[f].O);for(t in d.xb)if(d.xb.hasOwnProperty(t)){b=this.b.n[parseInt(t,10)];n={sa:d.xb[t].Am,insts:[]};f=0;for(u=d.xb[t].$d.length;f<u;f++)n.insts.push(d.xb[t].$d[f].uid);e.sols[b.O.toString()]=n}p.push(e)}return g};
Z.prototype.Lb=function(g){g=g.waits;var q,a,f,u,t,d,b,n,p,e,k;q=this.yb.length=0;for(a=g.length;q<a;q++)if(d=g[q],n=this.b.Ak[d.ev.toString()]){p=-1;f=0;for(u=n.Ob.length;f<u;f++)if(n.Ob[f].O===d.act){p=f;break}if(-1!==p){b={xb:{},ia:[],Mk:!1};b.time=d.t;b.Sq=d.st||"";b.Jm=!!d.s;b.wf=n;b.Bb=p;f=0;for(u=d.sm.length;f<u;f++)(n=this.b.Df(d.sm[f]))&&b.ia.push(n);for(t in d.sols)if(d.sols.hasOwnProperty(t)&&(n=this.b.Df(parseInt(t,10)))){p=d.sols[t];e={Am:p.sa,$d:[]};f=0;for(u=p.insts.length;f<u;f++)(k=
this.b.Ri(p.insts[f]))&&e.$d.push(k);b.xb[n.index.toString()]=e}this.yb.push(b)}}};
(function(){function g(){}function q(){}function a(){}var f=Z.prototype;g.prototype.xn=function(){return!0};g.prototype.qk=function(){return!0};g.prototype.Jn=function(){return!0};g.prototype.wn=function(){var a=this.b.Sa();return a.Ei?!1:!a.ge};g.prototype.rk=function(){return!0};g.prototype.Fn=function(){return!0};g.prototype.hi=function(){return!0};g.prototype.Kn=function(){return!0};g.prototype.gi=function(){return!0};g.prototype.qn=function(a,b,f){return Ga(S(a),S(f))<=S(b)};g.prototype.An=function(a,
b){return U(S(a),S(b))};g.prototype.zn=function(a,b,f){a=Ea(a);b=Ea(b);f=Ea(f);return U(f,b)?U(a,b)&&!U(a,f):!(!U(a,b)&&U(a,f))};f.F=new g;q.prototype.pn=function(a,b){0===a.mn?L(b)?a.Qh(a.Wg()+b):a.Qh(a.Wg()+parseFloat(b)):1===a.mn&&a.Qh(a.Wg()+b.toString())};var u=[],t=[];f.Ua=new q;a.prototype["int"]=function(a,b){O(b)?(a.aa(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.aa(b)};a.prototype["float"]=function(a,b){O(b)?(a.L(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.L(b)};a.prototype.random=function(a,
b,f){void 0===f?a.L(Math.random()*b):a.L(Math.random()*(f-b)+b)};a.prototype.sqrt=function(a,b){a.L(Math.sqrt(b))};a.prototype.abs=function(a,b){a.L(Math.abs(b))};a.prototype.round=function(a,b){a.aa(Math.round(b))};a.prototype.floor=function(a,b){a.aa(Math.floor(b))};a.prototype.ceil=function(a,b){a.aa(Math.ceil(b))};a.prototype.sin=function(a,b){a.L(Math.sin(S(b)))};a.prototype.cos=function(a,b){a.L(Math.cos(S(b)))};a.prototype.tan=function(a,b){a.L(Math.tan(S(b)))};a.prototype.asin=function(a,
b){a.L(Ba(Math.asin(b)))};a.prototype.acos=function(a,b){a.L(Ba(Math.acos(b)))};a.prototype.atan=function(a,b){a.L(Ba(Math.atan(b)))};a.prototype.exp=function(a,b){a.L(Math.exp(b))};a.prototype.log10=function(a,b){a.L(Math.log(b)/Math.LN10)};a.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var f,g,e;f=2;for(g=arguments.length;f<g;f++)e=arguments[f],"number"===typeof e&&b<e&&(b=e);a.L(b)};a.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var f,g,e;f=
2;for(g=arguments.length;f<g;f++)e=arguments[f],"number"===typeof e&&b>e&&(b=e);a.L(b)};a.prototype.Ee=function(a){a.L(this.b.Ee)};a.prototype.pg=function(a){a.L(this.b.pg)};a.prototype.time=function(a){a.L(this.b.ee.Pa)};a.prototype.$b=function(a){a.aa(this.b.$b)};a.prototype.zh=function(a){a.aa(this.b.zh)};a.prototype.Li=function(a){a.aa(this.b.Li)};a.prototype.j=function(a,b,f,g,e){a.L(Ba(Fa(b,f,g,e)))};a.prototype.find=function(a,b,f){O(b)&&O(f)?a.aa(b.search(new RegExp(Ra(f),"i"))):a.aa(-1)};
a.prototype.left=function(a,b,f){a.wb(O(b)?b.substr(0,f):"")};a.prototype.right=function(a,b,f){a.wb(O(b)?b.substr(b.length-f):"")};a.prototype.replace=function(a,b,f,g){O(b)&&O(f)&&O(g)?a.wb(b.replace(new RegExp(Ra(f),"gi"),g)):a.wb(O(b)?b:"")};a.prototype.trim=function(a,b){a.wb(O(b)?b.trim():"")};a.prototype.eo=function(a){var b=P(Math.random()*(arguments.length-1));a.Rq(arguments[b+1])};a.prototype.xi=function(a){a.L(this.b.xi/1E3)};a.prototype.uh=function(a){a.L(this.b.uh)};f.Fb=new a;f.Kq=function(){var a,
b,f,g,e,k,q=this.b.Sa();a=0;for(f=this.yb.length;a<f;a++){g=this.yb[a];if(-1===g.time){if(!g.Jm)continue}else if(g.time>this.b.ee.Pa)continue;q.Eb=g.wf;q.Bb=g.Bb;q.za=0;for(b in g.xb)g.xb.hasOwnProperty(b)&&(e=this.b.n[parseInt(b,10)].U(),k=g.xb[b],e.ba=k.Am,xa(e.d,k.$d),e=k,e.$d.length=0,t.push(e));g.wf.Iq();this.b.wi(g.ia);g.Mk=!0}b=a=0;for(f=this.yb.length;a<f;a++)g=this.yb[a],this.yb[b]=g,g.Mk?(La(g.xb),g.ia.length=0,u.push(g)):b++;this.yb.length=b}})();
(function(){bb=function(g,a){var f=g[1],u=g[3],t=g[4],d=g[5],b=g[6],n=g[7],p=g[8];a.F||(a.F={});a.Ua||(a.Ua={});a.Fb||(a.Fb={});var e=a.F,k=a.Ua,v=a.Fb;u&&(e.sr=function(a,b){return Nb(this.x,a,b)},e.tr=function(a,b){return Nb(this.y,a,b)},e.Cr=function(){var a=this.k;this.ea();var b=this.ja;return!(b.right<a.ma||b.bottom<a.na||b.left>a.ya||b.top>a.xa)},e.Dr=function(){this.ea();var a=this.ja,b=this.b.da;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},e.Pr=function(a,b,d){var e=this.U(),
l=e.Ub();if(!l.length)return!1;var f=l[0],c=f,k=Ia(f.x,f.y,b,d),g,n,p;g=1;for(n=l.length;g<n;g++)if(f=l[g],p=Ia(f.x,f.y,b,d),0===a&&p<k||1===a&&p>k)k=p,c=f;e.cg(c);return!0},k.ks=function(a){this.x!==a&&(this.x=a,this.C())},k.ms=function(a){this.y!==a&&(this.y=a,this.C())},k.ds=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.C()},k.es=function(a,b){var d=a.tp(this);if(d){var e;d.Cf?(e=d.Cf(b,!0),d=d.Cf(b,!1)):(e=d.x,d=d.y);if(this.x!==e||this.y!==d)this.x=e,this.y=d,this.C()}},k.Ir=
function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.C())},k.Hr=function(a,b){0!==b&&(this.x+=Math.cos(S(a))*b,this.y+=Math.sin(S(a))*b,this.C())},v.ts=function(a){a.L(this.x)},v.us=function(a){a.L(this.y)},v.Ee=function(a){a.L(this.b.Ie(this))});t&&(e.rr=function(a,b){return Nb(this.width,a,b)},e.or=function(a,b){return Nb(this.height,a,b)},k.Mn=function(a){this.width!==a&&(this.width=a,this.C())},k.as=function(a){this.height!==a&&(this.height=a,this.C())},k.gs=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.C()},v.ss=function(a){a.L(this.width)},v.xr=function(a){a.L(this.height)},v.kr=function(a){this.ea();a.L(this.ja.left)},v.mr=function(a){this.ea();a.L(this.ja.top)},v.lr=function(a){this.ea();a.L(this.ja.right)},v.jr=function(a){this.ea();a.L(this.ja.bottom)});d&&(e.qn=function(a,b){return Ga(this.j,S(b))<=S(a)},e.An=function(a){return U(this.j,S(a))},e.zn=function(a,b){var d=Ea(a),e=Ea(b),l=T(this.j);return U(e,d)?U(l,d)&&!U(l,
e):!(!U(l,d)&&U(l,e))},k.Xr=function(a){a=S(Ca(a));isNaN(a)||this.j===a||(this.j=a,this.C())},k.Tr=function(a){0===a||isNaN(a)||(this.j+=S(a),this.j=T(this.j),this.C())},k.Ur=function(a){0===a||isNaN(a)||(this.j-=S(a),this.j=T(this.j),this.C())},k.Vr=function(a,b){var d=Ha(this.j,S(b),S(a));isNaN(d)||this.j===d||(this.j=d,this.C())},k.Wr=function(a,b,d){a=Ha(this.j,Math.atan2(d-this.y,b-this.x),S(a));isNaN(a)||this.j===a||(this.j=a,this.C())},k.hs=function(a,b){var d=Math.atan2(b-this.y,a-this.x);
isNaN(d)||this.j===d||(this.j=d,this.C())},v.ir=function(a){a.L(Da(this.j))});f||(e.pr=function(a,b,d){return Nb(this.Aa[a],b,d)},e.Ar=function(a){return this.Aa[a]},e.Qr=function(a,b){var d=this.U(),e=d.Ub();if(!e.length)return!1;var l=e[0],f=l,c=l.Aa[b],k,g,n;k=1;for(g=e.length;k<g;k++)if(l=e[k],n=l.Aa[b],0===a&&n<c||1===a&&n>c)c=n,f=l;d.cg(f);return!0},e.Or=function(a){var b,d,e,l,f;if(this.b.Yk().bj){f=this.U();if(f.ba)for(f.ba=!1,f.d.length=0,f.R.length=0,e=this.d,b=0,d=e.length;b<d;b++)l=e[b],
l.uid===a?f.R.push(l):f.d.push(l);else{e=b=0;for(d=f.d.length;b<d;b++)l=f.d[b],f.d[e]=l,l.uid===a?f.R.push(l):e++;f.d.length=e}this.yc();return!!f.d.length}l=this.b.Ri(a);if(!l)return!1;f=this.U();if(!f.ba&&-1===f.d.indexOf(l))return!1;if(this.J)for(a=l.type.fa,b=0,d=a.length;b<d;b++){if(a[b]===this)return f.cg(l),this.yc(),!0}else if(l.type===this)return f.cg(l),this.yc(),!0;return!1},e.fi=function(){return!0},e.Hn=function(){return!0},k.bs=function(a,b){var d=this.Aa;L(d[a])?d[a]=L(b)?b:parseFloat(b):
O(d[a])&&(d[a]=O(b)?b:b.toString())},k.hr=function(a,b){var d=this.Aa;L(d[a])?d[a]=L(b)?d[a]+b:d[a]+parseFloat(b):O(d[a])&&(d[a]=O(b)?d[a]+b:d[a]+b.toString())},k.ns=function(a,b){var d=this.Aa;L(d[a])&&(d[a]=L(b)?d[a]-b:d[a]-parseFloat(b))},k.Yr=function(a,b){this.Aa[a]=b?1:0},k.os=function(a){this.Aa[a]=1-this.Aa[a]},k.vn=function(){this.b.Pd(this)},k.Cn||(k.Cn=function(a){var b,d;try{b=JSON.parse(a)}catch(e){return}this.b.rh(this,b,!0);this.kd&&this.kd();if(this.I)for(a=0,b=this.I.length;a<b;++a)d=
this.I[a],d.kd&&d.kd()}),v.ur=function(a){var b=a.Ve.d.length,d,e,l;d=0;for(e=this.b.ec.length;d<e;d++)l=this.b.ec[d],a.Ve.J?0<=l.type.fa.indexOf(a.Ve)&&b++:l.type===a.Ve&&b++;a.aa(b)},v.Sr=function(a){a.aa(a.Ve.U().Ub().length)},v.qs=function(a){a.aa(this.uid)},v.yr=function(a){a.aa(this.Ff())},v.rn||(v.rn=function(a){a.wb(JSON.stringify(this.b.Uj(this,!0)))}));b&&(e.Er=function(){return this.visible},k.js=function(a){!a!==!this.visible&&(this.visible=a,this.b.S=!0)},e.qr=function(a,b){return Nb(Ya(100*
this.opacity),a,b)},k.cs=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.S=!0)},v.Opacity=function(a){a.L(Ya(100*this.opacity))});n&&(e.Br=function(a){return a?this.k===a:!1},e.Rr=function(a){var b=this.U(),d=b.Ub();if(!d.length)return!1;var e=d[0],l=e,f,c;f=1;for(c=d.length;f<c;f++)if(e=d[f],0===a){if(e.k.index>l.k.index||e.k.index===l.k.index&&e.Bc()>l.Bc())l=e}else if(e.k.index<l.k.index||e.k.index===l.k.index&&e.Bc()<l.Bc())l=e;b.cg(l);return!0},k.Lr=function(){var a=
this.k,b=a.d;b.length&&b[b.length-1]===this||(a.Ze(this,!1),a.of(this,!1),this.b.S=!0)},k.Jr=function(){var a=this.k,b=a.d;b.length&&b[0]===this||(a.Ze(this,!1),a.Aq(this),this.b.S=!0)},k.Kr=function(a){a&&a!=this.k&&(this.k.Ze(this,!0),this.k=a,a.of(this,!0),this.b.S=!0)},k.ws=function(a,b){var d=0===a;if(b){var e=b.mp(this);e&&e.uid!==this.uid&&(this.k.index!==e.k.index&&(this.k.Ze(this,!0),this.k=e.k,e.k.of(this,!0)),this.k.lq(this,e,d),this.b.S=!0)}},v.Gr=function(a){a.aa(this.k.em)},v.Fr=function(a){a.wb(this.k.name)},
v.vs=function(a){a.aa(this.Bc())});p&&(k.Zr=function(a,b){if(this.b.u){var d=this.type.Qi(b);if(!(0>d)){var e=1===a;this.jd[d]!==e&&(this.jd[d]=e,this.ed(),this.b.S=!0)}}},k.$r=function(a,b,d){if(this.b.u){var e=this.type.Qi(a);0>e||(a=this.type.D[e],e=this.la[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.u.wp(a.Oa,b)&&(d/=100),e[b]!==d&&(e[b]=d,a.Cb&&(this.b.S=!0))))}})};ub=function(){this.pi=this.mi=!0;this.type.vg=!0;this.b.S=!0;var g,a,f=this.ni;g=0;for(a=f.length;g<a;++g)f[g](this);this.k.vc&&
this.ea()};vb=function(g){g&&this.ni.push(g)};xb=function(){if(this.mi){var g=this.ja,a=this.bb;g.set(this.x,this.y,this.x+this.width,this.y+this.height);g.offset(-this.qb*this.width,-this.rb*this.height);this.j?(g.offset(-this.x,-this.y),a.Gm(g,this.j),a.offset(this.x,this.y),a.Bk(g)):a.jg(g);g.normalize();this.mi=!1;this.cr()}};var g=new Q(0,0,0,0);yb=function(){if(this.k.vc){var q=this.k.ub,a=this.ja;g.set(q.zb(a.left),q.Ab(a.top),q.zb(a.right),q.Ab(a.bottom));this.hb.Ng(g)||(this.hb.right<this.hb.left?
q.update(this,null,g):q.update(this,this.hb,g),this.hb.Fg(g),this.k.bd=!0)}};zb=function(){if(this.pi&&this.Oc){this.ea();var q=this.type.Eg,a=this.ja;g.set(q.zb(a.left),q.Ab(a.top),q.zb(a.right),q.Ab(a.bottom));this.pd.Ng(g)||(this.pd.right<this.pd.left?q.update(this,null,g):q.update(this,this.pd,g),this.pd.Fg(g),this.pi=!1)}};wb=function(g,a){return this.ja.ob(g,a)&&this.bb.ob(g,a)?this.Q&&!this.Q.Le()?(this.Q.Be(this.width,this.height,this.j),this.Q.ob(g-this.x,a-this.y)):!0:!1};qb=function(){this.type.bi();
return this.Yd};Ab=function(){this.k.kk();return this.wc};Bb=function(){this.P.length=0;var g,a;g=0;for(a=this.jd.length;g<a;g++)this.jd[g]&&this.P.push(this.type.D[g]);this.ln=!!this.P.length};rb=function(){return"Inst"+this.vm};eb=function(g){if(g&&g.Jb&&g.type!=this){var a,f,u;a=0;for(f=g.siblings.length;a<f;a++)if(u=g.siblings[a],u.type==this)return u}g=this.U().Ub();return g.length?g[0]:null};fb=function(g){var a=this.U().Ub();return a.length?a[g.Ff()%a.length]:null};db=function(){if(this.gf&&
!this.J){var g,a;g=0;for(a=this.d.length;g<a;g++)this.d[g].Yd=g;var f=g,u=this.b.ec;g=0;for(a=u.length;g<a;++g)u[g].type===this&&(u[g].Yd=f++);this.gf=!1}};ob=function(g){if(g<this.d.length)return this.d[g];g-=this.d.length;var a=this.b.ec,f,u;f=0;for(u=a.length;f<u;++f)if(a[f].type===this){if(0===g)return a[f];--g}return null};gb=function(){return this.Ld[this.Rc]};hb=function(){this.Rc++;this.Rc===this.Ld.length?this.Ld.push(new cb(this)):this.Ld[this.Rc].ba=!0};ib=function(){this.Rc++;this.Rc===
this.Ld.length&&this.Ld.push(new cb(this));var g=this.Ld[this.Rc],a=this.Ld[this.Rc-1];a.ba?g.ba=!0:(g.ba=!1,xa(g.d,a.d),xa(g.R,a.R))};jb=function(){this.Rc--};kb=function(g){var a,f,u,t,d,b=0;if(!this.J)for(a=0,f=this.fa.length;a<f;a++)for(d=this.fa[a],u=0,t=d.qa.length;u<t;u++){if(g===d.qa[u].name)return this.T.lastBehIndex=b,d.qa[u];b++}a=0;for(f=this.qa.length;a<f;a++){if(g===this.qa[a].name)return this.T.lastBehIndex=b,this.qa[a];b++}return null};lb=function(g){return this.Ug(g)?this.T.lastBehIndex:
-1};mb=function(g){var a,f;a=0;for(f=this.D.length;a<f;a++)if(this.D[a].name===g)return a;return-1};nb=function(){if(this.Jb&&!this.J){var g,a,f,u,t,d,b;this.bi();d=this.U();var n=d.ba,p=(g=this.b.Sa())&&g.Eb&&g.Eb.lc;g=0;for(a=this.nb.length;g<a;g++)if(t=this.nb[g],t!==this&&(t.bi(),b=t.U(),b.ba=n,!n)){b.d.length=d.d.length;f=0;for(u=d.d.length;f<u;f++)b.d[f]=t.al(d.d[f].Yd);if(p)for(b.R.length=d.R.length,f=0,u=d.R.length;f<u;f++)b.R[f]=t.al(d.R[f].Yd)}}};pb=function(){return"Type"+this.O};Nb=function(g,
a,f){if("undefined"===typeof g||"undefined"===typeof f)return!1;switch(a){case 0:return g===f;case 1:return g!==f;case 2:return g<f;case 3:return g<=f;case 4:return g>f;case 5:return g>=f;default:return!1}}})();var Wb={};function Yb(g){this.b=g}
(function(){function g(){if(0===this.Bi.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.ef?b.drawImage(this.jb,this.We,this.Xe,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.jb,0,0,this.width,this.height);this.Bi=a.toDataURL("image/png")}return this.Bi}function q(){}function a(a){a[0]=0;a[1]=0;a[2]=0;v.push(a)}function f(a,b){return a<b?""+a+","+b:""+b+","+a}function u(a,b,c,d){b=b.uid;c=c.uid;var e=f(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var h=v.length?v.pop():[0,0,0];h[0]=b;h[1]=c;h[2]=d;a[e]=h}}function t(b,d,c){d=f(d.uid,c.uid);b.hasOwnProperty(d)&&(a(b[d]),delete b[d])}function d(a,b,c){b=f(b.uid,c.uid);if(a.hasOwnProperty(b))return h=a[b][2],!0;h=-2;return!1}function b(){}var n=Yb.prototype;n.Xa=function(a){this.Da=a;this.b=a.b};var p=n.Xa.prototype;p.ca=function(){if(!this.J){var a,b,c,d,e,f,h,k,n;this.cc=[];this.Hf=!1;a=0;for(b=this.mb.length;a<b;a++){e=this.mb[a];h={};h.name=e[0];h.speed=e[1];h.loop=e[2];h.Nj=e[3];
h.Mh=e[4];h.nm=e[5];h.O=e[6];h.frames=[];c=0;for(d=e[7].length;c<d;c++)f=e[7][c],k={},k.Rm=f[0],k.Sm=f[1],k.We=f[2],k.Xe=f[3],k.width=f[4],k.height=f[5],k.duration=f[6],k.qb=f[7],k.rb=f[8],k.Xi=f[9],k.Ch=f[10],k.om=f[11],k.ef=0!==k.width,k.Bi="",k.As=g,n={left:0,top:0,right:1,bottom:1},k.Xj=n,k.fd=null,(n=this.b.gp(f[0]))?k.jb=n:(k.jb=new Image,k.jb.io=f[0],k.jb.ho=f[1],k.jb.$n=null,this.b.gr(k.jb,f[0])),h.frames.push(k),this.cc.push(k);this.mb[a]=h}}};p.gn=function(){var a,b,c;a=0;for(b=this.d.length;a<
b;a++)c=this.d[a],c.Ig=c.Qb.fd};p.Bj=function(){if(!this.J){var a,b,c;a=0;for(b=this.cc.length;a<b;++a)c=this.cc[a],c.jb.$n=null,c.fd=null;this.Hf=!1;this.gn()}};p.jm=function(){if(!this.J&&this.d.length){var a,b,c;a=0;for(b=this.cc.length;a<b;++a)c=this.cc[a],c.fd=this.b.u.Fl(c.jb,this.b.V,c.om);this.gn()}};p.fq=function(){if(!this.J&&!this.Hf&&this.b.u){var a,b,c;a=0;for(b=this.cc.length;a<b;++a)c=this.cc[a],c.fd=this.b.u.Fl(c.jb,this.b.V,c.om);this.Hf=!0}};p.bn=function(){if(!this.J&&!this.d.length&&
this.Hf){var a,b,c;a=0;for(b=this.cc.length;a<b;++a)c=this.cc[a],this.b.u.deleteTexture(c.fd),c.fd=null;this.Hf=!1}};var e=[];p.qm=function(a){var b,c,d;b=e.length=0;for(c=this.cc.length;b<c;++b)d=this.cc[b].jb,-1===e.indexOf(d)&&(a.drawImage(d,0,0),e.push(d))};n.La=function(a){this.type=a;this.b=a.b;a=this.type.mb[0].frames[0].Ch;this.Mb?this.Q.kg(a):this.Q=new Sa(a)};var k=n.La.prototype;k.ca=function(){this.visible=0===this.H[0];this.Oc=0!==this.H[3];1===this.type.mb.length&&1===this.type.mb[0].frames.length||
0===this.type.mb[0].speed||this.b.Um(this);this.ka=this.Wk(this.H[1])||this.type.mb[0];this.p=this.H[2];0>this.p&&(this.p=0);this.p>=this.ka.frames.length&&(this.p=this.ka.frames.length-1);var a=this.ka.frames[this.p];this.Q.kg(a.Ch);this.qb=a.qb;this.rb=a.rb;this.uf=this.ka.speed;this.Mb?this.xc.reset():this.xc=new Qa;this.Wc=this.xc.Pa;this.Rd=!0;this.Mc=0;this.Qd=!0;this.ti=this.xk="";this.bo=0;this.si=-1;this.type.fq();var b,c,d,e,f,h,g,a=0;for(b=this.type.mb.length;a<b;a++)for(e=this.type.mb[a],
c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.jb.width,f.height=f.jb.height),f.ef&&(g=f.jb,h=f.Xj,h.left=f.We/g.width,h.top=f.Xe/g.height,h.right=(f.We+f.width)/g.width,h.bottom=(f.Xe+f.height)/g.height,0===f.We&&0===f.Xe&&f.width===g.width&&f.height===g.height&&(f.ef=!1));this.Qb=this.ka.frames[this.p];this.Ig=this.Qb.fd};k.ib=function(){var a={a:this.ka.O,f:this.p,cas:this.uf,fs:this.Wc,ar:this.Mc,at:this.xc.Pa};this.Rd||(a.ap=this.Rd);this.Qd||(a.af=this.Qd);return a};k.Lb=
function(a){var b=this.jp(a.a);b&&(this.ka=b);this.p=a.f;0>this.p&&(this.p=0);this.p>=this.ka.frames.length&&(this.p=this.ka.frames.length-1);this.uf=a.cas;this.Wc=a.fs;this.Mc=a.ar;this.xc.reset();this.xc.Pa=a.at;this.Rd=a.hasOwnProperty("ap")?a.ap:!0;this.Qd=a.hasOwnProperty("af")?a.af:!0;this.Qb=this.ka.frames[this.p];this.Ig=this.Qb.fd;this.Q.kg(this.Qb.Ch);this.qb=this.Qb.qb;this.rb=this.Qb.rb};k.li=function(a){this.p=a?0:this.ka.frames.length-1;this.Rd=!1;this.xk=this.ka.name;this.b.trigger(Yb.prototype.F.En,
this);this.b.trigger(Yb.prototype.F.Dn,this);this.Mc=0};k.Bs=function(){return this.xc.Pa};k.Zb=function(){this.xc.add(this.b.Ie(this));this.ti.length&&this.no();0<=this.si&&this.oo();var a=this.xc.Pa,b=this.ka,c=b.frames[this.p],d=c.duration/this.uf;this.Rd&&a>=this.Wc+d&&(this.Qd?this.p++:this.p--,this.Wc+=d,this.p>=b.frames.length&&(b.nm?(this.Qd=!1,this.p=b.frames.length-2):b.loop?this.p=b.Mh:(this.Mc++,this.Mc>=b.Nj?this.li(!1):this.p=b.Mh)),0>this.p&&(b.nm?(this.p=1,this.Qd=!0,b.loop||(this.Mc++,
this.Mc>=b.Nj&&this.li(!0))):b.loop?this.p=b.Mh:(this.Mc++,this.Mc>=b.Nj?this.li(!0):this.p=b.Mh)),0>this.p?this.p=0:this.p>=b.frames.length&&(this.p=b.frames.length-1),a>this.Wc+b.frames[this.p].duration/this.uf&&(this.Wc=a),a=b.frames[this.p],this.ye(c,a),this.b.S=!0)};k.Wk=function(a){var b,c,d;b=0;for(c=this.type.mb.length;b<c;b++)if(d=this.type.mb[b],Za(d.name,a))return d;return null};k.jp=function(a){var b,c,d;b=0;for(c=this.type.mb.length;b<c;b++)if(d=this.type.mb[b],d.O===a)return d;return null};
k.no=function(){var a=this.ka.frames[this.p],b=this.Wk(this.ti);this.ti="";!b||Za(b.name,this.ka.name)&&this.Rd||(this.ka=b,this.uf=b.speed,0>this.p&&(this.p=0),this.p>=this.ka.frames.length&&(this.p=this.ka.frames.length-1),1===this.bo&&(this.p=0),this.Rd=!0,this.Wc=this.xc.Pa,this.Qd=!0,this.ye(a,this.ka.frames[this.p]),this.b.S=!0)};k.oo=function(){var a=this.ka.frames[this.p],b=this.p;this.p=P(this.si);0>this.p&&(this.p=0);this.p>=this.ka.frames.length&&(this.p=this.ka.frames.length-1);b!==this.p&&
(this.ye(a,this.ka.frames[this.p]),this.Wc=this.xc.Pa,this.b.S=!0);this.si=-1};k.ye=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.qb=b.qb;this.rb=b.rb;this.Q.kg(b.Ch);this.C();this.Qb=b;this.Ig=b.fd;c=0;for(d=this.I.length;c<d;c++)e=this.I[c],e.sq&&e.sq(a,b);this.b.trigger(Yb.prototype.F.ye,this)};k.Sc=function(a){a.globalAlpha=this.opacity;var b=this.Qb,c=b.ef,d=b.jb,e=this.x,f=this.y,h=this.width,g=this.height;if(0===this.j&&0<=
h&&0<=g)e-=this.qb*h,f-=this.rb*g,this.b.Ed&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.We,b.Xe,b.width,b.height,e,f,h,g):a.drawImage(d,e,f,h,g);else{this.b.Ed&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<h?1:-1,n=0<g?1:-1;a.translate(e,f);1===k&&1===n||a.scale(k,n);a.rotate(this.j*k*n);e=0-this.qb*ha(h);f=0-this.rb*ha(g);c?a.drawImage(d,b.We,b.Xe,b.width,b.height,e,f,ha(h),ha(g)):a.drawImage(d,e,f,ha(h),ha(g));a.restore()}};k.fc=function(a){a.Nb(this.Ig);a.$e(this.opacity);var b=
this.Qb,c=this.bb;if(this.b.Ed){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.ef?a.Fd(c.ua+d,c.wa+e,c.kb+d,c.lb+e,c.cb+d,c.eb+e,c.$a+d,c.ab+e,b.Xj):a.Ih(c.ua+d,c.wa+e,c.kb+d,c.lb+e,c.cb+d,c.eb+e,c.$a+d,c.ab+e)}else b.ef?a.Fd(c.ua,c.wa,c.kb,c.lb,c.cb,c.eb,c.$a,c.ab,b.Xj):a.Ih(c.ua,c.wa,c.kb,c.lb,c.cb,c.eb,c.$a,c.ab)};k.op=function(a){var b=this.Qb,c,d;c=0;for(d=b.Xi.length;c<d;c++)if(Za(a,b.Xi[c][0]))return c;return-1};k.Cf=function(a,b){var c=this.Qb,d=c.Xi,e;e=O(a)?this.op(a):a-1;
e=P(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.qb)*this.width,d=d[e][2],d=(d-c.rb)*this.height,c=Math.cos(this.j);e=Math.sin(this.j);var h=f*c-d*e,d=d*c+f*e,f=h+this.x,d=d+this.y;return b?f:d};var v=[],h=-2,w=[];q.prototype.Gn=function(b){if(!b)return!1;var e=this.b,c=e.Yk(),f=c.type;c.T.collmemory||(c.T.collmemory={},e.vk(function(b){return function(c){c=c.uid;var d,e;for(d in b)b.hasOwnProperty(d)&&(e=b[d],e[0]===c||e[1]===c)&&(a(b[d]),delete b[d])}}(c.T.collmemory)));var c=
c.T.collmemory,g=f.U(),k=b.U(),g=g.Ub(),n,m,p,q,v,y,G,E=this.b.$b,ta=E-1,ka=e.Sa().Eb;for(m=0;m<g.length;m++){p=g[m];k.ba?(p.ea(),this.b.Xk(p.k,b,p.ja,w),n=w):n=k.Ub();for(q=0;q<n.length;q++)v=n[q],e.te(p,v)||e.co(p,v)?(y=d(c,p,v),y=!y||h<ta,u(c,p,v,E),y&&(e.Gh(ka.ia),y=f.U(),G=b.U(),y.ba=!1,G.ba=!1,f===b?(y.d.length=2,y.d[0]=p,y.d[1]=v,f.yc()):(y.d.length=1,G.d.length=1,y.d[0]=p,G.d[0]=v,f.yc(),b.yc()),ka.Jq(),e.pe(ka.ia))):t(c,p,v);w.length=0}return!1};var y=new H,m=!1;p.finish=function(a){if(m){if(a){var b=
this.b.Sa().Eb.lc;a=null.U();var c=y.Od(),d,e;if(a.ba){a.ba=!1;a.d.length=c.length;d=0;for(e=c.length;d<e;d++)a.d[d]=c[d];if(b)for(d=a.R.length=0,e=null.d.length;d<e;d++)c=null.d[d],y.contains(c)||a.R.push(c)}else if(b)for(b=a.d.length,a.d.length=b+c.length,d=0,e=c.length;d<e;d++)a.d[b+d]=c[d],Aa(a.R,c[d]);else xa(a.d,c);null.yc()}y.clear();m=!1}};q.prototype.Dn=function(a){return Za(this.xk,a)};q.prototype.En=function(){return!0};q.prototype.ye=function(){return!0};n.F=new q;b.prototype.Nn=function(a,
b,c){if(a&&b&&(b=this.b.Jk(a,b,this.Cf(c,!0),this.Cf(c,!1)))){"undefined"!==typeof b.j&&(b.j=this.j,b.C());this.b.jc++;var d,e,f;this.b.trigger(Object.getPrototypeOf(a.Da).F.fi,b);if(b.Jb)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.b.trigger(Object.getPrototypeOf(f.type.Da).F.fi,f);this.b.jc--;d=this.b.lp();c=!1;if(ea(d.T.Spawn_LastExec)||d.T.Spawn_LastExec<this.b.Fe)c=!0,d.T.Spawn_LastExec=this.b.Fe;if(a!=this.type&&(a=a.U(),a.ba=!1,c?(a.d.length=1,a.d[0]=b):a.d.push(b),b.Jb))for(d=
0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.U(),a.ba=!1,c?(a.d.length=1,a.d[0]=f):a.d.push(f)}};n.Ua=new b;n.Fb=new function(){}})();function Zb(g){this.b=g}
(function(){function g(){return b.length?b.pop():{}}function q(a){var d,e;d=0;for(e=a.length;d<e;d++)b.push(a[d]);a.length=0}function a(){}function f(){}var u=Zb.prototype;u.ca=function(){u.Ua.Mn=function(a){this.width!==a&&(this.width=a,this.ue=!0,this.C())}};u.Xa=function(a){this.Da=a;this.b=a.b};var t=u.Xa.prototype;t.ca=function(){};t.Bj=function(){if(!this.J){var a,b,d;a=0;for(b=this.d.length;a<b;a++)d=this.d[a],d.Dc=null,d.me=null,d.tb=null}};u.La=function(a){this.type=a;this.b=a.b;this.Mb?
this.Ad.length=0:this.Ad=[];this.ue=!0};t=u.La.prototype;t.ca=function(){this.text=this.H[0];this.visible=0===this.H[1];this.font=this.H[2];this.color=this.H[3];this.Zg=this.H[4];this.di=this.H[5];this.pk=0===this.H[7];this.oj=this.kh=this.width;this.jh=this.height;this.qj=this.H[8];this.Rg=this.Ge="";this.Pm=this.Qm=this.eg=0;this.tq();this.tb=this.me=this.Dc=null;this.cm=!1;this.Rf=this.b.$b;this.Mb?this.Ye.set(0,0,1,1):this.Ye=new Q(0,0,1,1);this.b.u&&this.b.Um(this)};t.tq=function(){var a=this.font.split(" "),
b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.eg=parseInt(a[b].substr(0,a[b].length-2));this.Jj=Math.ceil(this.eg/72*96)+4;0<b&&(this.Rg=a[b-1]);this.Ge=a[b+1];for(b+=2;b<a.length;b++)this.Ge+=" "+a[b];break}};t.ib=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Zg,va:this.di,wr:this.pk,lho:this.qj,fn:this.Ge,fs:this.Rg,ps:this.eg,pxh:this.Jj,tw:this.Qm,th:this.Pm,lrt:this.Rf}};t.Lb=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Zg=a.ha;this.di=
a.va;this.pk=a.wr;this.qj=a.lho;this.Ge=a.fn;this.Rg=a.fs;this.eg=a.ps;this.Jj=a.pxh;this.Qm=a.tw;this.Pm=a.th;this.Rf=a.lrt;this.ue=!0;this.oj=this.kh=this.width;this.jh=this.height};t.Zb=function(){if(this.b.u&&this.tb&&300<=this.b.$b-this.Rf){var a=this.k;this.ea();var b=this.ja;if(b.right<a.ma||b.bottom<a.na||b.left>a.ya||b.top>a.xa)this.b.u.deleteTexture(this.tb),this.Dc=this.me=this.tb=null}};t.bg=function(){this.Dc=this.me=null;this.b.u&&this.tb&&this.b.u.deleteTexture(this.tb);this.tb=null};
t.Ms=function(){this.font=this.Rg+" "+this.eg.toString()+"pt "+this.Ge;this.ue=!0;this.b.S=!0};t.Sc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var d=1;b&&(d=this.k.Ib(),a.save(),a.scale(d,d));if(this.ue||this.width!==this.oj)this.type.Da.Pn(this.text,this.Ad,a,this.width,this.pk),this.ue=!1,this.oj=this.width;this.ea();var d=b?0:this.bb.ua,f=b?0:this.bb.wa;this.b.Ed&&(d=d+.5|0,f=f+.5|0);0===this.j||b||(a.save(),a.translate(d,f),a.rotate(this.j),
f=d=0);var g=f+this.height,h=this.Jj,h=h+this.qj,q,t;1===this.di?f+=Math.max(this.height/2-this.Ad.length*h/2,0):2===this.di&&(f+=Math.max(this.height-this.Ad.length*h-2,0));for(t=0;t<this.Ad.length&&!(q=d,1===this.Zg?q=d+(this.width-this.Ad[t].width)/2:2===this.Zg&&(q=d+(this.width-this.Ad[t].width)),a.fillText(this.Ad[t].text,q,f),f+=h,f>=g-h);t++);(0!==this.j||b)&&a.restore();this.Rf=this.b.$b};t.fc=function(a){if(!(1>this.width||1>this.height)){var b=this.ue||this.cm;this.cm=!1;var d=this.k.Ib(),
f=this.k.Hb(),g=this.Ye,h=d*this.width,q=d*this.height,t=Math.ceil(h),m=Math.ceil(q),l=this.b.N/2,u=this.b.M/2;this.me||(this.Dc=document.createElement("canvas"),this.Dc.width=t,this.Dc.height=m,this.kh=t,this.jh=m,b=!0,this.me=this.Dc.getContext("2d"));if(t!==this.kh||m!==this.jh)this.Dc.width=t,this.Dc.height=m,this.tb&&(a.deleteTexture(this.tb),this.tb=null),b=!0;b&&(this.me.clearRect(0,0,t,m),this.Sc(this.me,!0),this.tb||(this.tb=a.Pc(t,m,this.b.V,this.b.wd)),a.fr(this.Dc,this.tb,this.b.wd));
this.kh=t;this.jh=m;a.Nb(this.tb);a.$e(this.opacity);a.Fc();a.translate(-l,-u);a.Kc();var c=this.bb,b=this.k.ga(c.ua,c.wa,!0,!0),l=this.k.ga(c.ua,c.wa,!1,!0),u=this.k.ga(c.kb,c.lb,!0,!0),r=this.k.ga(c.kb,c.lb,!1,!0),s=this.k.ga(c.cb,c.eb,!0,!0),B=this.k.ga(c.cb,c.eb,!1,!0),R=this.k.ga(c.$a,c.ab,!0,!0),c=this.k.ga(c.$a,c.ab,!1,!0);if(this.b.Ed||0===this.j&&0===f)var W=(b+.5|0)-b,X=(l+.5|0)-l,b=b+W,l=l+X,u=u+W,r=r+X,s=s+W,B=B+X,R=R+W,c=c+X;0===this.j&&0===f?(u=b+t,r=l,s=u,B=l+m,R=b,c=B,g.right=1,g.bottom=
1):(g.right=h/t,g.bottom=q/m);a.Fd(b,l,u,r,s,B,R,c,g);a.Fc();a.scale(d,d);a.Rj(-this.k.Hb());a.translate((this.k.ma+this.k.ya)/-2,(this.k.na+this.k.xa)/-2);a.Kc();this.Rf=this.b.$b}};var d=[];u.On=function(a){d.length=0;for(var b="",e,f=0;f<a.length;)if(e=a.charAt(f),"\n"===e)b.length&&(d.push(b),b=""),d.push("\n"),++f;else if(" "===e||"\t"===e||"-"===e){do b+=a.charAt(f),f++;while(f<a.length&&(" "===a.charAt(f)||"\t"===a.charAt(f)));d.push(b);b=""}else f<a.length&&(b+=e,f++);b.length&&d.push(b)};
var b=[];u.Pn=function(a,b,d,f,t){if(a&&a.length)if(2>=f)q(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var h=d.measureText(a).width;if(h<=f){q(b);b.push(g());b[0].text=a;b[0].width=h;return}}this.Qn(a,b,d,f,t)}else q(b)};u.Qn=function(a,f,e,k,q){q&&(this.On(a),a=d);var h="",t,u,m,l=0;for(m=0;m<a.length;m++)"\n"===a[m]?(l>=f.length&&f.push(g()),u=f[l],u.text=h,u.width=e.measureText(h).width,l++,h=""):(t=h,h+=a[m],u=e.measureText(h).width,u>=k&&(l>=f.length&&f.push(g()),u=f[l],u.text=t,u.width=
e.measureText(t).width,l++,h=a[m],q||" "!==h||(h="")));h.length&&(l>=f.length&&f.push(g()),u=f[l],u.text=h,u.width=e.measureText(h).width,l++);for(m=l;m<f.length;m++)b.push(f[m]);f.length=l};u.F=new function(){};a.prototype.Ln=function(a){L(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.ue=!0,this.b.S=!0)};u.Ua=new a;f.prototype.Text=function(a){a.wb(this.text)};u.Fb=new f})();function $b(g){this.b=g}
(function(){function g(){}var q=$b.prototype;q.Xa=function(a){this.behavior=a;this.b=a.b};q.Xa.prototype.ca=function(){};q.La=function(a,g){this.type=a;this.behavior=a.behavior;this.i=g;this.b=a.b};var a=q.La.prototype;a.ca=function(){var a=this.H[0];this.Ya=this.H[1];this.Tg=this.H[2];this.Yn=0!==this.H[3];this.Wj=0!==this.H[4];this.B=Math.cos(this.i.j)*a;this.q=Math.sin(this.i.j)*a;this.lh=this.i.x;this.mh=this.i.y;this.Pe=this.i.j;this.qg=0;this.enabled=0!==this.H[5]};a.ib=function(){return{acc:this.Ya,
g:this.Tg,dx:this.B,dy:this.q,lx:this.lh,ly:this.mh,lka:this.Pe,t:this.qg,e:this.enabled}};a.Lb=function(a){this.Ya=a.acc;this.Tg=a.g;this.B=a.dx;this.q=a.dy;this.lh=a.lx;this.mh=a.ly;this.Pe=a.lka;this.qg=a.t;this.enabled=a.e};a.Zb=function(){if(this.enabled){var a=this.b.Ie(this.i),g,q;this.i.j!==this.Pe&&(this.Wj&&(g=Ia(0,0,this.B,this.q),this.B=Math.cos(this.i.j)*g,this.q=Math.sin(this.i.j)*g),this.Pe=this.i.j);0!==this.Ya&&(g=Ia(0,0,this.B,this.q),q=0===this.B&&0===this.q?this.i.j:Fa(0,0,this.B,
this.q),g+=this.Ya*a,0>g&&(g=0),this.B=Math.cos(q)*g,this.q=Math.sin(q)*g);0!==this.Tg&&(this.q+=this.Tg*a);this.lh=this.i.x;this.mh=this.i.y;if(0!==this.B||0!==this.q)if(this.i.x+=this.B*a,this.i.y+=this.q*a,this.qg+=Ia(0,0,this.B*a,this.q*a),this.Wj&&(this.i.j=Fa(0,0,this.B,this.q),this.i.C(),this.Pe=this.i.j),this.i.C(),this.Yn&&(g=this.b.tc(this.i)))this.b.gg(this.i,g),g=Ia(0,0,this.B,this.q),q=this.b.ao(this.i,this.lh,this.mh),this.B=Math.cos(q)*g,this.q=Math.sin(q)*g,this.i.x+=this.B*a,this.i.y+=
this.q*a,this.i.C(),this.Wj&&(this.Pe=this.i.j=q,this.i.C()),this.b.Fq(this.i,this.B/g,this.q/g,Math.max(2.5*g*a,30))||this.b.wm(this.i,100)}};g.prototype.un=function(a,g){return Nb(this.qg,a,g)};q.F=new g;q.Ua=new function(){};q.Fb=new function(){}})();function ac(g){this.b=g}
(function(){var g=ac.prototype;g.Xa=function(a){this.behavior=a;this.b=a.b};g.Xa.prototype.ca=function(){};g.La=function(a,f){this.type=a;this.behavior=a.behavior;this.i=f;this.b=a.b;this.$j=this.Zj=this.Yj=this.ak=this.Wi=this.Nh=this.ph=this.Mg=this.ci=!1;this.mj=this.lj=this.kj=this.nj=-1;this.q=this.B=0};var q=g.La.prototype;q.ca=function(){this.Zf=this.H[0];this.Ya=this.H[1];this.zc=this.H[2];this.Di=this.H[3];this.ki=this.H[4];this.lo=1===this.H[5];this.enabled=0!==this.H[6];this.lo&&!this.b.Va&&
(jQuery(document).keydown(function(a){return function(f){a.qq(f)}}(this)),jQuery(document).keyup(function(a){return function(f){a.rq(f)}}(this)))};q.ib=function(){return{dx:this.B,dy:this.q,enabled:this.enabled,maxspeed:this.Zf,acc:this.Ya,dec:this.zc,ignoreInput:this.Wi}};q.Lb=function(a){this.B=a.dx;this.q=a.dy;this.enabled=a.enabled;this.Zf=a.maxspeed;this.Ya=a.acc;this.zc=a.dec;this.Wi=a.ignoreInput;this.$j=this.Zj=this.Yj=this.ak=this.Nh=this.ph=this.Mg=this.ci=!1;this.mj=this.lj=this.kj=this.nj=
-1};q.qq=function(a){var f=this.b.$b;switch(a.which){case 37:a.preventDefault();this.lj<f&&(this.ph=!0);break;case 38:a.preventDefault();this.nj<f&&(this.ci=!0);break;case 39:a.preventDefault();this.mj<f&&(this.Nh=!0);break;case 40:a.preventDefault(),this.kj<f&&(this.Mg=!0)}};q.rq=function(a){var f=this.b.$b;switch(a.which){case 37:a.preventDefault();this.ph=!1;this.lj=f;break;case 38:a.preventDefault();this.ci=!1;this.nj=f;break;case 39:a.preventDefault();this.Nh=!1;this.mj=f;break;case 40:a.preventDefault(),
this.Mg=!1,this.kj=f}};q.Zb=function(){var a=this.b.Ie(this.i),f=this.ph||this.Zj,g=this.Nh||this.$j,q=this.ci||this.ak,d=this.Mg||this.Yj;this.Yj=this.ak=this.$j=this.Zj=!1;if(this.enabled){var b=this.b.tc(this.i);if(b&&(this.b.gg(this.i,b),!this.b.wm(this.i)))return;this.Wi&&(d=q=g=f=!1);0===this.Di?g=f=!1:1===this.Di&&(d=q=!1);2===this.Di&&(q||d)&&(g=f=!1);f==g&&(0>this.B?(this.B+=this.zc*a,0<this.B&&(this.B=0)):0<this.B&&(this.B-=this.zc*a,0>this.B&&(this.B=0)));q==d&&(0>this.q?(this.q+=this.zc*
a,0<this.q&&(this.q=0)):0<this.q&&(this.q-=this.zc*a,0>this.q&&(this.q=0)));f&&!g&&(this.B=0<this.B?this.B-(this.Ya+this.zc)*a:this.B-this.Ya*a);g&&!f&&(this.B=0>this.B?this.B+(this.Ya+this.zc)*a:this.B+this.Ya*a);q&&!d&&(this.q=0<this.q?this.q-(this.Ya+this.zc)*a:this.q-this.Ya*a);d&&!q&&(this.q=0>this.q?this.q+(this.Ya+this.zc)*a:this.q+this.Ya*a);if(0!==this.B||0!==this.q){Math.sqrt(this.B*this.B+this.q*this.q)>this.Zf&&(b=Math.atan2(this.q,this.B),this.B=this.Zf*Math.cos(b),this.q=this.Zf*Math.sin(b));
g=this.i.x;q=this.i.y;f=this.i.j;this.i.x+=this.B*a;this.i.C();if(b=this.b.tc(this.i))this.i.x=g,this.B=0,this.i.C(),this.b.gg(this.i,b);this.i.y+=this.q*a;this.i.C();if(b=this.b.tc(this.i))this.i.y=q,this.q=0,this.i.C(),this.b.gg(this.i,b);a=Ya(this.B);b=Ya(this.q);if(0!==a||0!==b)1===this.ki?this.i.j=Ea(90*Math.round(Ba(Math.atan2(b,a))/90)):2===this.ki?this.i.j=Ea(45*Math.round(Ba(Math.atan2(b,a))/45)):3===this.ki&&(this.i.j=Math.atan2(b,a));this.i.C();this.i.j!=f&&(b=this.b.tc(this.i))&&(this.i.j=
f,this.i.C(),this.b.gg(this.i,b))}}};g.F=new function(){};g.Ua=new function(){};g.Fb=new function(){}})();function bc(g){this.b=g}
(function(){function g(){}function q(){}var a=bc.prototype;a.Xa=function(a){this.behavior=a;this.b=a.b};a.Xa.prototype.ca=function(){};a.La=function(a,f){this.type=a;this.behavior=a.behavior;this.i=f;this.b=a.b};var f=a.La.prototype;f.ca=function(){this.Md=this.Hc=this.ff=this.Ah=this.Bh=0};f.ib=function(){return{ontime:this.Bh,offtime:this.Ah,stage:this.ff,stagetimeleft:this.Hc,timeleft:this.Md}};f.Lb=function(a){this.Bh=a.ontime;this.Ah=a.offtime;this.ff=a.stage;this.Hc=a.stagetimeleft;this.Md=
a.timeleft};f.Zb=function(){if(!(0>=this.Md)){var a=this.b.Ie(this.i);this.Md-=a;0>=this.Md?(this.Md=0,this.i.visible=!0,this.b.S=!0,this.b.trigger(bc.prototype.F.In,this.i)):(this.Hc-=a,0>=this.Hc&&(0===this.ff?(this.i.visible=!1,this.ff=1,this.Hc+=this.Ah):(this.i.visible=!0,this.ff=0,this.Hc+=this.Bh),this.b.S=!0))}};g.prototype.In=function(){return!0};a.F=new g;q.prototype.yn=function(a,f,d){this.Bh=a;this.Ah=f;this.ff=1;this.Hc=f;this.Md=d;this.i.visible=!1;this.b.S=!0};a.Ua=new q;a.Fb=new function(){}})();
function cc(g){this.b=g}
(function(){function g(){}function q(){}function a(){}var f=cc.prototype;f.Xa=function(a){this.behavior=a;this.b=a.b};f.Xa.prototype.ca=function(){this.qc=[]};f.La=function(a,d){this.type=a;this.behavior=a.behavior;this.i=d;this.b=a.b};var u=f.La.prototype;u.ca=function(){this.gb=this.H[0];this.Gd=this.H[1];this.Oj=0!==this.H[2];this.Pj=S(this.H[3]);this.Wh=this.H[4];this.Eh=0!==this.H[5];this.Ij=this.H[6];this.enabled=0!==this.H[7];this.kn=0!==this.H[8];this.gh=0;this.gc=this.Gd;this.currentTarget=
null;this.rj=-1;this.oe=this.ne=0;this.Qe=[0,0,0,0];this.pc=0;this.Af=!0;var a=this;this.Mb||(this.am=function(d){a.pq(d)});this.b.vk(this.am)};u.ib=function(){var a={r:this.gb,rof:this.Gd,re:this.Oj,rs:this.Pj,tm:this.Wh,pa:this.Eh,ps:this.Ij,en:this.enabled,lct:this.gh,ftc:this.gc,target:this.currentTarget?this.currentTarget.uid:-1,ox:this.ne,oy:this.oe,ls:this.Qe,sc:this.pc,targs:[]},d,f;d=0;for(f=this.type.qc.length;d<f;d++)a.targs.push(this.type.qc[d].O);return a};u.Lb=function(a){this.gb=a.r;
this.Gd=a.rof;this.Oj=a.re;this.Pj=a.rs;this.Wh=a.tm;this.Eh=a.pa;this.Ij=a.ps;this.enabled=a.en;this.gh=a.lct;this.gc=a.ftc||0;this.rj=a.target;this.ne=a.ox;this.oe=a.oy;this.Qe=a.ls;this.pc=a.sc;this.type.qc.length=0;var d,f,e;d=0;for(f=a.targs.length;d<f;d++)(e=this.b.Df(a.targs[d]))&&this.type.qc.push(e)};u.kd=function(){this.currentTarget=-1===this.rj?null:this.b.Ri(this.rj)};u.pq=function(a){this.currentTarget==a&&(this.currentTarget=null)};u.bg=function(){this.currentTarget=null;this.b.Gq(this.am)};
u.Sn=function(a){4>this.pc?(this.Qe[this.pc]=a,this.pc++):(this.Qe.shift(),this.Qe.push(a))};u.yp=function(){for(var a=0,d=0;d<this.pc;d++)a+=this.Qe[d];return a/this.pc};u.ql=function(a){var d=this.i,f=a.x-d.x;a=a.y-d.y;return f*f+a*a<=this.gb*this.gb};var t=new Q(0,0,0,0),d=[];u.hq=function(){var a,f,g;t.left=this.i.x-this.gb;t.top=this.i.y-this.gb;t.right=this.i.x+this.gb;t.bottom=this.i.y+this.gb;if(this.kn)this.b.Ti(null,this.type.qc,t,d);else for(a=0,f=this.type.qc.length;a<f;++a)ya(d,this.type.qc[a].d);
a=0;for(f=d.length;a<f;++a)if(g=d[a],this.ql(g)){this.currentTarget=g;d.length=0;return}d.length=0};u.iq=function(){var a,f,g,e,k,q=this.i.x,h=this.i.y,u=this.gb*this.gb;this.currentTarget=null;t.left=q-this.gb;t.top=h-this.gb;t.right=q+this.gb;t.bottom=h+this.gb;if(this.kn)this.b.Ti(null,this.type.qc,t,d);else for(a=0,f=this.type.qc.length;a<f;++a)ya(d,this.type.qc[a].d);a=0;for(f=d.length;a<f;++a)g=d[a],e=q-g.x,k=h-g.y,e=e*e+k*k,e<u&&(this.currentTarget=g,u=e);d.length=0};u.Zb=function(){var a=
this.b.Ie(this.i),d=this.b.ee.Pa,f=this.i;if(this.enabled){this.currentTarget&&!this.ql(this.currentTarget)&&(this.currentTarget=null,this.pc=0,this.Af=!0);d>=this.gh+.1&&((this.gh=d,0!==this.Wh||this.currentTarget)?1===this.Wh&&(d=this.currentTarget,this.iq(),this.currentTarget&&this.currentTarget!==d&&(this.pc=0,this.Af=!0,this.ne=this.currentTarget.x,this.oe=this.currentTarget.y,this.b.trigger(cc.prototype.F.tk,this.i))):(this.hq(),this.currentTarget&&(this.pc=0,this.Af=!0,this.ne=this.currentTarget.x,
this.oe=this.currentTarget.y,this.b.trigger(cc.prototype.F.tk,this.i))));this.gc+=a;if(this.currentTarget){d=Fa(f.x,f.y,this.currentTarget.x,this.currentTarget.y);if(this.Eh){var e=f.x,g=f.y,q=this.currentTarget.x,h=this.currentTarget.y,t=Fa(q,h,this.ne,this.oe);this.Af||this.Sn(Ia(q,h,this.ne,this.oe)/a);var u=this.yp(),m=h-g,l=q-e,e=(u*Math.sin(t)*(e-q)-u*Math.cos(t)*(g-h))/this.Ij,m=Math.asin(e/Math.sqrt(m*m+l*l))-Math.atan2(m,-l)+Math.PI;isNaN(m)||(d=m)}this.Oj&&(f.j=Ha(f.j,d,this.Pj*a),f.C());
this.gc>=this.Gd&&.1>=Ba(Ga(f.j,d))&&(!this.Eh||4<=this.pc)&&(this.gc-=this.Gd,this.gc>=this.Gd&&(this.gc=0),this.b.trigger(cc.prototype.F.sk,this.i));this.ne=this.currentTarget.x;this.oe=this.currentTarget.y;this.Af=!1}this.gc>this.Gd&&(this.gc=this.Gd)}};g.prototype.sk=function(){return!0};g.prototype.tk=function(){return!0};f.F=new g;q.prototype.on=function(a){var d=this.type.qc;if(-1===d.indexOf(a)){var f,e,g;f=0;for(e=d.length;f<e;f++)if(g=d[f],g.J&&-1!==g.le.indexOf(a))return;d.push(a)}};f.Ua=
new q;a.prototype.Range=function(a){a.L(this.gb)};f.Fb=new a})();function dc(g){this.b=g}(function(){var g=dc.prototype;g.Xa=function(g){this.behavior=g;this.b=g.b};g.Xa.prototype.ca=function(){};g.La=function(g,a){this.type=g;this.behavior=g.behavior;this.i=a;this.b=g.b};g=g.La.prototype;g.ca=function(){};g.Zb=function(){this.i.ea();var g=this.i.ja,a=this.i.k.Y;(0>g.right||0>g.bottom||g.left>a.width||g.top>a.height)&&this.b.Pd(this.i)}})();
function Xb(){return[Yb,Zb,cc,ac,bc,$b,dc,Z.prototype.F.qk,cc.prototype.Ua.on,cc.prototype.F.sk,Yb.prototype.Ua.Nn,$b.prototype.F.un,cc.prototype.Fb.Range,Yb.prototype.Ua.vn,Yb.prototype.F.Gn,bc.prototype.Ua.yn,Z.prototype.Ua.pn,Z.prototype.F.xn,Zb.prototype.Ua.Ln]};
