// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,D,ca,I,ea,ga,ha,K,ia,ka,la,ma,na,N,qa,ta,O,ua,va,wa,xa,ya,Aa,Ba,P,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,S,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,U,Lb,Mb,Nb,W,Ob,Pb={},Qb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(l){return l.__proto__}:function(l){return l.constructor.prototype});
(function(){function l(d,b,s,g){this.set(d,b,s,g)}function r(){this.Xa=this.Wa=this.Za=this.Ya=this.ib=this.hb=this.qa=this.pa=0}function a(d,b,s,g){d<b?s<g?(v=d<s?d:s,x=b>g?b:g):(v=d<g?d:g,x=b>s?b:s):s<g?(v=b<s?b:s,x=d>g?d:g):(v=b<g?b:g,x=d>s?d:s)}function m(){this.items=this.da=null;this.Oe=0;s&&(this.da=new Set);this.jf=[];this.gd=!0}function u(d){w[T++]=d}function q(){this.La=this.Ph=this.y=this.gi=0}function h(d){this.Ba=[];this.wg=this.yg=this.zg=this.xg=0;this.kg(d)}function f(d,b){this.ji=
d;this.ii=b;this.cells={}}function e(d,b){this.ji=d;this.ii=b;this.cells={}}function c(d,b,s){var g;return R.length?(g=R.pop(),g.Qi=d,g.x=b,g.y=s,g):new ba(d,b,s)}function b(d,b,s){this.Qi=d;this.x=b;this.y=s;this.Fa=new D}function k(d,b,s){var g;return Y.length?(g=Y.pop(),g.Qi=d,g.x=b,g.y=s,g):new ca(d,b,s)}function t(d,b,s){this.Qi=d;this.x=b;this.y=s;this.Fa=[];this.Ne=!0;this.xc=new D;this.nf=!1}function p(d,b){return d.mc-b.mc}I=function(d){window.console&&window.console.log&&window.console.log(d)};
ea=function(d){window.console&&window.console.error&&window.console.error(d)};aa=function(d){return d};ga=function(d){return"undefined"===typeof d};ha=function(d){return"number"===typeof d};K=function(d){return"string"===typeof d};ia=function(d){return 0<d&&0===(d-1&d)};ka=function(d){--d;for(var b=1;32>b;b<<=1)d|=d>>b;return d+1};la=function(d){return 0>d?-d:d};ma=function(d,b){return d<b?d:b};na=Math.PI;N=function(d){return 0<=d?d|0:(d|0)-1};qa=function(d){var b=d|0;return b===d?b:b+1};ta=function(d,
b,s,g,w,k,p,e){var c,n,q,a;d<s?(n=d,c=s):(n=s,c=d);w<p?(a=w,q=p):(a=p,q=w);if(c<a||n>q)return!1;b<g?(n=b,c=g):(n=g,c=b);k<e?(a=k,q=e):(a=e,q=k);if(c<a||n>q)return!1;c=w-d+p-s;n=k-b+e-g;d=s-d;b=g-b;w=p-w;k=e-k;e=la(b*w-k*d);return la(w*n-k*c)>e?!1:la(d*n-b*c)<=e};l.prototype.set=function(d,b,s,g){this.left=d;this.top=b;this.right=s;this.bottom=g};l.prototype.Eg=function(d){this.left=d.left;this.top=d.top;this.right=d.right;this.bottom=d.bottom};l.prototype.width=function(){return this.right-this.left};
l.prototype.height=function(){return this.bottom-this.top};l.prototype.offset=function(d,b){this.left+=d;this.top+=b;this.right+=d;this.bottom+=b;return this};l.prototype.normalize=function(){var d=0;this.left>this.right&&(d=this.left,this.left=this.right,this.right=d);this.top>this.bottom&&(d=this.top,this.top=this.bottom,this.bottom=d)};l.prototype.dl=function(d){return!(d.right<this.left||d.bottom<this.top||d.left>this.right||d.top>this.bottom)};l.prototype.el=function(d,b,s){return!(d.right+b<
this.left||d.bottom+s<this.top||d.left+b>this.right||d.top+s>this.bottom)};l.prototype.lb=function(d,b){return d>=this.left&&d<=this.right&&b>=this.top&&b<=this.bottom};l.prototype.Ng=function(d){return this.left===d.left&&this.top===d.top&&this.right===d.right&&this.bottom===d.bottom};O=l;r.prototype.se=function(d){this.pa=d.left;this.qa=d.top;this.hb=d.right;this.ib=d.top;this.Ya=d.right;this.Za=d.bottom;this.Wa=d.left;this.Xa=d.bottom};r.prototype.xm=function(d,b){if(0===b)this.se(d);else{var s=
Math.sin(b),g=Math.cos(b),w=d.left*s,k=d.top*s,p=d.right*s,s=d.bottom*s,e=d.left*g,c=d.top*g,n=d.right*g,g=d.bottom*g;this.pa=e-k;this.qa=c+w;this.hb=n-k;this.ib=c+p;this.Ya=n-s;this.Za=g+p;this.Wa=e-s;this.Xa=g+w}};r.prototype.offset=function(d,b){this.pa+=d;this.qa+=b;this.hb+=d;this.ib+=b;this.Ya+=d;this.Za+=b;this.Wa+=d;this.Xa+=b;return this};var v=0,x=0;r.prototype.mk=function(d){a(this.pa,this.hb,this.Ya,this.Wa);d.left=v;d.right=x;a(this.qa,this.ib,this.Za,this.Xa);d.top=v;d.bottom=x};r.prototype.lb=
function(d,b){var s=this.hb-this.pa,g=this.ib-this.qa,w=this.Ya-this.pa,k=this.Za-this.qa,p=d-this.pa,e=b-this.qa,c=s*s+g*g,n=s*w+g*k,g=s*p+g*e,q=w*w+k*k,a=w*p+k*e,f=1/(c*q-n*n),s=(q*g-n*a)*f,c=(c*a-n*g)*f;if(0<=s&&0<c&&1>s+c)return!0;s=this.Wa-this.pa;g=this.Xa-this.qa;c=s*s+g*g;n=s*w+g*k;g=s*p+g*e;f=1/(c*q-n*n);s=(q*g-n*a)*f;c=(c*a-n*g)*f;return 0<=s&&0<c&&1>s+c};r.prototype.dd=function(d,b){if(b)switch(d){case 0:return this.pa;case 1:return this.hb;case 2:return this.Ya;case 3:return this.Wa;case 4:return this.pa;
default:return this.pa}else switch(d){case 0:return this.qa;case 1:return this.ib;case 2:return this.Za;case 3:return this.Xa;case 4:return this.qa;default:return this.qa}};r.prototype.Pl=function(){return(this.pa+this.hb+this.Ya+this.Wa)/4};r.prototype.Ql=function(){return(this.qa+this.ib+this.Za+this.Xa)/4};r.prototype.Xi=function(d){var b=d.Pl(),s=d.Ql();if(this.lb(b,s))return!0;b=this.Pl();s=this.Ql();if(d.lb(b,s))return!0;var g,w,k,c,p,n,e,q;for(e=0;4>e;e++)for(q=0;4>q;q++)if(b=this.dd(e,!0),
s=this.dd(e,!1),g=this.dd(e+1,!0),w=this.dd(e+1,!1),k=d.dd(q,!0),c=d.dd(q,!1),p=d.dd(q+1,!0),n=d.dd(q+1,!1),ta(b,s,g,w,k,c,p,n))return!0;return!1};ua=r;va=function(d,b){for(var s in b)b.hasOwnProperty(s)&&(d[s]=b[s]);return d};wa=function(d,b){var s,g;b=N(b);if(!(0>b||b>=d.length)){s=b;for(g=d.length-1;s<g;s++)d[s]=d[s+1];d.length=g}};xa=function(d,b){d.length=b.length;var s,g;s=0;for(g=b.length;s<g;s++)d[s]=b[s]};ya=function(d,b){d.push.apply(d,b)};Aa=function(d,b){var s,g;s=0;for(g=d.length;s<g;++s)if(d[s]===
b)return s;return-1};Ba=function(d,b){var s=Aa(d,b);-1!==s&&wa(d,s)};P=function(d){return d/(180/na)};Ca=function(d){return 180/na*d};Da=function(d){d%=360;0>d&&(d+=360);return d};Ea=function(d){d%=2*na;0>d&&(d+=2*na);return d};Fa=function(d){return Da(Ca(d))};Ga=function(d){return Ea(P(d))};Ha=function(d,b,s,g){return Math.atan2(g-b,s-d)};Ia=function(d,b){if(d===b)return 0;var s=Math.sin(d),g=Math.cos(d),w=Math.sin(b),k=Math.cos(b),s=s*w+g*k;return 1<=s?0:-1>=s?na:Math.acos(s)};Ja=function(d,b,s){var g=
Math.sin(d),w=Math.cos(d),k=Math.sin(b),e=Math.cos(b);return Math.acos(g*k+w*e)>s?0<w*k-g*e?Ea(d+s):Ea(d-s):Ea(b)};S=function(d,b){var s=Math.sin(d),g=Math.cos(d),w=Math.sin(b),k=Math.cos(b);return 0>=g*w-s*k};Ka=function(d,b,s,g){d=s-d;b=g-b;return Math.sqrt(d*d+b*b)};La=function(d,b){return!d!==!b};Ma=function(d){for(var b in d)if(d.hasOwnProperty(b))return!0;return!1};Na=function(d){for(var b in d)d.hasOwnProperty(b)&&delete d[b]};var g=+new Date;Oa=function(){if("undefined"!==typeof window.performance){var d=
window.performance;if("undefined"!==typeof d.now)return d.now();if("undefined"!==typeof d.webkitNow)return d.webkitNow();if("undefined"!==typeof d.mozNow)return d.mozNow();if("undefined"!==typeof d.msNow)return d.msNow()}return Date.now()-g};var n=!1,y=n=!1,d=!1;"undefined"!==typeof window&&(n=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),n=!n&&/safari/i.test(navigator.userAgent),y=/(iphone|ipod|ipad)/i.test(navigator.userAgent),d=window.c2ejecta);var s=!n&&!d&&!y&&"undefined"!==
typeof Set&&"undefined"!==typeof Set.prototype.forEach;m.prototype.contains=function(d){return this.Qc()?!1:s?this.da.has(d):this.items&&this.items.hasOwnProperty(d)};m.prototype.add=function(d){if(s)this.da.has(d)||(this.da.add(d),this.gd=!1);else{var b=d.toString(),g=this.items;g?g.hasOwnProperty(b)||(g[b]=d,this.Oe++,this.gd=!1):(this.items={},this.items[b]=d,this.Oe=1,this.gd=!1)}};m.prototype.remove=function(d){if(!this.Qc())if(s)this.da.has(d)&&(this.da["delete"](d),this.gd=!1);else if(this.items){d=
d.toString();var b=this.items;b.hasOwnProperty(d)&&(delete b[d],this.Oe--,this.gd=!1)}};m.prototype.clear=function(){this.Qc()||(s?this.da.clear():(this.items=null,this.Oe=0),this.jf.length=0,this.gd=!0)};m.prototype.Qc=function(){return 0===this.count()};m.prototype.count=function(){return s?this.da.size:this.Oe};var w=null,T=0;m.prototype.$q=function(){if(!this.gd){if(s)this.jf.length=this.da.size,w=this.jf,T=0,this.da.forEach(u),w=null,T=0;else{var d=this.jf;d.length=this.Oe;var b,g=0,k=this.items;
if(k)for(b in k)k.hasOwnProperty(b)&&(d[g++]=k[b])}this.gd=!0}};m.prototype.Ld=function(){this.$q();return this.jf};D=m;new D;Pa=function(d,b){s?Qa(d,b.da):Ra(d,b.Ld())};Qa=function(d,b){var s,g,w,k;g=s=0;for(w=d.length;s<w;++s)k=d[s],b.has(k)||(d[g++]=k);d.length=g};Ra=function(d,b){var s,g,w,k;g=s=0;for(w=d.length;s<w;++s)k=d[s],-1===Aa(b,k)&&(d[g++]=k);d.length=g};q.prototype.add=function(d){this.y=d-this.gi;this.Ph=this.La+this.y;this.gi=this.Ph-this.La-this.y;this.La=this.Ph};q.prototype.reset=
function(){this.La=this.Ph=this.y=this.gi=0};Sa=q;Ta=function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};h.prototype.kg=function(d){this.km=d;this.gc=d.length/2;this.Ba.length=d.length;this.Bg=this.Cg=-1;this.pk=0};h.prototype.ee=function(){return!this.km.length};h.prototype.Z=function(){for(var d=this.Ba,b=d[0],s=b,g=d[1],w=g,k,e,c=1,p=this.gc;c<p;++c)e=2*c,k=d[e],e=d[e+1],k<b&&(b=k),k>s&&(s=k),e<g&&(g=e),e>w&&(w=e);this.xg=b;this.yg=s;this.zg=g;this.wg=w};h.prototype.se=function(d,
b,s){this.Ba.length=8;this.gc=4;var g=this.Ba;g[0]=d.left-b;g[1]=d.top-s;g[2]=d.right-b;g[3]=d.top-s;g[4]=d.right-b;g[5]=d.bottom-s;g[6]=d.left-b;g[7]=d.bottom-s;this.Cg=d.right-d.left;this.Bg=d.bottom-d.top;this.Z()};h.prototype.qe=function(d,b,s,g,w){this.Ba.length=8;this.gc=4;var k=this.Ba;k[0]=d.pa-b;k[1]=d.qa-s;k[2]=d.hb-b;k[3]=d.ib-s;k[4]=d.Ya-b;k[5]=d.Za-s;k[6]=d.Wa-b;k[7]=d.Xa-s;this.Cg=g;this.Bg=w;this.Z()};h.prototype.wm=function(d){this.gc=d.gc;xa(this.Ba,d.Ba);this.xg=d.xg;this.zg-d.zg;
this.yg=d.yg;this.wg=d.wg};h.prototype.Qd=function(d,b,s){if(this.Cg!==d||this.Bg!==b||this.pk!==s){this.Cg=d;this.Bg=b;this.pk=s;var g,w,k,e,c,p=0,n=1,q=this.km,a=this.Ba;0!==s&&(p=Math.sin(s),n=Math.cos(s));s=0;for(k=this.gc;s<k;s++)g=2*s,w=g+1,e=q[g]*d,c=q[w]*b,a[g]=e*n-c*p,a[w]=c*n+e*p;this.Z()}};h.prototype.lb=function(d,b){var s=this.Ba;if(d===s[0]&&b===s[1])return!0;var g,w,k,e=this.gc,c=this.xg-110,p=this.zg-101,n=this.yg+131,q=this.wg+120,a,f,T=0,t=0;for(g=0;g<e;g++)w=2*g,k=(g+1)%e*2,a=s[w],
w=s[w+1],f=s[k],k=s[k+1],ta(c,p,d,b,a,w,f,k)&&T++,ta(n,q,d,b,a,w,f,k)&&t++;return 1===T%2||1===t%2};h.prototype.Zd=function(d,b,s){var g=d.Ba,w=this.Ba;if(this.lb(g[0]+b,g[1]+s)||d.lb(w[0]-b,w[1]-s))return!0;var k,e,c,p,n,q,a,f,T,t,R,y;k=0;for(p=this.gc;k<p;k++)for(e=2*k,c=(k+1)%p*2,f=w[e],e=w[e+1],T=w[c],t=w[c+1],c=0,a=d.gc;c<a;c++)if(n=2*c,q=(c+1)%a*2,R=g[n]+b,n=g[n+1]+s,y=g[q]+b,q=g[q+1]+s,ta(f,e,T,t,R,n,y,q))return!0;return!1};Ua=h;f.prototype.od=function(d,b,s){var g;g=this.cells[d];return g?
(g=g[b])?g:s?(g=c(this,d,b),this.cells[d][b]=g):null:s?(g=c(this,d,b),this.cells[d]={},this.cells[d][b]=g):null};f.prototype.xb=function(d){return N(d/this.ji)};f.prototype.yb=function(d){return N(d/this.ii)};f.prototype.update=function(d,b,s){var g,w,k,e,c;if(b)for(g=b.left,w=b.right;g<=w;++g)for(k=b.top,e=b.bottom;k<=e;++k)if(!s||!s.lb(g,k))if(c=this.od(g,k,!1))c.remove(d),c.Qc()&&(c.Fa.clear(),1E3>R.length&&R.push(c),this.cells[g][k]=null);if(s)for(g=s.left,w=s.right;g<=w;++g)for(k=s.top,e=s.bottom;k<=
e;++k)b&&b.lb(g,k)||this.od(g,k,!0).Vi(d)};f.prototype.Eh=function(d,b){var s,g,k,w,e,c;s=this.xb(d.left);k=this.yb(d.top);g=this.xb(d.right);for(e=this.yb(d.bottom);s<=g;++s)for(w=k;w<=e;++w)(c=this.od(s,w,!1))&&c.dump(b)};Va=f;e.prototype.od=function(d,b,s){var g;g=this.cells[d];return g?(g=g[b])?g:s?(g=k(this,d,b),this.cells[d][b]=g):null:s?(g=k(this,d,b),this.cells[d]={},this.cells[d][b]=g):null};e.prototype.xb=function(d){return N(d/this.ji)};e.prototype.yb=function(d){return N(d/this.ii)};e.prototype.update=
function(d,b,s){var g,w,k,e,c;if(b)for(g=b.left,w=b.right;g<=w;++g)for(k=b.top,e=b.bottom;k<=e;++k)if(!s||!s.lb(g,k))if(c=this.od(g,k,!1))c.remove(d),c.Qc()&&(c.reset(),1E3>Y.length&&Y.push(c),this.cells[g][k]=null);if(s)for(g=s.left,w=s.right;g<=w;++g)for(k=s.top,e=s.bottom;k<=e;++k)b&&b.lb(g,k)||this.od(g,k,!0).Vi(d)};e.prototype.Eh=function(d,b,s,g,k){var w,e;d=this.xb(d);b=this.yb(b);s=this.xb(s);for(w=this.yb(g);d<=s;++d)for(g=b;g<=w;++g)(e=this.od(d,g,!1))&&e.dump(k)};e.prototype.hq=function(d){var b,
s,g,k,w;b=d.left;g=d.top;s=d.right;for(k=d.bottom;b<=s;++b)for(d=g;d<=k;++d)if(w=this.od(b,d,!1))w.Ne=!1};Wa=e;var R=[];b.prototype.Qc=function(){return this.Fa.Qc()};b.prototype.Vi=function(d){this.Fa.add(d)};b.prototype.remove=function(d){this.Fa.remove(d)};b.prototype.dump=function(d){ya(d,this.Fa.Ld())};ba=b;var Y=[];t.prototype.Qc=function(){if(!this.Fa.length)return!0;if(this.Fa.length>this.xc.count())return!1;this.Di();return!0};t.prototype.Vi=function(d){this.xc.contains(d)?(this.xc.remove(d),
this.xc.Qc()&&(this.nf=!1)):this.Fa.length?(this.Fa[this.Fa.length-1].sc()>d.sc()&&(this.Ne=!1),this.Fa.push(d)):(this.Fa.push(d),this.Ne=!0)};t.prototype.remove=function(d){this.xc.add(d);this.nf=!0;30<=this.xc.count()&&this.Di()};t.prototype.Di=function(){this.nf&&(this.xc.count()===this.Fa.length?this.reset():(Pa(this.Fa,this.xc),this.xc.clear(),this.nf=!1))};t.prototype.Fo=function(){this.Ne||(this.Fa.sort(p),this.Ne=!0)};t.prototype.reset=function(){this.Fa.length=0;this.Ne=!0;this.xc.clear();
this.nf=!1};t.prototype.dump=function(d){this.Di();this.Fo();this.Fa.length&&d.push(this.Fa)};ca=t;var fa="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Xa=function(d){return 0>=d||11<=d?"source-over":fa[d-1]};Ya=function(d,b,s){if(s)switch(d.Qa=s.ONE,d.Na=s.ONE_MINUS_SRC_ALPHA,b){case 1:d.Qa=s.ONE;d.Na=s.ONE;break;case 3:d.Qa=s.ONE;d.Na=s.ZERO;break;case 4:d.Qa=s.ONE_MINUS_DST_ALPHA;d.Na=s.ONE;break;case 5:d.Qa=s.DST_ALPHA;
d.Na=s.ZERO;break;case 6:d.Qa=s.ZERO;d.Na=s.SRC_ALPHA;break;case 7:d.Qa=s.ONE_MINUS_DST_ALPHA;d.Na=s.ZERO;break;case 8:d.Qa=s.ZERO;d.Na=s.ONE_MINUS_SRC_ALPHA;break;case 9:d.Qa=s.DST_ALPHA;d.Na=s.ONE_MINUS_SRC_ALPHA;break;case 10:d.Qa=s.ONE_MINUS_DST_ALPHA,d.Na=s.SRC_ALPHA}};Za=function(d){return Math.round(1E6*d)/1E6};$a=function(d,b){return"string"!==typeof d||"string"!==typeof b||d.length!==b.length?!1:d===b?!0:d.toLowerCase()===b.toLowerCase()};ab=function(d){d=d.target;return!d||d===document||
d===window||document&&document.body&&d===document.body||$a(d.tagName,"canvas")?!0:!1}})();var Rb="undefined"!==typeof Float32Array?Float32Array:Array;function Sb(l){var r=new Rb(3);l&&(r[0]=l[0],r[1]=l[1],r[2]=l[2]);return r}function Tb(l){var r=new Rb(16);l&&(r[0]=l[0],r[1]=l[1],r[2]=l[2],r[3]=l[3],r[4]=l[4],r[5]=l[5],r[6]=l[6],r[7]=l[7],r[8]=l[8],r[9]=l[9],r[10]=l[10],r[11]=l[11],r[12]=l[12],r[13]=l[13],r[14]=l[14],r[15]=l[15]);return r}
function Ub(l,r){r[0]=l[0];r[1]=l[1];r[2]=l[2];r[3]=l[3];r[4]=l[4];r[5]=l[5];r[6]=l[6];r[7]=l[7];r[8]=l[8];r[9]=l[9];r[10]=l[10];r[11]=l[11];r[12]=l[12];r[13]=l[13];r[14]=l[14];r[15]=l[15]}function Vb(l,r){var a=r[0],m=r[1];r=r[2];l[0]*=a;l[1]*=a;l[2]*=a;l[3]*=a;l[4]*=m;l[5]*=m;l[6]*=m;l[7]*=m;l[8]*=r;l[9]*=r;l[10]*=r;l[11]*=r}
function Wb(l,r,a,m){m||(m=Tb());var u,q,h,f,e,c,b,k,t=l[0],p=l[1];l=l[2];q=a[0];h=a[1];u=a[2];a=r[1];c=r[2];t===r[0]&&p===a&&l===c?(l=m,l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1):(a=t-r[0],c=p-r[1],b=l-r[2],k=1/Math.sqrt(a*a+c*c+b*b),a*=k,c*=k,b*=k,r=h*b-u*c,u=u*a-q*b,q=q*c-h*a,(k=Math.sqrt(r*r+u*u+q*q))?(k=1/k,r*=k,u*=k,q*=k):q=u=r=0,h=c*q-b*u,f=b*r-a*q,e=a*u-c*r,(k=Math.sqrt(h*h+f*f+e*e))?(k=1/k,h*=k,f*=k,e*=k):e=f=h=0,
m[0]=r,m[1]=h,m[2]=a,m[3]=0,m[4]=u,m[5]=f,m[6]=c,m[7]=0,m[8]=q,m[9]=e,m[10]=b,m[11]=0,m[12]=-(r*t+u*p+q*l),m[13]=-(h*t+f*p+e*l),m[14]=-(a*t+c*p+b*l),m[15]=1)}
(function(){function l(q){this.rd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.sk=Sb([0,0,100]);this.zl=Sb([0,0,0]);this.Sm=Sb([0,1,0]);this.ck=Sb([1,1,1]);this.Ek=!0;this.oj=Tb();this.Qb=Tb();this.pl=Tb();this.qi=Tb();this.i=q;this.$k()}function r(q,a,f){this.i=q;this.lg=a;this.name=f;this.Pb=q.getAttribLocation(a,"aPos");this.xd=q.getAttribLocation(a,"aTex");this.xl=q.getUniformLocation(a,"matP");this.rh=q.getUniformLocation(a,"matMV");this.Re=
q.getUniformLocation(a,"opacity");this.yl=q.getUniformLocation(a,"samplerFront");this.Tf=q.getUniformLocation(a,"samplerBack");this.ke=q.getUniformLocation(a,"destStart");this.je=q.getUniformLocation(a,"destEnd");this.lj=q.getUniformLocation(a,"seconds");this.kj=q.getUniformLocation(a,"pixelWidth");this.jj=q.getUniformLocation(a,"pixelHeight");this.Sf=q.getUniformLocation(a,"layerScale");this.Rf=q.getUniformLocation(a,"layerAngle");this.Vf=q.getUniformLocation(a,"viewOrigin");this.Uf=q.getUniformLocation(a,
"scrollPos");this.Qp=!!(this.kj||this.jj||this.lj||this.Tf||this.ke||this.je||this.Sf||this.Rf||this.Vf||this.Uf);this.Hl=this.Il=-999;this.vh=1;this.Dl=this.Cl=0;this.Fl=this.Bl=this.Al=1;this.Kl=this.Jl=this.Ml=this.Ll=this.El=0;this.ej=[];this.Gl=Tb();this.Re&&q.uniform1f(this.Re,1);this.yl&&q.uniform1i(this.yl,0);this.Tf&&q.uniform1i(this.Tf,1);this.ke&&q.uniform2f(this.ke,0,0);this.je&&q.uniform2f(this.je,1,1);this.Sf&&q.uniform1f(this.Sf,1);this.Rf&&q.uniform1f(this.Rf,0);this.Vf&&q.uniform2f(this.Vf,
0,0);this.Uf&&q.uniform2f(this.Uf,0,0);this.Vd=!1}function a(q,a){this.type=q;this.m=a;this.i=a.i;this.tc=this.Sb=this.am=0;this.N=this.kc=null;this.ym=[]}l.prototype.$k=function(){var q=this.i,a;this.ql=1;this.ge=this.vd=null;this.Ig=1;q.clearColor(0,0,0,0);q.clear(q.COLOR_BUFFER_BIT);q.enable(q.BLEND);q.blendFunc(q.ONE,q.ONE_MINUS_SRC_ALPHA);q.disable(q.CULL_FACE);q.disable(q.DEPTH_TEST);this.rl=q.ONE;this.ol=q.ONE_MINUS_SRC_ALPHA;this.vj=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,this.vj);this.rg=
Array(4);this.ng=Array(4);for(a=0;4>a;a++)this.rg[a]=q.createBuffer(),q.bindBuffer(q.ARRAY_BUFFER,this.rg[a]),this.ng[a]=q.createBuffer(),q.bindBuffer(q.ARRAY_BUFFER,this.ng[a]);this.Ic=0;this.Sp=q.createBuffer();q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,this.Sp);this.bk=new Float32Array(16E3);this.Rj=new Float32Array(16E3);this.tq=new Float32Array(32E3);for(var f=new Uint16Array(12E3),e=a=0;12E3>a;)f[a++]=e,f[a++]=e+1,f[a++]=e+2,f[a++]=e,f[a++]=e+2,f[a++]=e+3,e+=4;q.bufferData(q.ELEMENT_ARRAY_BUFFER,f,
q.STATIC_DRAW);this.wj=this.Ec=0;this.Da=[];a=this.pi({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Da.push(a);a=this.pi({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Da.push(a);for(var c in Xb)Xb.hasOwnProperty(c)&&this.Da.push(this.pi(Xb[c],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",c));q.activeTexture(q.TEXTURE0);q.bindTexture(q.TEXTURE_2D,null);this.fd=[];this.Gc=0;this.mb=!1;this.Ak=this.Mf=-1;this.vf=null;this.dp=q.createFramebuffer();this.om=null;this.Kd=Sb([0,0,0]);this.Nl=q.getParameter(q.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Nl&&
(this.Nl=2048);this.Ac(0)};r.prototype.Xj=function(a){var h=this.Gl;if(h[0]!==a[0]||h[1]!==a[1]||h[2]!==a[2]||h[3]!==a[3]||h[4]!==a[4]||h[5]!==a[5]||h[6]!==a[6]||h[7]!==a[7]||h[8]!==a[8]||h[9]!==a[9]||h[10]!==a[10]||h[11]!==a[11]||h[12]!==a[12]||h[13]!==a[13]||h[14]!==a[14]||h[15]!==a[15])Ub(a,this.Gl),this.i.uniformMatrix4fv(this.rh,!1,a)};l.prototype.pi=function(a,h,f){var e=this.i,c=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(c,a.src);e.compileShader(c);if(!e.getShaderParameter(c,e.COMPILE_STATUS))return e.deleteShader(c),
null;var b=e.createShader(e.VERTEX_SHADER);e.shaderSource(b,h);e.compileShader(b);if(!e.getShaderParameter(b,e.COMPILE_STATUS))return e.deleteShader(c),e.deleteShader(b),null;h=e.createProgram();e.attachShader(h,c);e.attachShader(h,b);e.linkProgram(h);if(!e.getProgramParameter(h,e.LINK_STATUS))return e.deleteShader(c),e.deleteShader(b),e.deleteProgram(h),null;e.useProgram(h);e.deleteShader(c);e.deleteShader(b);f=new r(e,h,f);f.Bi=a.Bi||0;f.Ci=a.Ci||0;f.zk=!!a.zk;f.jk=!!a.jk;f.q=a.q||[];a=0;for(c=
f.q.length;a<c;a++)f.q[a][1]=e.getUniformLocation(h,f.q[a][0]),f.ej.push(0),e.uniform1f(f.q[a][1],0);return f};l.prototype.Pi=function(a){var h,f;h=0;for(f=this.Da.length;h<f;h++)if(this.Da[h].name===a)return h;return-1};l.prototype.jm=function(a,h,f){var e=this.Qb,c=this.oj,b=[0,0,0,0,0,0,0,0];b[0]=e[0]*a+e[4]*h+e[12];b[1]=e[1]*a+e[5]*h+e[13];b[2]=e[2]*a+e[6]*h+e[14];b[3]=e[3]*a+e[7]*h+e[15];b[4]=c[0]*b[0]+c[4]*b[1]+c[8]*b[2]+c[12]*b[3];b[5]=c[1]*b[0]+c[5]*b[1]+c[9]*b[2]+c[13]*b[3];b[6]=c[2]*b[0]+
c[6]*b[1]+c[10]*b[2]+c[14]*b[3];b[7]=-b[2];0!==b[7]&&(b[7]=1/b[7],b[4]*=b[7],b[5]*=b[7],b[6]*=b[7],f[0]=(.5*b[4]+.5)*this.width,f[1]=(.5*b[5]+.5)*this.height)};l.prototype.df=function(a,h,f){if(this.width!==a||this.height!==h||f){this.md();this.width=a;this.height=h;this.i.viewport(0,0,a,h);h=a/h;var e=this.oj,c;c=1*Math.tan(45*Math.PI/360);h*=c;a=-h;f=-c;e||(e=Tb());var b=h-a,k=c-f;e[0]=2/b;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/k;e[6]=0;e[7]=0;e[8]=(h+a)/b;e[9]=(c+f)/k;e[10]=-1001/999;e[11]=-1;e[12]=
0;e[13]=0;e[14]=-2E3/999;e[15]=0;Wb(this.sk,this.zl,this.Sm,this.Qb);a=[0,0];h=[0,0];this.jm(0,0,a);this.jm(1,1,h);this.ck[0]=1/(h[0]-a[0]);this.ck[1]=-1/(h[1]-a[1]);a=0;for(h=this.Da.length;a<h;a++)f=this.Da[a],f.Vd=!1,f.xl&&(this.i.useProgram(f.lg),this.i.uniformMatrix4fv(f.xl,!1,this.oj));this.i.useProgram(this.Da[this.Mf].lg);this.i.bindTexture(this.i.TEXTURE_2D,null);this.i.activeTexture(this.i.TEXTURE1);this.i.bindTexture(this.i.TEXTURE_2D,null);this.i.activeTexture(this.i.TEXTURE0);this.ge=
this.vd=null}};l.prototype.yc=function(){Wb(this.sk,this.zl,this.Sm,this.Qb);Vb(this.Qb,this.ck)};l.prototype.translate=function(a,h){if(0!==a||0!==h){this.Kd[0]=a;this.Kd[1]=h;this.Kd[2]=0;var f=this.Qb,e=this.Kd,c=e[0],b=e[1],e=e[2];f[12]=f[0]*c+f[4]*b+f[8]*e+f[12];f[13]=f[1]*c+f[5]*b+f[9]*e+f[13];f[14]=f[2]*c+f[6]*b+f[10]*e+f[14];f[15]=f[3]*c+f[7]*b+f[11]*e+f[15]}};l.prototype.scale=function(a,h){if(1!==a||1!==h)this.Kd[0]=a,this.Kd[1]=h,this.Kd[2]=1,Vb(this.Qb,this.Kd)};l.prototype.Gj=function(a){if(0!==
a){var h=this.Qb,f,e=Math.sin(a);a=Math.cos(a);var c=h[0],b=h[1],k=h[2],t=h[3],p=h[4],v=h[5],x=h[6],g=h[7];f?h!==f&&(f[8]=h[8],f[9]=h[9],f[10]=h[10],f[11]=h[11],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]):f=h;f[0]=c*a+p*e;f[1]=b*a+v*e;f[2]=k*a+x*e;f[3]=t*a+g*e;f[4]=c*-e+p*a;f[5]=b*-e+v*a;f[6]=k*-e+x*a;f[7]=t*-e+g*a}};l.prototype.Dc=function(){for(var a=!1,h=0;16>h;h++)if(this.pl[h]!==this.Qb[h]){a=!0;break}a&&(a=this.hc(),a.type=5,a.N?Ub(this.Qb,a.N):a.N=Tb(this.Qb),Ub(this.Qb,this.pl),this.mb=
!1)};a.prototype.vo=function(){this.i.bindTexture(this.i.TEXTURE_2D,this.kc)};a.prototype.wo=function(){var a=this.i;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.kc);a.activeTexture(a.TEXTURE0)};a.prototype.so=function(){var a=this.am,h=this.m;h.Ig=a;h=h.vf;h.Re&&h.vh!==a&&(h.vh=a,this.i.uniform1f(h.Re,a))};a.prototype.po=function(){this.i.drawElements(this.i.TRIANGLES,this.tc,this.i.UNSIGNED_SHORT,2*this.Sb)};a.prototype.ro=function(){this.i.blendFunc(this.Sb,this.tc)};a.prototype.xo=
function(){var a,h,f,e=this.m.Da,c=this.m.Ak;a=0;for(h=e.length;a<h;a++)f=e[a],a===c&&f.rh?(f.Xj(this.N),f.Vd=!0):f.Vd=!1;Ub(this.N,this.m.qi)};a.prototype.qo=function(){var a=this.i,h=this.m;this.kc?(h.ge===this.kc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),h.ge=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,h.dp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.kc,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};a.prototype.no=function(){var a=this.i;0===this.Sb?(a.clearColor(this.N[0],this.N[1],this.N[2],this.N[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.N[0],this.N[1],this.N[2],this.N[3]),a.clearColor(0,0,0,0),a.clear(this.i.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};a.prototype.oo=function(){var a=this.i,h=this.m,f=h.Da[1];a.useProgram(f.lg);!f.Vd&&f.rh&&(f.Xj(h.qi),f.Vd=!0);a.enableVertexAttribArray(f.Pb);a.bindBuffer(a.ARRAY_BUFFER,
h.vj);a.vertexAttribPointer(f.Pb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Sb/4,this.tc);f=h.vf;a.useProgram(f.lg);0<=f.Pb&&(a.enableVertexAttribArray(f.Pb),a.bindBuffer(a.ARRAY_BUFFER,h.rg[h.Ic]),a.vertexAttribPointer(f.Pb,2,a.FLOAT,!1,0,0));0<=f.xd&&(a.enableVertexAttribArray(f.xd),a.bindBuffer(a.ARRAY_BUFFER,h.ng[h.Ic]),a.vertexAttribPointer(f.xd,2,a.FLOAT,!1,0,0))};a.prototype.to=function(){var a=this.i,h=this.m,f=h.Da[this.Sb];h.Ak=this.Sb;h.vf=f;a.useProgram(f.lg);!f.Vd&&f.rh&&(f.Xj(h.qi),
f.Vd=!0);f.Re&&f.vh!==h.Ig&&(f.vh=h.Ig,a.uniform1f(f.Re,h.Ig));0<=f.Pb&&(a.enableVertexAttribArray(f.Pb),a.bindBuffer(a.ARRAY_BUFFER,h.rg[h.Ic]),a.vertexAttribPointer(f.Pb,2,a.FLOAT,!1,0,0));0<=f.xd&&(a.enableVertexAttribArray(f.xd),a.bindBuffer(a.ARRAY_BUFFER,h.ng[h.Ic]),a.vertexAttribPointer(f.xd,2,a.FLOAT,!1,0,0))};a.prototype.uo=function(){var a,h,f=this.m.vf,e=this.i;a=this.N;f.Tf&&this.m.ge!==this.kc&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.kc),this.m.ge=this.kc,e.activeTexture(e.TEXTURE0));
var c=a[0];f.kj&&c!==f.Il&&(f.Il=c,e.uniform1f(f.kj,c));c=a[1];f.jj&&c!==f.Hl&&(f.Hl=c,e.uniform1f(f.jj,c));c=a[2];h=a[3];!f.ke||c===f.Cl&&h===f.Dl||(f.Cl=c,f.Dl=h,e.uniform2f(f.ke,c,h));c=a[4];h=a[5];!f.je||c===f.Al&&h===f.Bl||(f.Al=c,f.Bl=c,e.uniform2f(f.je,c,h));c=a[6];f.Sf&&c!==f.Fl&&(f.Fl=c,e.uniform1f(f.Sf,c));c=a[7];f.Rf&&c!==f.El&&(f.El=c,e.uniform1f(f.Rf,c));c=a[8];h=a[9];!f.Vf||c===f.Ll&&h===f.Ml||(f.Ll=c,f.Ml=h,e.uniform2f(f.Vf,c,h));c=a[10];h=a[11];!f.Uf||c===f.Jl&&h===f.Kl||(f.Jl=c,f.Kl=
h,e.uniform2f(f.Uf,c,h));f.lj&&e.uniform1f(f.lj,Oa()/1E3);if(f.q.length)for(a=0,h=f.q.length;a<h;a++)c=this.ym[a],c!==f.ej[a]&&(f.ej[a]=c,e.uniform1f(f.q[a][1],c))};l.prototype.hc=function(){this.Gc===this.fd.length&&this.fd.push(new a(0,this));return this.fd[this.Gc++]};l.prototype.md=function(){if(0!==this.Gc&&!this.i.isContextLost()){var a=this.i;0<this.wj&&(a.bindBuffer(a.ARRAY_BUFFER,this.vj),a.bufferData(a.ARRAY_BUFFER,this.tq.subarray(0,this.wj),a.STREAM_DRAW),h&&0<=h.Pb&&"<point>"===h.name&&
a.vertexAttribPointer(h.Pb,4,a.FLOAT,!1,0,0));if(0<this.Ec){var h=this.vf;a.bindBuffer(a.ARRAY_BUFFER,this.rg[this.Ic]);a.bufferData(a.ARRAY_BUFFER,this.bk.subarray(0,this.Ec),a.STREAM_DRAW);h&&0<=h.Pb&&"<point>"!==h.name&&a.vertexAttribPointer(h.Pb,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.ng[this.Ic]);a.bufferData(a.ARRAY_BUFFER,this.Rj.subarray(0,this.Ec),a.STREAM_DRAW);h&&0<=h.xd&&"<point>"!==h.name&&a.vertexAttribPointer(h.xd,2,a.FLOAT,!1,0,0)}for(var f,a=0,h=this.Gc;a<h;a++)switch(f=
this.fd[a],f.type){case 1:f.po();break;case 2:f.vo();break;case 3:f.so();break;case 4:f.ro();break;case 5:f.xo();break;case 6:f.qo();break;case 7:f.no();break;case 8:f.oo();break;case 9:f.to();break;case 10:f.uo();break;case 11:f.wo()}this.wj=this.Ec=this.Gc=0;this.mb=!1;this.Ic++;4<=this.Ic&&(this.Ic=0)}};l.prototype.bf=function(a){if(a!==this.ql){var h=this.hc();h.type=3;this.ql=h.am=a;this.mb=!1}};l.prototype.Ib=function(a){if(a!==this.vd){var h=this.hc();h.type=2;this.vd=h.kc=a;this.mb=!1}};l.prototype.Fd=
function(a,h){if(a!==this.rl||h!==this.ol){var f=this.hc();f.type=4;f.Sb=a;f.tc=h;this.rl=a;this.ol=h;this.mb=!1}};l.prototype.um=function(){this.Fd(this.i.ONE,this.i.ONE_MINUS_SRC_ALPHA)};l.prototype.Dh=function(a,h,f,e,c,b,k,t){15992<=this.Ec&&this.md();var p=this.Ec,v=this.bk,x=this.Rj;if(this.mb)this.fd[this.Gc-1].tc+=6;else{var g=this.hc();g.type=1;g.Sb=p/4*3;g.tc=6;this.mb=!0}v[p]=a;x[p++]=0;v[p]=h;x[p++]=0;v[p]=f;x[p++]=1;v[p]=e;x[p++]=0;v[p]=c;x[p++]=1;v[p]=b;x[p++]=1;v[p]=k;x[p++]=0;v[p]=
t;x[p++]=1;this.Ec=p};l.prototype.Dd=function(a,h,f,e,c,b,k,t,p){15992<=this.Ec&&this.md();var v=this.Ec,x=this.bk,g=this.Rj;if(this.mb)this.fd[this.Gc-1].tc+=6;else{var n=this.hc();n.type=1;n.Sb=v/4*3;n.tc=6;this.mb=!0}var n=p.left,y=p.top,d=p.right;p=p.bottom;x[v]=a;g[v++]=n;x[v]=h;g[v++]=y;x[v]=f;g[v++]=d;x[v]=e;g[v++]=y;x[v]=c;g[v++]=d;x[v]=b;g[v++]=p;x[v]=k;g[v++]=n;x[v]=t;g[v++]=p;this.Ec=v};l.prototype.Ac=function(a){if(this.Mf!==a){if(!this.Da[a]){if(0===this.Mf)return;a=0}var h=this.hc();
h.type=9;this.Mf=h.Sb=a;this.mb=!1}};l.prototype.dg=function(a){a=this.Da[a];return!(!a.ke&&!a.je)};l.prototype.xj=function(a){a=this.Da[a];return!!(a.ke||a.je||a.zk)};l.prototype.Bq=function(a){a=this.Da[a];return 0!==a.Bi||0!==a.Ci};l.prototype.vp=function(a){return this.Da[a].Bi};l.prototype.wp=function(a){return this.Da[a].Ci};l.prototype.xp=function(a,h){return this.Da[a].q[h][2]};l.prototype.Bh=function(a){return this.Da[a].jk};l.prototype.cf=function(a,h,f,e,c,b,k,t,p,v,x,g,n,y){var d=this.Da[this.Mf],
s,w;if(d.Qp||y.length){s=this.hc();s.type=10;s.N?Ub(this.Qb,s.N):s.N=Tb();w=s.N;w[0]=h;w[1]=f;w[2]=e;w[3]=c;w[4]=b;w[5]=k;w[6]=t;w[7]=p;w[8]=v;w[9]=x;w[10]=g;w[11]=n;s.kc=d.Tf?a:null;if(y.length)for(f=s.ym,f.length=y.length,a=0,h=y.length;a<h;a++)f[a]=y[a];this.mb=!1}};l.prototype.clear=function(a,h,f,e){var c=this.hc();c.type=7;c.Sb=0;c.N||(c.N=Tb());c.N[0]=a;c.N[1]=h;c.N[2]=f;c.N[3]=e;this.mb=!1};l.prototype.clearRect=function(a,h,f,e){if(!(0>f||0>e)){var c=this.hc();c.type=7;c.Sb=1;c.N||(c.N=Tb());
c.N[0]=a;c.N[1]=h;c.N[2]=f;c.N[3]=e;this.mb=!1}};l.prototype.Aq=function(){this.md();this.i.flush()};var m=[],u={};l.prototype.bo=function(){m.length=0;u={}};l.prototype.wl=function(a,h,f){var e;e=!1;h=!!h;var c=a.src+","+e+","+h+(e?",undefined":""),b=null;if("undefined"!==typeof a.src&&u.hasOwnProperty(c))return b=u[c],b.Ag++,b;this.md();var k=this.i,t=ia(a.width)&&ia(a.height),b=k.createTexture();k.bindTexture(k.TEXTURE_2D,b);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=k.RGBA,v=k.RGBA,
x=k.UNSIGNED_BYTE;if(f&&!this.rd)switch(f){case 1:v=p=k.RGB;break;case 2:x=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:x=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:v=p=k.RGB,x=k.UNSIGNED_SHORT_5_6_5}if(!t&&e){f=document.createElement("canvas");f.width=ka(a.width);f.height=ka(a.height);var g=f.getContext("2d");g.webkitImageSmoothingEnabled=h;g.mozImageSmoothingEnabled=h;g.msImageSmoothingEnabled=h;g.imageSmoothingEnabled=h;g.drawImage(a,0,0,a.width,a.height,0,0,f.width,f.height);k.texImage2D(k.TEXTURE_2D,0,p,
v,x,f)}else k.texImage2D(k.TEXTURE_2D,0,p,v,x,a);e?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));h?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),t&&this.Ek?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.vd=null;b.sf=a.width;b.rf=a.height;b.Ag=1;b.ok=c;m.push(b);return u[c]=b};l.prototype.Hc=function(a,h,f,e){this.md();var c=this.i;this.rd&&(e=!1);var b=c.createTexture();c.bindTexture(c.TEXTURE_2D,b);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a,h,0,c.RGBA,e?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,null);c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,f?c.LINEAR:c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,f?c.LINEAR:c.NEAREST);c.bindTexture(c.TEXTURE_2D,null);this.vd=null;b.sf=a;b.rf=h;m.push(b);return b};l.prototype.er=function(a,h,f){this.md();var e=this.i;this.rd&&(f=!1);e.bindTexture(e.TEXTURE_2D,h);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{e.texImage2D(e.TEXTURE_2D,
0,e.RGBA,e.RGBA,f?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,a)}catch(c){console&&console.error&&console.error("Error updating WebGL texture: ",c)}e.bindTexture(e.TEXTURE_2D,null);this.vd=null};l.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ag&&1<a.Ag?a.Ag--:(this.md(),a===this.vd&&(this.i.bindTexture(this.i.TEXTURE_2D,null),this.vd=null),a===this.ge&&(this.i.activeTexture(this.i.TEXTURE1),this.i.bindTexture(this.i.TEXTURE_2D,null),this.i.activeTexture(this.i.TEXTURE0),this.ge=null),
Ba(m,a),"undefined"!==typeof a.ok&&delete u[a.ok],this.i.deleteTexture(a)))};l.prototype.zc=function(a){if(a!==this.om){var h=this.hc();h.type=6;this.om=h.kc=a;this.mb=!1}};bb=l})();
(function(){function l(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function r(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function a(d){if(d&&(d.getContext||d.dc)&&!d.c2runtime){d.c2runtime=this;var b=this;this.ae=(this.$g=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2isphonegap&&window.c2isphonegap;this.$d=!!d.dc;this.Up="undefined"!==typeof window.AppMobi||this.$d;this.$b=!!window.c2cocoonjs;this.ac=!!window.c2ejecta;this.$b&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.ac&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.$a=this.$d||this.$b||this.ac;this.rd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.il=/tizen/i.test(navigator.userAgent);this.gl=/android/i.test(navigator.userAgent)&&!this.il&&!this.rd;this.dj=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.rd;this.nl=/ipad/i.test(navigator.userAgent);this.ml=this.dj||this.nl||this.ac;this.bq=this.dj&&/os\s6/i.test(navigator.userAgent);this.Zg=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.rd;this.fl=/amazonwebappplatform/i.test(navigator.userAgent);this.Xp=/firefox/i.test(navigator.userAgent);this.$p=/safari/i.test(navigator.userAgent)&&!this.Zg&&!this.rd;this.td="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.kl=!("undefined"===
typeof window.c2isWindows8||!window.c2isWindows8);this.aq=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Le=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.bj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.jl=this.kl||this.aq||this.bj;this.Vp=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.hl=this.gl&&!this.Zg&&!this.$g&&!this.Xp&&!this.fl&&!this.$a;this.devicePixelRatio=
1;this.sd=this.ae||this.$g||this.Up||this.$b||this.gl||this.ml||this.Le||this.bj||this.Vp||this.il||this.ac;this.sd||(this.sd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.td||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.td=!0);this.Wp="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=d;this.tk=document.getElementById("c2canvasdiv");
this.P=this.m=this.i=null;this.Gi="";this.Rg=!1;this.Yl=this.Zl=0;this.canvas.oncontextmenu=function(d){d.preventDefault&&d.preventDefault();return!1};this.canvas.onselectstart=function(d){d.preventDefault&&d.preventDefault();return!1};this.$d&&(window.c2runtime=this);this.td&&(window.ondragover=function(d){d.preventDefault();return!1},window.ondrop=function(d){d.preventDefault();return!1},require("nw.gui").App.clearCache());this.hl&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=d.width;this.height=d.height;this.F=this.width;this.D=this.height;this.Gg=this.width;this.Fg=this.height;this.Of=window.innerWidth;this.Nf=window.innerHeight;this.fp=!1;this.Q=!0;this.Kf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=[];this.ja=[];this.hj={};this.ec=[];this.Ai={};this.Mc=[];this.lf=[];this.Uh=[];this.Sn=[];this.Tn=[];this.Cm=null;this.Rd={};this.Zi=this.qd=!1;this.cc=0;this.aj=!1;this.Yb=[];this.Sc=this.Ua=this.nh=this.Kj=
"";this.mg=this.Bm=!1;this.oi=this.Wf=this.Lc=this.Fe=0;this.og=1;this.fe=new Sa;this.Xh=new Sa;this.ih=0;this.Ol=!0;this.xh=this.Tg=this.Pg=this.Cc=this.ie=this.Fi=0;this.mi=null;this.vi=[];this.yi=[];this.Og=-1;this.mj=[[]];this.Vj=this.sh=0;this.Ch(null);this.nj=[];this.uh=-1;this.zf=this.Tl=this.Zf=0;this.Oh=[];this.Sh=this.Fh=-1;this.fh=!0;this.qh=0;this.Jf=!1;this.Rq=0;this.qf=null;this.Op=!1;this.fj=0;this.zj=!1;this.Wl=new D;this.rj=new D;this.Xl=new D;this.Bj=[];this.fb=new Ua([]);this.Pj=
new Ua([]);this.Be=[];this.Xg={};this.De={};this.Ae={};this.kf={};this.lk={};this.ul=this.mh=this.qb=this.Gb=this.tl=this.lh=this.U=null;this.hf=this.cj=!1;this.Hi=[null,null];this.Ud=0;this.yd={};this.Mh=this.Qe=null;this.wh=[];this.Fq()}}function m(d){d.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(d,b,g,a){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=m;k.onerror=a;k.onsuccess=function(k){k=k.target.result;k.onerror=a;k.transaction(["saves"],"readwrite").objectStore("saves").put({slot:d,
data:b}).onsuccess=g}}function q(d,b,g){var a=indexedDB.open("_C2SaveStates");a.onupgradeneeded=m;a.onerror=g;a.onsuccess=function(a){a=a.target.result;a.onerror=g;var k=a.transaction(["saves"]).objectStore("saves").get(d);k.onsuccess=function(){k.result?b(k.result.data):b(null)}}}function h(){I("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function f(d){var b,g=
{};for(b in d)!d.hasOwnProperty(b)||d[b]instanceof D||d[b]&&"undefined"!==typeof d[b].ts||(g[b]=d[b]);return g}a.prototype.Fq=function(){var d=this,b;b=this.Le?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var g="data.js";if(this.kl||this.Le||this.bj)g="data.json";b.open("GET",g,!0);var a=!1;if(!this.$a&&"response"in b&&"responseType"in b)try{b.responseType="json",a="json"===b.responseType}catch(k){a=!1}if(!a&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(c){}this.Le?b.onreadystatechange=function(){4===b.readyState&&d.ph(JSON.parse(b.responseText))}:(b.onload=function(){if(a)d.ph(b.response);else if(d.ac){var g=b.responseText,g=g.substr(g.indexOf("{"));d.ph(JSON.parse(g))}else d.ph(JSON.parse(b.responseText))},b.onerror=function(d){ea("Error requesting "+g+":");ea(d)});b.send()};a.prototype.Tp=function(){var d=this,b,g,a,k,e,c,p,n,f;this.devicePixelRatio=(this.be=(!this.$a||this.ac)&&
this.cr&&!this.hl)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ma();g=!(!this.fp&&(!this.bi||this.td||this.jl||this.Le||this.$g||this.ae||this.fl));0<this.Cb&&this.setSize(l(),r(),!0);try{this.Do&&(this.$b||this.ac||!this.$a)&&(b={alpha:g,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.i=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(t){}if(this.i){this.$a||(this.Ja=document.createElement("canvas"),
jQuery(this.Ja).appendTo(this.canvas.parentNode),this.Ja.oncontextmenu=function(){return!1},this.Ja.onselectstart=function(){return!1},this.Ja.width=this.Gg,this.Ja.height=this.Fg,jQuery(this.Ja).css({width:this.Gg+"px",height:this.Fg+"px"}),this.gm(),this.uj=this.Ja.getContext("2d"));this.m=new bb(this.i,this.sd);this.m.df(this.canvas.width,this.canvas.height);this.m.Ek=0!==this.yo;this.P=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();d.mq();I("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){d.m.$k();d.m.df(d.m.width,d.m.height,!0);d.Gb=null;d.qb=null;d.Hi[0]=null;d.Hi[1]=null;d.nq();d.Q=!0;I("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(g=this.j.length;b<g;b++)for(e=this.j[b],a=0,k=e.p.length;a<k;a++)p=e.p[a],p.Ka=this.m.Pi(p.id),this.hf=this.hf||this.m.dg(p.Ka);b=0;for(g=this.ec.length;b<g;b++){n=this.ec[b];a=0;for(k=n.p.length;a<k;a++)p=n.p[a],p.Ka=this.m.Pi(p.id);
a=0;for(k=n.A.length;a<k;a++)for(f=n.A[a],e=0,c=f.p.length;e<c;e++)p=f.p[e],p.Ka=this.m.Pi(p.id),this.hf=this.hf||this.m.dg(p.Ka)}}else{if(0<this.Cb&&this.$d){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.P=AppMobi.canvas.getContext("2d");try{this.P.samplingMode=this.M?"smooth":"sharp",this.P.globalScale=1,this.P.HTML5CompatibilityMode=!0,this.P.imageSmoothingEnabled=this.M}catch(y){}0!==this.width&&0!==this.height&&(this.P.width=this.width,
this.P.height=this.height)}this.P||(b=this.$b?{antialias:!!this.M,alpha:g}:{alpha:g},this.P=this.canvas.getContext("2d",b),this.P.webkitImageSmoothingEnabled=this.M,this.P.mozImageSmoothingEnabled=this.M,this.P.msImageSmoothingEnabled=this.M,this.P.imageSmoothingEnabled=this.M);this.uj=this.Ja=null}this.Rh=function(){d.Jd(!1)};window==window.top||this.$a||this.jl||this.Le||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},
!0));"undefined"!==typeof cr_is_preview&&(this.$b&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(I("Reloading for continuous preview"),this.nh="__c2_continuouspreview",this.mg=!0),this.sq&&!this.sd&&(jQuery(window).focus(function(){d.setSuspended(!1)}),jQuery(window).blur(function(){d.setSuspended(!0)})));this.$a||(b=function(d){ab(d)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur&&document.activeElement.blur()},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Cb&&this.be&&1<this.devicePixelRatio&&this.setSize(this.za,this.ya,!0);this.Nm();this.Mp();this.go();this.G={}};a.prototype.setSize=function(d,b,g){var a=0,k=0,e=0,c=0,c=0,p=this.bq&&this.$p&&!navigator.standalone&&
!this.$a&&!this.ae;p&&(b+=60);if(this.Of!==d||this.Nf!==b||g){this.Of=d;this.Nf=b;var n=this.Cb,f=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Jf)&&!this.ae;if(f||0!==this.Cb||g)f&&0<this.Ud&&(n=this.Ud),g=this.devicePixelRatio,4<=n?(e=this.za/this.ya,d/b>e?(e*=b,5===n?(c=e*g/this.za,1<c?c=Math.floor(c):1>c&&(c=1/Math.ceil(1/c)),e=this.za*c/g,c=this.ya*c/g,a=(d-e)/2,k=(b-c)/2,d=e,b=c):(a=(d-e)/2,d=e)):(c=d/e,5===n?(c=c*g/this.ya,1<
c?c=Math.floor(c):1>c&&(c=1/Math.ceil(1/c)),e=this.za*c/g,c=this.ya*c/g,a=(d-e)/2,k=(b-c)/2,d=e):k=(b-c)/2,b=c),f&&!this.td&&(k=a=0)):this.td&&this.Jf&&0===this.Mk&&(a=Math.floor((d-this.za)/2),k=Math.floor((b-this.ya)/2),d=this.za,b=this.ya),2>n&&(this.pf=g),this.be&&this.nl&&1<g&&(1024<=d&&(d=1023),1024<=b&&(b=1023)),this.Gg=Math.round(d),this.Fg=Math.round(b),this.width=Math.round(d*g),this.height=Math.round(b*g),this.Q=!0,this.Zm?(this.F=this.width,this.D=this.height,this.Ob=!0):this.width<this.za&&
this.height<this.ya||1===n?(this.F=this.width,this.D=this.height,this.Ob=!0):(this.F=this.za,this.D=this.ya,this.Ob=!1,2===n?(e=this.za/this.ya,n=this.Of/this.Nf,n<e?this.F=this.D*n:n>e&&(this.D=this.F/n)):3===n&&(e=this.za/this.ya,n=this.Of/this.Nf,n>e?this.F=this.D*n:n<e&&(this.D=this.F/n))),this.tk&&!this.$a&&(jQuery(this.tk).css({width:Math.round(d)+"px",height:Math.round(b)+"px","margin-left":Math.floor(a)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(d)+
"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(d*g),this.canvas.height=Math.round(b*g),this.ac?(this.canvas.style.left=Math.floor(a)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(d)+"px",this.canvas.style.height=Math.round(b)+"px"):this.be&&!this.$a&&jQuery(this.canvas).css({width:Math.round(d)+"px",height:Math.round(b)+"px"})),this.Ja&&(this.Ja.width=Math.round(d),this.Ja.height=Math.round(b),jQuery(this.Ja).css({width:Math.round(d)+
"px",height:Math.round(b)+"px"})),this.m&&this.m.df(Math.round(d*g),Math.round(b*g)),this.$d&&this.P&&(this.P.width=Math.round(d),this.P.height=Math.round(b)),this.P&&(this.P.webkitImageSmoothingEnabled=this.M,this.P.mozImageSmoothingEnabled=this.M,this.P.msImageSmoothingEnabled=this.M,this.P.imageSmoothingEnabled=this.M),this.Nm(),this.$a||!p&&!this.dj||window.setTimeout(function(){window.scrollTo(0,1)},100)}};a.prototype.Nm=function(){if(this.Vn&&0!==this.tj){var d="portrait";2===this.tj&&(d="landscape");
screen.orientation&&screen.orientation.lock?screen.orientation.lock(d):screen.lockOrientation?screen.lockOrientation(d):screen.webkitLockOrientation?screen.webkitLockOrientation(d):screen.mozLockOrientation?screen.mozLockOrientation(d):screen.msLockOrientation&&screen.msLockOrientation(d)}};a.prototype.mq=function(){this.m.bo();this.cj=!0;var d,b,g;d=0;for(b=this.j.length;d<b;d++)g=this.j[d],g.sj&&g.sj()};a.prototype.nq=function(){this.cj=!1;var d,b,g;d=0;for(b=this.j.length;d<b;d++)g=this.j[d],g.$l&&
g.$l()};a.prototype.gm=function(){if(!this.$a){var d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Jf)&&!this.ae?jQuery(this.canvas).offset():jQuery(this.canvas).position();d.position="absolute";jQuery(this.Ja).css(d)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(d){var b;if(d&&!this.Kf)for(I("[Construct 2] Suspending"),
this.Kf=!0,-1!==this.Fh&&e&&e(this.Fh),-1!==this.Sh&&clearTimeout(this.Sh),d=0,b=this.Oh.length;d<b;d++)this.Oh[d](!0);else if(!d&&this.Kf){I("[Construct 2] Resuming");this.Kf=!1;this.ih=Oa();this.ie=Oa();d=this.Wf=this.Tg=0;for(b=this.Oh.length;d<b;d++)this.Oh[d](!1);this.Jd(!1)}};a.prototype.ad=function(d){return this.wh[d]};a.prototype.ph=function(d){d&&d.project||ea("Project model unavailable");d=d.project;this.name=d[0];this.Lk=d[1];this.Cb=d[12];this.Mk=d[12];this.za=d[10];this.ya=d[11];this.cm=
this.za/2;this.dm=this.ya/2;this.$a&&!this.ac&&(4<=d[12]||0===d[12])&&(I("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Mk=this.Cb=3);this.$j=d[18];this.Qf=d[19];0===this.Qf&&(this.Qe=new Image,this.Qe.src="loading-logo.png");this.Zf=d[21];this.wh=Yb();this.Bc=new X(this);var b,g,a,k,e,c,n,p,f;b=0;for(g=d[2].length;b<g;b++)n=d[2][b],a=this.ad(n[0]),cb(n,a.prototype),f=new a(this),f.Lh=n[1],f.ud=n[2],f.Rl=n[9],f.Pa&&f.Pa(),
this.plugins.push(f);this.wh=Yb();b=0;for(g=d[3].length;b<g;b++){n=d[3][b];e=this.ad(n[1]);f=null;a=0;for(k=this.plugins.length;a<k;a++)if(this.plugins[a]instanceof e){f=this.plugins[a];break}var t=new f.Md(f);t.name=n[0];t.H=n[2];t.Wi=n[3].slice(0);t.dr=n[3].length;t.Wn=n[4];t.gp=n[5];t.C=n[11];t.H?(t.Te=[],t.Nc=this.zf++,t.X=null):(t.Te=null,t.Nc=-1,t.X=[]);t.Qg=null;t.He=null;t.Gk=null;t.pb=!1;t.kb=null;n[6]?(t.Hm=n[6][0],t.Im=n[6][1],t.Vq=n[6][2]):(t.Hm=null,t.Im=0,t.Vq=0);t.jb=n[7]?n[7]:null;
t.index=b;t.d=[];t.Jg=[];t.Id=[new db(t)];t.Jc=0;t.Nb=null;t.jo=0;t.ff=!0;t.Vh=eb;t.np=fb;t.up=gb;t.J=hb;t.fg=ib;t.gg=jb;t.Cd=kb;t.Ug=lb;t.Ii=mb;t.Ni=nb;t.qc=ob;t.Qk=pb;t.Dg=new Va(this.za,this.ya);t.tg=!0;t.ug=!1;t.G={};t.toString=qb;t.ja=[];a=0;for(k=n[8].length;a<k;a++){p=n[8][a];var y=this.ad(p[1]),v=null;e=0;for(c=this.ja.length;e<c;e++)if(this.ja[e]instanceof y){v=this.ja[e];break}v||(v=new y(this),v.qj=[],v.pj=new D,v.Pa&&v.Pa(),this.ja.push(v),Qb.Qq&&v instanceof Qb.Qq&&(this.Cm=v));-1===
v.qj.indexOf(t)&&v.qj.push(t);e=new v.Md(v,t);e.name=p[0];e.C=p[2];e.Pa();t.ja.push(e)}t.global=n[9];t.$i=n[10];t.p=[];a=0;for(k=n[12].length;a<k;a++)t.p.push({id:n[12][a][0],name:n[12][a][1],Ka:-1,zb:!0,index:a});t.Fs=n[13];this.$j&&!t.H&&!t.$i&&f.ud||t.Pa();t.name&&(this.types[t.name]=t);this.j.push(t);f.Lh&&(a=new f.nc(t),a.uid=this.Zf++,a.lm=this.Tl++,a.Wd=0,a.Df=rb,a.toString=sb,a.W=n[14],a.Pa(),t.d.push(a),this.yd[a.uid.toString()]=a)}b=0;for(g=d[4].length;b<g;b++)for(e=d[4][b],c=this.j[e[0]],
a=1,k=e.length;a<k;a++)n=this.j[e[a]],n.X.push(c),c.Te.push(n);b=0;for(g=d[27].length;b<g;b++){e=d[27][b];c=[];a=0;for(k=e.length;a<k;a++)c.push(this.j[e[a]]);a=0;for(k=c.length;a<k;a++)c[a].pb=!0,c[a].kb=c}if(0<this.zf)for(b=0,g=this.j.length;b<g;b++)if(n=this.j[b],!n.H&&n.X.length){n.Qg=Array(this.zf);n.He=Array(this.zf);n.Gk=Array(this.zf);t=[];a=v=y=p=0;for(k=n.X.length;a<k;a++)for(f=n.X[a],n.Qg[f.Nc]=p,p+=f.dr,n.He[f.Nc]=y,y+=f.Wn,n.Gk[f.Nc]=v,v+=f.gp,e=0,c=f.p.length;e<c;e++)t.push(va({},f.p[e]));
n.p=t.concat(n.p);a=0;for(k=n.p.length;a<k;a++)n.p[a].index=a}b=0;for(g=d[5].length;b<g;b++)n=d[5][b],a=new tb(this,n),this.hj[a.name]=a,this.ec.push(a);b=0;for(g=d[6].length;b<g;b++)n=d[6][b],a=new ub(this,n),this.Ai[a.name]=a,this.Mc.push(a);b=0;for(g=this.Mc.length;b<g;b++)this.Mc[b].ia();b=0;for(g=this.Mc.length;b<g;b++)this.Mc[b].Vm();b=0;for(g=this.Uh.length;b<g;b++)this.Uh[b].ia();this.Uh.length=0;this.Un=d[7];this.Bd=d[9];this.pf=1;this.Do=d[13];this.M=d[14];this.bi=d[15];this.cr=d[17];this.tj=
d[20];this.Vn=0<this.tj;this.sq=d[22];this.Ob=this.Zm=d[23];this.yo=d[24];this.yq=d[25];this.Nh=Date.now();this.wh.length=0;this.Tp()};var c=!1;a.prototype.gr=function(d,b){d.cocoonLazyLoad=!0;d.onerror=function(b){c=d.nk=!0;console&&console.error&&console.error("Error loading image '"+d.src+"': ",b)};this.ac?d.src=b:d.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){d.src=b},function(g){c=d.nk=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",
g)}):d.src=b);this.lf.push(d)};a.prototype.ep=function(d){var b,g;b=0;for(g=this.lf.length;b<g;b++)if(this.lf[b].fo===d)return this.lf[b];return null};var b=0,k=!1;a.prototype.Mp=function(){this.qf&&(b=this.qf.Cs(this.Un))};a.prototype.kk=function(){var d=b,g=0,a=0,e=!0,n,c,a=0;for(n=this.lf.length;a<n;a++){c=this.lf[a];var p=c.eo;if(!p||0>=p)p=5E4;d+=p;c.src&&(c.complete||c.loaded)&&!c.nk?g+=p:e=!1}e&&this.yq&&this.qf&&(k||(this.qf.Ds(),k=!0),a=this.qf.xs(),g+=a,a<b&&(e=!1));this.oe=0==d?0:g/d;return e};
a.prototype.go=function(){if(this.P||this.m){var d=this.P||this.uj;this.Ja&&this.gm();this.oe=0;this.sl=-1;if(this.kk())this.Np();else{var b=Date.now()-this.Nh;if(d){var g=this.width,a=this.height,k=this.devicePixelRatio;this.Ja&&(g=this.Gg,a=this.Fg,k=1);if(3!==this.Qf&&(this.$b||500<=b&&this.sl!=this.oe)){d.clearRect(0,0,g,a);var b=g/2,a=a/2,g=0===this.Qf&&this.Qe.complete,e=40*k,n=0,p=80*k,f;g&&(p=this.Qe.width*k,f=this.Qe.height*k,e=p/2,n=f/2,d.drawImage(this.Qe,N(b-e),N(a-n),p,f));1>=this.Qf?
(b=N(b-e)+.5,a=N(a+(n+(g?12*k:0)))+.5,d.fillStyle=c?"red":"DodgerBlue",d.fillRect(b,a,Math.floor(p*this.oe),6*k),d.strokeStyle="black",d.strokeRect(b,a,p,6*k),d.strokeStyle="white",d.strokeRect(b-1*k,a-1*k,p+2*k,8*k)):2===this.Qf&&(d.font=this.ac?"12pt ArialMT":"12pt Arial",d.fillStyle=c?"#f00":"#999",d.Es="middle",k=Math.round(100*this.oe)+"%",g=d.measureText?d.measureText(k):null,d.fillText(k,b-(g?g.width:0)/2,a))}this.sl=this.oe}setTimeout(function(d){return function(){d.go()}}(this),this.$b?10:
100)}}};a.prototype.Np=function(){this.Ja&&(this.canvas.parentNode.removeChild(this.Ja),this.Ja=this.uj=null);this.Nh=Date.now();this.ie=Oa();var d,b,g;if(this.$j)for(d=0,b=this.j.length;d<b;d++)g=this.j[d],g.H||g.$i||!g.Aa.ud||g.Pa();else this.fh=!1;d=0;for(b=this.ec.length;d<b;d++)this.ec[d].ho();2<=this.Cb&&(d=this.za/this.ya,b=this.width/this.height,this.pf=2!==this.Cb&&b>d||2===this.Cb&&b<d?this.height/this.ya:this.width/this.za);this.Lk?this.hj[this.Lk].Nj():this.ec[0].Nj();this.$j||(this.qh=
1,this.trigger(X.prototype.u.ek,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();d=0;for(b=this.j.length;d<b;d++)g=this.j[d],g.lq&&g.lq();this.Jd(!1);this.$d&&AppMobi.webview.execute("onGameReady();")};var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.Jd=function(d){if(this.U){var b=Oa();if(this.Op&&this.zj&&29>b-this.fj)this.zj=
!1,this.fj=b,t?this.Fh=t(this.Rh,this.canvas):this.Sh=setTimeout(this.Rh,this.sd?1:16);else{this.zj=!0;this.fj=b;var g=this.Cb,a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.ae;(a||this.Jf)&&0<this.Ud&&(g=this.Ud);0<g&&(!this.ml||window.self!==window.top)&&(g=window.innerHeight,this.Of===window.innerWidth&&this.Nf===g||this.setSize(l(),r()));this.$a||(a?(this.Rg||(this.Gi=jQuery(this.canvas).css("margin")||"0",this.Rg=!0),this.Zg||
this.td||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Rg?(this.Zg||this.td||jQuery(this.canvas).css("margin",this.Gi),this.Gi="",this.Rg=!1,0===this.Cb&&this.setSize(Math.round(this.Zl/this.devicePixelRatio),Math.round(this.Yl/this.devicePixelRatio),!0)):(this.Zl=this.width,this.Yl=this.height));this.fh&&(a=this.kk(),this.qh=this.oe,a&&(this.fh=
!1,this.oe=1,this.trigger(X.prototype.u.ek,null)));this.gq();!this.Q&&!this.$b||this.cj||this.mg||d||(this.Q=!1,this.m?this.Zb():this.Kc(),this.Mh&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Mh[0],this.Mh[1]),this.trigger(X.prototype.u.yn,null)),this.Mh=null));this.ys||(this.Cc++,this.Pg++,this.Tg++);this.Wf+=Oa()-b;this.Kf||d||(t?this.Fh=t(this.Rh,this.canvas):this.Sh=setTimeout(this.Rh,this.sd?1:16))}}};a.prototype.gq=function(){var d,b,g,a,k,e,n,c,p;d=Oa();1E3<=d-this.ie&&
(this.ie+=1E3,1E3<=d-this.ie&&(this.ie=d),this.Fi=this.Tg,this.Tg=0,this.oi=this.Wf,this.Wf=0);this.Ol&&(0!==this.ih&&(b=d-this.ih,0!==b||this.Wp?(this.Lc=b/1E3,.5<this.Lc?this.Lc=0:.1<this.Lc&&(this.Lc=.1)):(10<=this.Hs&&(this.Ol=!1),this.Lc=1/60)),this.ih=d);this.Fe=this.Lc*this.og;this.fe.add(this.Fe);this.Xh.add(this.Lc);d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Jf)&&!this.ae;2<=this.Cb||d&&0<this.Ud?(b=this.za/this.ya,g=
this.width/this.height,a=this.Cb,d&&0<this.Ud&&(a=this.Ud),this.pf=2!==a&&g>b||2===a&&g<b?this.height/this.ya:this.width/this.za,this.U&&(this.U.rm(this.U.scrollX),this.U.tm(this.U.scrollY))):this.pf=this.be?this.devicePixelRatio:1;this.Ma();this.cc++;this.Bc.Hq();this.cc--;this.Ma();this.cc++;g=this.Wl.Ld();d=0;for(b=g.length;d<b;d++)g[d].zs();d=0;for(b=this.j.length;d<b;d++)if(n=this.j[d],!n.H&&(n.ja.length||n.X.length))for(g=0,a=n.d.length;g<a;g++)for(c=n.d[g],k=0,e=c.r.length;k<e;k++)c.r[k].Jd();
d=0;for(b=this.j.length;d<b;d++)if(n=this.j[d],!n.H&&(n.ja.length||n.X.length))for(g=0,a=n.d.length;g<a;g++)for(c=n.d[g],k=0,e=c.r.length;k<e;k++)p=c.r[k],p.xq&&p.xq();g=this.rj.Ld();d=0;for(b=g.length;d<b;d++)g[d].Jd();this.cc--;this.Pp();for(d=0;this.mi&&10>d++;)this.Ck(this.mi);d=0;for(b=this.Mc.length;d<b;d++)this.Mc[d].Ri=!1;this.U.xf&&this.U.xf.na();this.Bj.length=0;this.cc++;d=0;for(b=this.j.length;d<b;d++)if(n=this.j[d],!n.H&&(n.ja.length||n.X.length))for(g=0,a=n.d.length;g<a;g++)for(c=n.d[g],
k=0,e=c.r.length;k<e;k++)p=c.r[k],p.Sj&&p.Sj();g=this.Xl.Ld();d=0;for(b=g.length;d<b;d++)g[d].Sj();this.cc--};a.prototype.Ck=function(d){var b=this.U;this.U.Sq();var g,a,k,n,e,c,p;if(this.m)for(g=0,a=this.j.length;g<a;g++)e=this.j[g],e.H||!e.Rm||e.global&&0!==e.d.length||-1!==d.Hf.indexOf(e)||e.Rm();b==d&&(this.Bc.wb.length=0);d.Nj();g=0;for(a=this.j.length;g<a;g++)if(e=this.j[g],e.global||e.Aa.Lh)for(d=0,b=e.d.length;d<b;d++)if(c=e.d[d],c.yh&&c.yh(),c.r)for(k=0,n=c.r.length;k<n;k++)p=c.r[k],p.yh&&
p.yh();this.Q=!0;this.Ma()};a.prototype.Jm=function(d){this.rj.add(d)};a.prototype.Li=function(d){return d&&-1!==d.Yf?this.Lc*d.Yf:this.Fe};a.prototype.Kc=function(){this.U.Kc(this.P);this.$d&&this.P.present()};a.prototype.Zb=function(){this.U.Zb(this.m);this.m.Aq()};a.prototype.Qn=function(d){d&&this.vi.push(d)};a.prototype.Tk=function(d){d=d.toString();return this.yd.hasOwnProperty(d)?this.yd[d]:null};var p=[];a.prototype.we=function(d){var b,g;b=d.type.name;var a=null;if(this.Rd.hasOwnProperty(b)){if(a=
this.Rd[b],a.contains(d))return}else a=p.length?p.pop():new D,this.Rd[b]=a;a.add(d);this.qd=!0;if(d.pb)for(b=0,g=d.siblings.length;b<g;b++)this.we(d.siblings[b]);this.Zi&&a.jf.push(d);this.cc++;this.trigger(Object.getPrototypeOf(d.type.Aa).u.An,d);this.cc--};a.prototype.Ma=function(){if(this.qd){var d,b,g,a,k,e;this.Zi=!0;g=0;for(k=this.Yb.length;g<k;++g)for(d=this.Yb[g],b=d.type,b.d.push(d),a=0,e=b.X.length;a<e;++a)b.X[a].d.push(d),b.X[a].ff=!0;this.Yb.length=0;this.tn();Na(this.Rd);this.qd=this.Zi=
!1}};a.prototype.tn=function(){for(var d in this.Rd)this.Rd.hasOwnProperty(d)&&this.dn(this.Rd[d])};a.prototype.dn=function(d){var b=d.Ld(),g=b[0].type,a,k,e,n,c,f;Pa(g.d,d);g.ff=!0;0===g.d.length&&(g.ug=!1);a=0;for(k=g.X.length;a<k;++a)f=g.X[a],Pa(f.d,d),f.ff=!0;a=0;for(k=this.Bc.wb.length;a<k;++a)if(c=this.Bc.wb[a],c.ub.hasOwnProperty(g.index)&&Pa(c.ub[g.index].Yd,d),!g.H)for(e=0,n=g.X.length;e<n;++e)f=g.X[e],c.ub.hasOwnProperty(f.index)&&Pa(c.ub[f.index].Yd,d);if(c=b[0].e){if(c.lc)for(e=c.d,a=
0,k=e.length;a<k;++a)n=e[a],d.contains(n)&&(n.Z(),c.sb.update(n,n.eb,null),n.eb.set(0,0,-1,-1));Pa(c.d,d);c.jg(0)}for(a=0;a<b.length;++a)this.cn(b[a],g);d.clear();p.push(d);this.Q=!0};a.prototype.cn=function(d,b){var g,a,k;g=0;for(a=this.vi.length;g<a;++g)this.vi[g](d);d.hd&&b.Dg.update(d,d.hd,null);(g=d.e)&&g.$e(d,!0);if(d.r)for(g=0,a=d.r.length;g<a;++g)k=d.r[g],k.ag&&k.ag(),k.behavior.pj.remove(d);this.Wl.remove(d);this.rj.remove(d);this.Xl.remove(d);d.ag&&d.ag();this.yd.hasOwnProperty(d.uid.toString())&&
delete this.yd[d.uid.toString()];this.xh--;100>b.Jg.length&&b.Jg.push(d)};a.prototype.yk=function(d,b,g,a){if(d.H){var k=N(Math.random()*d.Te.length);return this.yk(d.Te[k],b,g,a)}return d.Nb?this.ld(d.Nb,b,!1,g,a,!1):null};var v=[];a.prototype.ld=function(d,b,g,a,k,e){var n,c,p,f;if(!d)return null;var t=this.j[d[1]],y=t.Aa.ud;if(this.fh&&y&&!t.$i||y&&!this.m&&11===d[0][11])return null;var x=b;y||(b=null);var h;t.Jg.length?(h=t.Jg.pop(),h.Hb=!0,t.Aa.nc.call(h,t)):(h=new t.Aa.nc(t),h.Hb=!1);h.uid=
g&&!e?d[2]:this.Zf++;this.yd[h.uid.toString()]=h;h.lm=this.Tl++;h.Wd=t.d.length;n=0;for(c=this.Yb.length;n<c;++n)this.Yb[n].type===t&&h.Wd++;h.Df=rb;h.toString=sb;p=d[3];if(h.Hb)Na(h.G);else{h.G={};if("undefined"!==typeof cr_is_preview)for(h.cl=[],h.cl.length=p.length,n=0,c=p.length;n<c;n++)h.cl[n]=p[n][1];h.xa=[];h.xa.length=p.length}n=0;for(c=p.length;n<c;n++)h.xa[n]=p[n][0];if(y){var m=d[0];h.x=ga(a)?m[0]:a;h.y=ga(k)?m[1]:k;h.z=m[2];h.width=m[3];h.height=m[4];h.depth=m[5];h.g=m[6];h.opacity=m[7];
h.nb=m[8];h.ob=m[9];h.Va=m[10];n=m[11];!this.m&&t.p.length&&(h.Va=n);h.tf=Xa(h.Va);this.i&&Ya(h,h.Va,this.i);if(h.Hb){n=0;for(c=m[12].length;n<c;n++)for(p=0,f=m[12][n].length;p<f;p++)h.ba[n][p]=m[12][n][p];h.ga.set(0,0,0,0);h.hd.set(0,0,-1,-1);h.eb.set(0,0,-1,-1);h.Sa.se(h.ga);h.fi.length=0}else{h.ba=m[12].slice(0);n=0;for(c=h.ba.length;n<c;n++)h.ba[n]=m[12][n].slice(0);h.K=[];h.bd=[];h.bd.length=t.p.length;h.ga=new O(0,0,0,0);h.hd=new O(0,0,-1,-1);h.eb=new O(0,0,-1,-1);h.Sa=new ua;h.fi=[];h.oa=vb;
h.ss=wb;h.lb=xb;h.Z=yb;h.br=zb;h.Wm=Ab;h.sc=Bb}h.gf=!1;h.Yq=0;h.Xq=0;h.Wq=null;14===m.length&&(h.gf=!0,h.Yq=m[13][0],h.Xq=m[13][1],h.Wq=m[13][2]);n=0;for(c=t.p.length;n<c;n++)h.bd[n]=!0;h.Yc=Cb;h.Yc();h.Xm=!!h.K.length;h.ei=!0;h.hi=!0;t.tg=!0;h.visible=!0;h.Yf=-1;h.e=b;h.mc=b.d.length;"undefined"===typeof h.I&&(h.I=null);this.Q=h.jd=!0}var l;n=v.length=0;for(c=t.X.length;n<c;n++)v.push.apply(v,t.X[n].ja);v.push.apply(v,t.ja);if(h.Hb)for(n=0,c=v.length;n<c;n++){var r=v[n];l=h.r[n];l.Hb=!0;r.behavior.nc.call(l,
r,h);m=d[4][n];p=0;for(f=m.length;p<f;p++)l.W[p]=m[p];l.Pa();r.behavior.pj.add(h)}else for(h.r=[],n=0,c=v.length;n<c;n++)r=v[n],l=new r.behavior.nc(r,h),l.Hb=!1,l.W=d[4][n].slice(0),l.Pa(),h.r.push(l),r.behavior.pj.add(h);m=d[5];if(h.Hb)for(n=0,c=m.length;n<c;n++)h.W[n]=m[n];else h.W=m.slice(0);this.Yb.push(h);this.qd=!0;b&&(b.of(h,!0),1!==b.Tc||1!==b.Uc)&&(t.ug=!0);this.xh++;if(t.pb){if(h.pb=!0,h.Hb?h.siblings.length=0:h.siblings=[],!g&&!e){n=0;for(c=t.kb.length;n<c;n++)if(t.kb[n]!==t){if(!t.kb[n].Nb)return null;
h.siblings.push(this.ld(t.kb[n].Nb,x,!1,y?h.x:a,y?h.y:k,!0))}n=0;for(c=h.siblings.length;n<c;n++)for(h.siblings[n].siblings.push(h),p=0;p<c;p++)n!==p&&h.siblings[n].siblings.push(h.siblings[p])}}else h.pb=!1,h.siblings=null;h.Pa();n=0;for(c=h.r.length;n<c;n++)h.r[n].wq&&h.r[n].wq();return h};a.prototype.rp=function(d){var b,g;b=0;for(g=this.U.A.length;b<g;b++){var a=this.U.A[b];if($a(a.name,d))return a}return null};a.prototype.sp=function(d){d=N(d);0>d&&(d=0);d>=this.U.A.length&&(d=this.U.A.length-
1);return this.U.A[d]};a.prototype.ni=function(d){var b,g;b=0;for(g=d.length;b<g;b++)d[b].J().O=!0};a.prototype.fg=function(d){var b,g;b=0;for(g=d.length;b<g;b++)d[b].fg()};a.prototype.gg=function(d){var b,g;b=0;for(g=d.length;b<g;b++)d[b].gg()};a.prototype.Cd=function(d){var b,g;b=0;for(g=d.length;b<g;b++)d[b].Cd()};a.prototype.Tm=function(d){if(d.tg){var b,g,a=d.d;b=0;for(g=a.length;b<g;++b)a[b].Wm();a=this.Yb;b=0;for(g=a.length;b<g;++b)a[b].type===d&&a[b].Wm();d.tg=!1}};a.prototype.Ji=function(d,
b,g,a){var k,n,c=d?1!==d.Tc||1!==d.Uc:!1;if(b.H)for(d=0,k=b.Te.length;d<k;++d)n=b.Te[d],c||n.ug?ya(a,n.d):(this.Tm(n),n.Dg.Eh(g,a));else c||b.ug?ya(a,b.d):(this.Tm(b),b.Dg.Eh(g,a))};a.prototype.Vk=function(d,b,g,a){var k,n;k=0;for(n=b.length;k<n;++k)this.Ji(d,b[k],g,a)};a.prototype.yp=function(d,b){var g=this.Cm;g&&this.Vk(null,g.qj,d,b)};a.prototype.Tq=function(d,b){if(!(d&&b&&d!==b&&d.jd&&b.jd))return!1;d.Z();b.Z();var g=d.e,a=b.e,k,n,c,e,p,t,f,h;if(g===a||g.Tc===a.Tc&&a.Uc===a.Uc&&g.scale===a.scale&&
g.g===a.g&&g.sg===a.sg){if(!d.ga.dl(b.ga)||!d.Sa.Xi(b.Sa)||d.gf&&b.gf)return!1;if(d.gf)return this.Em(d,b);if(b.gf)return this.Em(b,d);f=d.I&&!d.I.ee();k=b.I&&!b.I.ee();if(!f&&!k)return!0;f?(d.I.Qd(d.width,d.height,d.g),f=d.I):(this.fb.qe(d.Sa,d.x,d.y,d.width,d.height),f=this.fb);k?(b.I.Qd(b.width,b.height,b.g),h=b.I):(this.fb.qe(b.Sa,b.x,b.y,b.width,b.height),h=this.fb);return f.Zd(h,b.x-d.x,b.y-d.y)}f=d.I&&!d.I.ee();k=b.I&&!b.I.ee();f?(d.I.Qd(d.width,d.height,d.g),this.fb.wm(d.I)):this.fb.qe(d.Sa,
d.x,d.y,d.width,d.height);f=this.fb;k?(b.I.Qd(b.width,b.height,b.g),this.Pj.wm(b.I)):this.Pj.qe(b.Sa,b.x,b.y,b.width,b.height);h=this.Pj;k=0;for(n=f.gc;k<n;k++)c=2*k,e=c+1,p=f.Ba[c],t=f.Ba[e],f.Ba[c]=g.Y(p+d.x,t+d.y,!0),f.Ba[e]=g.Y(p+d.x,t+d.y,!1);f.Z();k=0;for(n=h.gc;k<n;k++)c=2*k,e=c+1,p=h.Ba[c],t=h.Ba[e],h.Ba[c]=a.Y(p+b.x,t+b.y,!0),h.Ba[e]=a.Y(p+b.x,t+b.y,!1);h.Z();return f.Zd(h,0,0)};var x=new ua;new O(0,0,0,0);var g=[];a.prototype.Em=function(d,b){var a,k,n,c,e=b.ga,p=d.x,f=d.y;d.lp(e,g);var t=
b.I&&!b.I.ee();a=0;for(k=g.length;a<k;++a)if(n=g[a],c=n.Eq,e.el(c,p,f)&&(x.se(c),x.offset(p,f),x.Xi(b.Sa)))if(t)if(b.I.Qd(b.width,b.height,b.g),n.cg){if(n.cg.Zd(b.I,b.x-(p+c.left),b.y-(f+c.top)))return g.length=0,!0}else{if(this.fb.qe(x,0,0,c.right-c.left,c.bottom-c.top),this.fb.Zd(b.I,b.x,b.y))return g.length=0,!0}else if(n.cg){if(this.fb.qe(b.Sa,0,0,b.width,b.height),n.cg.Zd(this.fb,-(p+c.left),-(f+c.top)))return g.length=0,!0}else return g.length=0,!0;g.length=0;return!1};a.prototype.Qj=function(d,
b){if(!b||!b.jd)return!1;b.Z();if(!b.ga.dl(d))return!1;if(b.gf){b.lp(d,g);var a,k,n,c,e=b.x,p=b.y;a=0;for(k=g.length;a<k;++a)if(n=g[a],c=n.Eq,d.el(c,e,p))if(n.cg){if(this.fb.se(d,0,0),n.cg.Zd(this.fb,-(e+c.left),-(p+c.top)))return g.length=0,!0}else return g.length=0,!0;g.length=0;return!1}x.se(d);if(!b.Sa.Xi(x))return!1;if(!b.I||b.I.ee())return!0;b.I.Qd(b.width,b.height,b.g);x.offset(-d.left,-d.top);this.fb.qe(x,0,0,1,1);return b.I.Zd(this.fb,d.left-b.x,d.top-b.y)};a.prototype.Om=function(d,b){if(!b)return!1;
var g,a,k,n,c;g=0;for(a=d.ja.length;g<a;g++)if(d.ja[g].behavior instanceof b)return!0;if(!d.H)for(g=0,a=d.X.length;g<a;g++)for(c=d.X[g],k=0,n=c.ja.length;k<n;k++)if(c.ja[k].behavior instanceof b)return!0;return!1};a.prototype.Pm=function(d){return this.Om(d,Qb.Kr)};a.prototype.Wj=function(d){return this.Om(d,Qb.Lr)};var n=[];a.prototype.Uq=function(d){var b,g,a;this.yp(d,n);b=0;for(g=n.length;b<g;++b)if(a=n[b],a.G.solidEnabled&&this.Qj(d,a))return n.length=0,a;n.length=0;return null};a.prototype.$n=
function(b,g){var a,k,n;a=0;for(k=this.Bj.length;a<k;a++)if(n=this.Bj[a],n[0]==b&&n[1]==g||n[0]==g&&n[1]==b)return!0;return!1};var y=-1;a.prototype.trigger=function(b,g,a){if(!this.U)return!1;var k=this.U.xf;if(!k)return!1;var n=!1,c,e,p;y++;var f=k.ti;e=0;for(p=f.length;e<p;++e)c=this.Lm(b,g,f[e],a),n=n||c;c=this.Lm(b,g,k,a);y--;return n||c};a.prototype.Lm=function(b,g,a,k){var n=!1,c,e,p,f;if(g)for(p=this.Uj(b,g,g.type.name,a,k),n=n||p,f=g.type.X,c=0,e=f.length;c<e;++c)p=this.Uj(b,g,f[c].name,a,
k),n=n||p;else p=this.Uj(b,g,"system",a,k),n=n||p;return n};a.prototype.Uj=function(b,g,a,k,n){var c,e=!1,p=!1,p="undefined"!==typeof n,f=(p?k.Ik:k.Mm)[a];if(!f)return e;var t=null;k=0;for(c=f.length;k<c;++k)if(f[k].method==b){t=f[k].yf;break}if(!t)return e;b=p?t[n]:t;if(!b)return null;k=0;for(c=b.length;k<c;k++)n=b[k][0],p=b[k][1],p=this.cp(g,a,n,p),e=e||p;return e};a.prototype.cp=function(b,g,a,k){var n,c,e=!1;this.Vj++;var p=this.Oa().Ta;p&&this.fg(p.Gd);var f=1<this.Vj;this.fg(a.Gd);f&&this.Cq();
var t=this.Ch(a);t.Ta=a;b&&(n=this.types[g].J(),n.O=!1,n.d.length=1,n.d[0]=b,this.types[g].qc());b=!0;if(a.parent){g=t.Dm;for(n=a.parent;n;)g.push(n),n=n.parent;g.reverse();n=0;for(c=g.length;n<c;n++)if(!g[n].Jq()){b=!1;break}}b&&(this.Pg++,a.fc?a.Iq(k):a.na(),e=e||t.he);this.Ah();f&&this.uq();this.Cd(a.Gd);p&&this.Cd(p.Gd);this.qd&&0===this.cc&&0===y&&!this.aj&&this.Ma();this.Vj--;return e};a.prototype.Ki=function(){var b=this.Oa();return b.Ta.wa[b.la]};a.prototype.Cq=function(){this.sh++;this.sh>=
this.mj.length&&this.mj.push([])};a.prototype.uq=function(){this.sh--};a.prototype.Ok=function(){return this.mj[this.sh]};a.prototype.Ch=function(b){this.Og++;this.Og>=this.yi.length&&this.yi.push(new Db);var g=this.Oa();g.reset(b);return g};a.prototype.Ah=function(){this.Og--};a.prototype.Oa=function(){return this.yi[this.Og]};a.prototype.Dq=function(){this.uh++;this.uh>=this.nj.length&&this.nj.push(aa({name:void 0,index:0,Oj:!1}));var b=this.mp();b.name=void 0;b.index=0;b.Oj=!1;return b};a.prototype.vq=
function(){this.uh--};a.prototype.mp=function(){return this.nj[this.uh]};a.prototype.Pk=function(b,g){for(var a,k,n,c,e,p;g;){a=0;for(k=g.Tb.length;a<k;a++)if(p=g.Tb[a],p instanceof Eb&&$a(b,p.name))return p;g=g.parent}a=0;for(k=this.Mc.length;a<k;a++)for(e=this.Mc[a],n=0,c=e.nd.length;n<c;n++)if(p=e.nd[n],p instanceof Eb&&$a(b,p.name))return p;return null};a.prototype.Rk=function(b){var g,a;g=0;for(a=this.ec.length;g<a;g++)if(this.ec[g].C===b)return this.ec[g];return null};a.prototype.Ie=function(b){var g,
a;g=0;for(a=this.j.length;g<a;g++)if(this.j[g].C===b)return this.j[g];return null};a.prototype.op=function(b){var g,a;g=0;for(a=this.Be.length;g<a;g++)if(this.Be[g].C===b)return this.Be[g];return null};a.prototype.Pp=function(){var b=this,g=this.Kj,a=this.Sc,k=this.nh,n=!1;this.Bm&&(n=!0,g="__c2_continuouspreview",this.Bm=!1);if(g.length){this.Ma();a=this.Nq();if(window.indexedDB&&!this.$b)u(g,a,function(){I("Saved state to IndexedDB storage ("+a.length+" bytes)");b.Sc=a;b.trigger(X.prototype.u.$h,
null);b.Sc="";n&&h()},function(k){try{localStorage.setItem("__c2save_"+g,a),I("Saved state to WebStorage ("+a.length+" bytes)"),b.Sc=a,b.trigger(X.prototype.u.$h,null),b.Sc="",n&&h()}catch(c){I("Failed to save game state: "+k+"; "+c)}});else try{localStorage.setItem("__c2save_"+g,a),I("Saved state to WebStorage ("+a.length+" bytes)"),b.Sc=a,this.trigger(X.prototype.u.$h,null),b.Sc="",n&&h()}catch(c){I("Error saving to WebStorage: "+c)}this.Ua=this.nh=this.Kj=""}k.length&&(window.indexedDB&&!this.$b?
q(k,function(g){g?(b.Ua=g,I("Loaded state from IndexedDB storage ("+b.Ua.length+" bytes)")):(b.Ua=localStorage.getItem("__c2save_"+k)||"",I("Loaded state from WebStorage ("+b.Ua.length+" bytes)"));b.mg=!1;b.Ua.length||b.trigger(X.prototype.u.Zh,null)},function(){b.Ua=localStorage.getItem("__c2save_"+k)||"";I("Loaded state from WebStorage ("+b.Ua.length+" bytes)");b.mg=!1;b.Ua.length||b.trigger(X.prototype.u.Zh,null)}):(this.Ua=localStorage.getItem("__c2save_"+k)||"",I("Loaded state from WebStorage ("+
this.Ua.length+" bytes)"),this.mg=!1,b.Ua.length||b.trigger(X.prototype.u.Zh,null)),this.Kj=this.nh="");this.Ua.length&&(this.Ma(),this.dq(this.Ua),this.Sc=this.Ua,this.trigger(X.prototype.u.En,null),this.Ua=this.Sc="")};a.prototype.Nq=function(){var b,g,a,k,n,c,e,p={c2save:!0,version:1,rt:{time:this.fe.La,walltime:this.Xh.La,timescale:this.og,tickcount:this.Cc,execcount:this.Pg,next_uid:this.Zf,running_layout:this.U.C,start_time_offset:Date.now()-this.Nh},types:{},layouts:{},events:{groups:{},cnds:{},
acts:{},vars:{}}};b=0;for(g=this.j.length;b<g;b++)if(n=this.j[b],!n.H&&!this.Pm(n)){c={instances:[]};Ma(n.G)&&(c.ex=f(n.G));a=0;for(k=n.d.length;a<k;a++)c.instances.push(this.Jj(n.d[a]));p.types[n.C.toString()]=c}b=0;for(g=this.ec.length;b<g;b++)a=this.ec[b],p.layouts[a.C.toString()]=a.Rb();k=p.events.groups;b=0;for(g=this.Be.length;b<g;b++)a=this.Be[b],k[a.C.toString()]=this.Xg[a.Ef].Wg;g=p.events.cnds;for(e in this.De)this.De.hasOwnProperty(e)&&(b=this.De[e],Ma(b.G)&&(g[e]={ex:f(b.G)}));g=p.events.acts;
for(e in this.Ae)this.Ae.hasOwnProperty(e)&&(b=this.Ae[e],Ma(b.G)&&(g[e]={ex:b.G}));g=p.events.vars;for(e in this.kf)this.kf.hasOwnProperty(e)&&(b=this.kf[e],b.ah||b.parent&&!b.Lf||(g[e]=b.data));p.system=this.Bc.Rb();return JSON.stringify(p)};a.prototype.nm=function(){var b,g,a,k,n,c;this.yd={};b=0;for(g=this.j.length;b<g;b++)if(a=this.j[b],!a.H)for(k=0,n=a.d.length;k<n;k++)c=a.d[k],this.yd[c.uid.toString()]=c};a.prototype.dq=function(b){b=JSON.parse(b);if(b.c2save&&!(1<b.version)){var g=b.rt;this.fe.reset();
this.fe.La=g.time;this.Xh.reset();this.Xh.La=g.walltime||0;this.og=g.timescale;this.Cc=g.tickcount;this.Nh=Date.now()-g.start_time_offset;var a=g.running_layout;if(a!==this.U.C)if(a=this.Rk(a))this.Ck(a);else return;var k,n,c,e,p,f,t;f=b.types;for(n in f)if(f.hasOwnProperty(n)&&(e=this.Ie(parseInt(n,10)))&&!e.H&&!this.Pm(e)){f[n].ex?e.G=f[n].ex:Na(e.G);p=e.d;c=f[n].instances;a=0;for(k=ma(p.length,c.length);a<k;a++)this.oh(p[a],c[a]);a=c.length;for(k=p.length;a<k;a++)this.we(p[a]);a=p.length;for(k=
c.length;a<k;a++){p=null;if(e.Aa.ud&&(p=this.U.Vg(c[a].w.l),!p))continue;p=this.ld(e.Nb,p,!1,0,0,!0);this.oh(p,c[a])}e.ff=!0}this.Ma();this.nm();k=b.layouts;for(n in k)k.hasOwnProperty(n)&&(a=this.Rk(parseInt(n,10)))&&a.uc(k[n]);k=b.events.groups;for(n in k)k.hasOwnProperty(n)&&(a=this.op(parseInt(n,10)))&&this.Xg[a.Ef]&&(this.Xg[a.Ef].Wg=k[n]);a=b.events.cnds;for(n in a)a.hasOwnProperty(n)&&this.De.hasOwnProperty(n)&&(this.De[n].G=a[n].ex);a=b.events.acts;for(n in a)a.hasOwnProperty(n)&&this.Ae.hasOwnProperty(n)&&
(this.Ae[n].G=a[n].ex);a=b.events.vars;for(n in a)a.hasOwnProperty(n)&&this.kf.hasOwnProperty(n)&&(this.kf[n].data=a[n]);this.Zf=g.next_uid;this.Bc.uc(b.system);a=0;for(k=this.j.length;a<k;a++)if(e=this.j[a],!e.H)for(n=0,b=e.d.length;n<b;n++){p=e.d[n];if(e.pb)for(f=p.Df(),g=p.siblings.length=0,c=e.kb.length;g<c;g++)t=e.kb[g],e!==t&&p.siblings.push(t.d[f]);p.cd&&p.cd();if(p.r)for(g=0,c=p.r.length;g<c;g++)f=p.r[g],f.cd&&f.cd()}this.Q=!0}};a.prototype.Jj=function(b,g){var a,k,n,c,e;c=b.type;n=c.Aa;var p=
{};g?p.c2=!0:p.uid=b.uid;Ma(b.G)&&(p.ex=f(b.G));if(b.xa&&b.xa.length)for(p.ivs={},a=0,k=b.xa.length;a<k;a++)p.ivs[b.type.Wi[a].toString()]=b.xa[a];if(n.ud){n={x:b.x,y:b.y,w:b.width,h:b.height,l:b.e.C,zi:b.sc()};0!==b.g&&(n.a=b.g);1!==b.opacity&&(n.o=b.opacity);.5!==b.nb&&(n.hX=b.nb);.5!==b.ob&&(n.hY=b.ob);0!==b.Va&&(n.bm=b.Va);b.visible||(n.v=b.visible);b.jd||(n.ce=b.jd);-1!==b.Yf&&(n.mts=b.Yf);if(c.p.length)for(n.fx=[],a=0,k=c.p.length;a<k;a++)e=c.p[a],n.fx.push({name:e.name,active:b.bd[e.index],
params:b.ba[e.index]});p.w=n}if(b.r&&b.r.length)for(p.behs={},a=0,k=b.r.length;a<k;a++)c=b.r[a],c.Rb&&(p.behs[c.type.C.toString()]=c.Rb());b.Rb&&(p.data=b.Rb());return p};a.prototype.qp=function(b,g){var a,k;a=0;for(k=b.Wi.length;a<k;a++)if(b.Wi[a]===g)return a;return-1};a.prototype.kp=function(b,g){var a,k;a=0;for(k=b.r.length;a<k;a++)if(b.r[a].type.C===g)return a;return-1};a.prototype.oh=function(b,g,a){var k,n,c,e,p;p=b.type;c=p.Aa;if(a){if(!g.c2)return}else b.uid=g.uid;g.ex?b.G=g.ex:Na(b.G);if(n=
g.ivs)for(k in n)n.hasOwnProperty(k)&&(a=this.qp(p,parseInt(k,10)),0>a||a>=b.xa.length||(b.xa[a]=n[k]));if(c.ud){c=g.w;b.e.C!==c.l&&(a=b.e,b.e=this.U.Vg(c.l),b.e?(a.$e(b,!0),b.e.of(b,!0),b.oa(),b.e.jg(0)):(b.e=a,this.we(b)));b.x=c.x;b.y=c.y;b.width=c.w;b.height=c.h;b.mc=c.zi;b.g=c.hasOwnProperty("a")?c.a:0;b.opacity=c.hasOwnProperty("o")?c.o:1;b.nb=c.hasOwnProperty("hX")?c.hX:.5;b.ob=c.hasOwnProperty("hY")?c.hY:.5;b.visible=c.hasOwnProperty("v")?c.v:!0;b.jd=c.hasOwnProperty("ce")?c.ce:!0;b.Yf=c.hasOwnProperty("mts")?
c.mts:-1;b.Va=c.hasOwnProperty("bm")?c.bm:0;b.tf=Xa(b.Va);this.i&&Ya(b,b.Va,this.i);b.oa();if(c.hasOwnProperty("fx"))for(a=0,n=c.fx.length;a<n;a++)e=p.Ni(c.fx[a].name),0>e||(b.bd[e]=c.fx[a].active,b.ba[e]=c.fx[a].params);b.Yc()}if(p=g.behs)for(k in p)p.hasOwnProperty(k)&&(c=this.kp(b,parseInt(k,10)),0>c||b.r[c].uc(p[k]));g.data&&b.uc(g.data)};Fb=function(b){return new a(document.getElementById(b))};Gb=function(b,g){return new a({dc:!0,width:b,height:g})};window.cr_createRuntime=Fb;window.cr_createDCRuntime=
Gb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.Bs=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));window.c2runtime=
b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var l=document.getElementById("c2canvas");return l?l.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(l,r){if(0!==l&&0!==r){var a=window.cr_getC2Runtime();a&&a.setSize(l,r)}};window.cr_setSuspended=function(l){var r=window.cr_getC2Runtime();r&&r.setSuspended(l)};
(function(){function l(b,a){this.b=b;this.xf=null;this.scrollX=this.b.za/2;this.scrollY=this.b.ya/2;this.scale=1;this.g=0;this.Bf=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.Qm=a[3];this.zm=a[4];this.C=a[5];var c=a[6],e,f;this.A=[];this.Hf=[];e=0;for(f=c.length;e<f;e++){var h=new Hb(this,c[e]);h.Ul=e;this.A.push(h)}c=a[7];this.Xd=[];e=0;for(f=c.length;e<f;e++){var h=c[e],g=this.b.j[h[1]];g.Nb||(g.Nb=h);this.Xd.push(h);-1===this.Hf.indexOf(g)&&this.Hf.push(g)}this.p=[];this.K=[];this.ba=
[];e=0;for(f=a[8].length;e<f;e++)this.p.push({id:a[8][e][0],name:a[8][e][1],Ka:-1,zb:!0,index:e}),this.ba.push(a[8][e][2].slice(0));this.Yc();this.Ze=new O(0,0,1,1);this.Aj=new O(0,0,1,1);this.Ad={}}function r(b,a){return b.mc-a.mc}function a(b,a){this.T=b;this.b=b.b;this.d=[];this.scale=1;this.g=0;this.Sd=!1;this.Wc=new O(0,0,0,0);this.Km=new ua;this.ta=this.fa=this.ua=this.ea=0;this.ve=!1;this.$c=-1;this.name=a[0];this.index=a[1];this.C=a[2];this.visible=a[3];this.ed=a[4];this.Xc=a[5];this.Tc=a[6];
this.Uc=a[7];this.opacity=a[8];this.Ei=a[9];this.lc=a[10];this.sg=a[11];this.Va=a[12];this.Co=a[13];this.tf="source-over";this.Na=this.Qa=0;this.sb=null;this.Pe=m();this.Vc=!0;this.hh=new O(0,0,-1,-1);this.Mb=new O(0,0,-1,-1);this.lc&&(this.sb=new Wa(this.b.za,this.b.ya));this.Ed=!1;var c=a[14],e,f;this.Ke=[];e=0;for(f=c.length;e<f;e++){var h=c[e],g=this.b.j[h[1]];g.Nb||(g.Nb=h,g.jo=this.index);this.Ke.push(h);-1===this.T.Hf.indexOf(g)&&this.T.Hf.push(g)}this.p=[];this.K=[];this.ba=[];e=0;for(f=a[15].length;e<
f;e++)this.p.push({id:a[15][e][0],name:a[15][e][1],Ka:-1,zb:!0,index:e}),this.ba.push(a[15][e][2].slice(0));this.Yc();this.Ze=new O(0,0,1,1);this.Aj=new O(0,0,1,1)}function m(){return f.length?f.pop():[]}function u(b){b.length=0;f.push(b)}l.prototype.Mq=function(b){var a=b.type.C.toString();this.Ad.hasOwnProperty(a)||(this.Ad[a]=[]);this.Ad[a].push(this.b.Jj(b))};l.prototype.Xk=function(){var b=this.A[0];return!b.Xc&&1===b.opacity&&!b.Ei&&b.visible};l.prototype.Yc=function(){this.K.length=0;var b,
a,c;b=0;for(a=this.p.length;b<a;b++)c=this.p[b],c.zb&&this.K.push(c)};l.prototype.Mi=function(b){var a,c,e;a=0;for(c=this.p.length;a<c;a++)if(e=this.p[a],e.name===b)return e;return null};var q=[],h=!0;l.prototype.Nj=function(){this.zm&&(this.xf=this.b.Ai[this.zm],this.xf.Vm());this.b.U=this;this.scrollX=this.b.za/2;this.scrollY=this.b.ya/2;var b,a,c,e,f,m,g;b=0;for(c=this.b.j.length;b<c;b++)if(a=this.b.j[b],!a.H)for(f=a.d,a=0,e=f.length;a<e;a++)if(m=f[a],m.e){var n=m.e.Ul;n>=this.A.length&&(n=this.A.length-
1);m.e=this.A[n];-1===m.e.d.indexOf(m)&&m.e.d.push(m);m.e.ve=!0}if(!h)for(b=0,c=this.A.length;b<c;++b)this.A[b].d.sort(r);q.length=0;this.Xn();b=0;for(c=this.A.length;b<c;b++)m=this.A[b],m.io(),m.Yj();f=!1;if(!this.Bf){for(g in this.Ad)if(this.Ad.hasOwnProperty(g)&&(a=this.b.Ie(parseInt(g,10)))&&!a.H&&this.b.Wj(a)){e=this.Ad[g];b=0;for(c=e.length;b<c;b++){m=null;if(a.Aa.ud&&(m=this.Vg(e[b].w.l),!m))continue;m=this.b.ld(a.Nb,m,!1,0,0,!0);this.b.oh(m,e[b]);f=!0;q.push(m)}e.length=0}b=0;for(c=this.A.length;b<
c;b++)this.A[b].d.sort(r),this.A[b].ve=!0}f&&(this.b.Ma(),this.b.nm());for(b=0;b<q.length;b++)if(m=q[b],m.type.pb)for(c=m.Df(),a=0,e=m.type.kb.length;a<e;a++)g=m.type.kb[a],m.type!==g&&(g.d.length>c?m.siblings.push(g.d[c]):g.Nb&&(f=this.b.ld(g.Nb,m.e,!0,m.x,m.y,!0),this.b.Ma(),g.Vh(),m.siblings.push(f),q.push(f)));b=0;for(c=this.Xd.length;b<c;b++)this.b.ld(this.Xd[b],null,!0);this.b.mi=null;this.b.Ma();if(this.b.P&&!this.b.$a)for(b=0,c=this.b.j.length;b<c;b++)g=this.b.j[b],!g.H&&g.d.length&&g.hm&&
g.hm(this.b.P);b=0;for(c=q.length;b<c;b++)m=q[b],this.b.trigger(Object.getPrototypeOf(m.type.Aa).u.Yh,m);q.length=0;this.b.trigger(X.prototype.u.Dn,null);this.Bf=!1};l.prototype.ho=function(){var b,a,c,e,f;a=b=0;for(c=this.Xd.length;b<c;b++)e=this.Xd[b],f=this.b.j[e[1]],f.global?this.b.ld(e,null,!0):(this.Xd[a]=e,a++);this.Xd.length=a};l.prototype.Sq=function(){this.b.trigger(X.prototype.u.Cn,null);this.b.Bc.wb.length=0;var b,a,c,e,f,m;b=0;for(a=this.A.length;b<a;b++)for(this.A[b].Zj(),f=this.A[b].d,
c=0,e=f.length;c<e;c++)m=f[c],m.type.global||this.b.Wj(m.type)&&this.Mq(m);b=0;for(a=this.A.length;b<a;b++){f=this.A[b].d;c=0;for(e=f.length;c<e;c++)m=f[c],m.type.global||this.b.we(m);this.b.Ma();f.length=0;this.A[b].ve=!0}b=0;for(a=this.b.j.length;b<a;b++)if(f=this.b.j[b],!(f.global||f.Aa.ud||f.Aa.Lh||f.H)){c=0;for(e=f.d.length;c<e;c++)this.b.we(f.d[c]);this.b.Ma()}h=!1};l.prototype.Kc=function(b){var a,c=b,e=!1,f=!this.b.Ob;f&&(this.b.mh||(this.b.mh=document.createElement("canvas"),a=this.b.mh,
a.width=this.b.F,a.height=this.b.D,this.b.ul=a.getContext("2d"),e=!0),a=this.b.mh,c=this.b.ul,a.width!==this.b.F&&(a.width=this.b.F,e=!0),a.height!==this.b.D&&(a.height=this.b.D,e=!0),e&&(c.webkitImageSmoothingEnabled=this.b.M,c.mozImageSmoothingEnabled=this.b.M,c.msImageSmoothingEnabled=this.b.M,c.imageSmoothingEnabled=this.b.M));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.bi&&!this.Xk()&&c.clearRect(0,0,this.b.F,this.b.D);var h,g,e=0;for(h=this.A.length;e<h;e++)g=this.A[e],g.visible&&
0<g.opacity&&11!==g.Va&&(g.d.length||!g.Xc)?g.Kc(c):g.Yj();f&&b.drawImage(a,0,0,this.b.width,this.b.height)};l.prototype.Zb=function(b){var a=0<this.K.length||this.b.hf||!this.b.Ob;if(a){this.b.qb||(this.b.qb=b.Hc(this.b.F,this.b.D,this.b.M));if(this.b.qb.sf!==this.b.F||this.b.qb.rf!==this.b.D)b.deleteTexture(this.b.qb),this.b.qb=b.Hc(this.b.F,this.b.D,this.b.M);b.zc(this.b.qb);this.b.Ob||b.df(this.b.F,this.b.D)}else this.b.qb&&(b.zc(null),b.deleteTexture(this.b.qb),this.b.qb=null);this.b.bi&&!this.Xk()&&
b.clear(0,0,0,0);var c,e,f;c=0;for(e=this.A.length;c<e;c++)f=this.A[c],f.visible&&0<f.opacity&&(f.d.length||!f.Xc)?f.Zb(b):f.Yj();a&&(0===this.K.length||1===this.K.length&&this.b.Ob?(1===this.K.length?(a=this.K[0].index,b.Ac(this.K[0].Ka),b.cf(null,1/this.b.F,1/this.b.D,0,0,1,1,this.scale,this.g,0,0,this.b.F/2,this.b.D/2,this.ba[a]),b.Bh(this.K[0].Ka)&&(this.b.Q=!0)):b.Ac(0),this.b.Ob||b.df(this.b.width,this.b.height),b.zc(null),b.bf(1),b.Ib(this.b.qb),b.um(),b.yc(),b.Dc(),a=this.b.width/2,c=this.b.height/
2,b.Dh(-a,c,a,c,a,-c,-a,-c),b.Ib(null)):this.Cj(b,null,null,null))};l.prototype.Cf=function(){return 0<this.K.length||this.b.hf||!this.b.Ob?this.b.qb:null};l.prototype.Sk=function(){var b=this.A[0].Fb(),a,c,e;a=1;for(c=this.A.length;a<c;a++)e=this.A[a],(0!==e.Tc||0!==e.Uc)&&e.Fb()<b&&(b=e.Fb());return b};l.prototype.rm=function(b){if(!this.Qm){var a=1/this.Sk()*this.b.F/2;b>this.width-a&&(b=this.width-a);b<a&&(b=a)}this.scrollX!==b&&(this.scrollX=b,this.b.Q=!0)};l.prototype.tm=function(b){if(!this.Qm){var a=
1/this.Sk()*this.b.D/2;b>this.height-a&&(b=this.height-a);b<a&&(b=a)}this.scrollY!==b&&(this.scrollY=b,this.b.Q=!0)};l.prototype.Xn=function(){this.rm(this.scrollX);this.tm(this.scrollY)};l.prototype.Cj=function(b,a,c,e){var f=c?c.K:a?a.K:this.K,h=1,g=0,n=0,y=0,d=this.b.F,s=this.b.D;c?(h=c.e.Fb(),g=c.e.Db(),n=c.e.ea,y=c.e.fa,d=c.e.ua,s=c.e.ta):a&&(h=a.Fb(),g=a.Db(),n=a.ea,y=a.fa,d=a.ua,s=a.ta);var m=this.b.Hi,l,r,q,u,G=0,Q=1,V,J=this.b.F,F=this.b.D,ja=J/2,za=F/2,B=a?a.Ze:this.Ze,z=a?a.Aj:this.Aj,
C=0,L=0,A=0,M=0,H=J,oa=J,E=F,pa=F,da=q=0,ra=c?c.e.Db():0;if(c){l=0;for(r=f.length;l<r;l++)q+=b.vp(f[l].Ka),da+=b.wp(f[l].Ka);u=c.ga;C=a.Y(u.left,u.top,!0,!0);A=a.Y(u.left,u.top,!1,!0);H=a.Y(u.right,u.bottom,!0,!0);E=a.Y(u.right,u.bottom,!1,!0);0!==ra&&(l=a.Y(u.right,u.top,!0,!0),r=a.Y(u.right,u.top,!1,!0),L=a.Y(u.left,u.bottom,!0,!0),M=a.Y(u.left,u.bottom,!1,!0),u=Math.min(C,H,l,L),H=Math.max(C,H,l,L),C=u,u=Math.min(A,E,r,M),E=Math.max(A,E,r,M),A=u);C-=q;A-=da;H+=q;E+=da;z.left=C/J;z.top=1-A/F;z.right=
H/J;z.bottom=1-E/F;L=C=N(C);M=A=N(A);oa=H=qa(H);pa=E=qa(E);L-=q;M-=da;oa+=q;pa+=da;0>C&&(C=0);0>A&&(A=0);H>J&&(H=J);E>F&&(E=F);0>L&&(L=0);0>M&&(M=0);oa>J&&(oa=J);pa>F&&(pa=F);B.left=C/J;B.top=1-A/F;B.right=H/J;B.bottom=1-E/F}else B.left=z.left=0,B.top=z.top=0,B.right=z.right=1,B.bottom=z.bottom=1;da=c&&((c.g||ra)&&b.dg(f[0].Ka)||0!==q||0!==da||1!==c.opacity||c.type.Aa.Rl)||a&&!c&&1!==a.opacity;b.um();if(da){m[G]||(m[G]=b.Hc(J,F,this.b.M));if(m[G].sf!==J||m[G].rf!==F)b.deleteTexture(m[G]),m[G]=b.Hc(J,
F,this.b.M);b.Ac(0);b.zc(m[G]);V=pa-M;b.clearRect(L,F-M-V,oa-L,V);c?c.Zb(b):(b.Ib(this.b.Gb),b.bf(a.opacity),b.yc(),b.translate(-ja,-za),b.Dc(),b.Dd(C,E,H,E,H,A,C,A,B));z.left=z.top=0;z.right=z.bottom=1;c&&(u=B.top,B.top=B.bottom,B.bottom=u);G=1;Q=0}b.bf(1);q=f.length-1;var ra=b.xj(f[q].Ka)||!a&&!c&&!this.b.Ob,sa=0;l=0;for(r=f.length;l<r;l++){m[G]||(m[G]=b.Hc(J,F,this.b.M));if(m[G].sf!==J||m[G].rf!==F)b.deleteTexture(m[G]),m[G]=b.Hc(J,F,this.b.M);b.Ac(f[l].Ka);sa=f[l].index;b.Bh(f[l].Ka)&&(this.b.Q=
!0);0!=l||da?(b.cf(e,1/J,1/F,z.left,z.top,z.right,z.bottom,h,g,n,y,(n+d)/2,(y+s)/2,c?c.ba[sa]:a?a.ba[sa]:this.ba[sa]),b.Ib(null),l!==q||ra?(b.zc(m[G]),V=pa-M,u=F-M-V,b.clearRect(L,u,oa-L,V)):(c?b.Fd(c.Qa,c.Na):a&&b.Fd(a.Qa,a.Na),b.zc(e)),b.Ib(m[Q]),b.yc(),b.translate(-ja,-za),b.Dc(),b.Dd(C,E,H,E,H,A,C,A,B),l!==q||ra||b.Ib(null)):(b.zc(m[G]),V=pa-M,u=F-M-V,b.clearRect(L,u,oa-L,V),c?(b.cf(e,1/c.width,1/c.height,z.left,z.top,z.right,z.bottom,h,g,n,y,(n+d)/2,(y+s)/2,c.ba[sa]),c.Zb(b)):(b.cf(e,1/J,1/F,
0,0,1,1,h,g,n,y,(n+d)/2,(y+s)/2,a?a.ba[sa]:this.ba[sa]),b.Ib(a?this.b.Gb:this.b.qb),b.yc(),b.translate(-ja,-za),b.Dc(),b.Dd(C,E,H,E,H,A,C,A,B)),z.left=z.top=0,z.right=z.bottom=1,c&&!ra&&(u=E,E=A,A=u));G=0===G?1:0;Q=0===G?1:0}ra&&(b.Ac(0),c?b.Fd(c.Qa,c.Na):a?b.Fd(a.Qa,a.Na):this.b.Ob||(b.df(this.b.width,this.b.height),ja=this.b.width/2,za=this.b.height/2,A=C=0,H=this.b.width,E=this.b.height),b.zc(e),b.Ib(m[Q]),b.yc(),b.translate(-ja,-za),b.Dc(),c&&1===f.length&&!da?b.Dd(C,A,H,A,H,E,C,E,B):b.Dd(C,E,
H,E,H,A,C,A,B),b.Ib(null))};l.prototype.Vg=function(b){var a,c;a=0;for(c=this.A.length;a<c;a++)if(this.A[a].C===b)return this.A[a];return null};l.prototype.Rb=function(){var b,a,c,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.g,w:this.width,h:this.height,fv:this.Bf,persist:this.Ad,fx:[],layers:{}};b=0;for(a=this.p.length;b<a;b++)c=this.p[b],e.fx.push({name:c.name,active:c.zb,params:this.ba[c.index]});b=0;for(a=this.A.length;b<a;b++)c=this.A[b],e.layers[c.C.toString()]=c.Rb();return e};l.prototype.uc=
function(b){var a,c,e,f;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.g=b.a;this.width=b.w;this.height=b.h;this.Ad=b.persist;"undefined"!==typeof b.fv&&(this.Bf=b.fv);var h=b.fx;a=0;for(c=h.length;a<c;a++)if(e=this.Mi(h[a].name))e.zb=h[a].active,this.ba[e.index]=h[a].params;this.Yc();a=b.layers;for(f in a)a.hasOwnProperty(f)&&(b=this.Vg(parseInt(f,10)))&&b.uc(a[f])};tb=l;a.prototype.Yc=function(){this.K.length=0;var b,a,c;b=0;for(a=this.p.length;b<a;b++)c=this.p[b],c.zb&&this.K.push(c)};
a.prototype.Mi=function(b){var a,c,e;a=0;for(c=this.p.length;a<c;a++)if(e=this.p[a],e.name===b)return e;return null};a.prototype.io=function(){var b,a,c,e,f,h;a=b=0;for(c=this.Ke.length;b<c;b++){e=this.Ke[b];f=this.b.j[e[1]];h=this.b.Wj(f);f=!0;if(!h||this.T.Bf)e=this.b.ld(e,this,!0),q.push(e),e.type.global&&(f=!1);f&&(this.Ke[a]=this.Ke[b],a++)}this.Ke.length=a;this.b.Ma();!this.b.m&&this.p.length&&(this.Va=this.Co);this.tf=Xa(this.Va);this.b.i&&Ya(this,this.Va,this.b.i);this.Vc=!0};a.prototype.$e=
function(b,a){var c=Aa(this.d,b);0>c||(a&&this.lc&&b.eb&&b.eb.right>=b.eb.left&&(b.Z(),this.sb.update(b,b.eb,null),b.eb.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(wa(this.d,c),this.jg(c)),this.Vc=!0)};a.prototype.of=function(b,a){b.mc=this.d.length;this.d.push(b);a&&this.lc&&b.eb&&b.oa();this.Vc=!0};a.prototype.zq=function(b){this.d.unshift(b);this.jg(0)};a.prototype.jq=function(b,a,c){var e=b.sc();a=a.sc();wa(this.d,e);e<a&&a--;c&&a++;a===this.d.length?this.d.push(b):this.d.splice(a,0,b);
this.jg(e<a?e:a)};a.prototype.jg=function(b){-1===this.$c?this.$c=b:b<this.$c&&(this.$c=b);this.Vc=this.ve=!0};a.prototype.Zj=function(){if(this.ve){-1===this.$c&&(this.$c=0);var b,a,c;if(this.lc)for(b=this.$c,a=this.d.length;b<a;++b)c=this.d[b],c.mc=b,this.sb.hq(c.eb);else for(b=this.$c,a=this.d.length;b<a;++b)this.d[b].mc=b;this.ve=!1;this.$c=-1}};a.prototype.Fb=function(b){return this.tp()*(this.b.Ob||b?this.b.pf:1)};a.prototype.tp=function(){return(this.scale*this.T.scale-1)*this.sg+1};a.prototype.Db=
function(){return this.Sd?0:Ea(this.T.g+this.g)};var f=[],e=[],c=[];a.prototype.Uk=function(){this.Zj();this.sb.Eh(this.ea,this.fa,this.ua,this.ta,c);if(!c.length)return m();if(1===c.length){var b=m();xa(b,c[0]);c.length=0;return b}for(var a=!0;1<c.length;){for(var b=c,f=void 0,p=void 0,h=void 0,l=void 0,g=void 0,f=0,p=b.length;f<p-1;f+=2){var h=b[f],l=b[f+1],g=m(),n=h,y=l,d=g,s=0,r=0,q=0,R=n.length,Y=y.length,fa=void 0,G=void 0;for(d.length=R+Y;s<R&&r<Y;++q)fa=n[s],G=y[r],fa.mc<G.mc?(d[q]=fa,++s):
(d[q]=G,++r);for(;s<R;++s,++q)d[q]=n[s];for(;r<Y;++r,++q)d[q]=y[r];a||(u(h),u(l));e.push(g)}1===p%2&&(a?(h=m(),xa(h,b[p-1]),e.push(h)):e.push(b[p-1]));xa(b,e);e.length=0;a=!1}b=c[0];c.length=0;return b};a.prototype.Kc=function(b){this.Ed=this.Ei||1!==this.opacity||0!==this.Va;var a=this.b.canvas,c=b,e=!1;this.Ed&&(this.b.lh||(this.b.lh=document.createElement("canvas"),a=this.b.lh,a.width=this.b.F,a.height=this.b.D,this.b.tl=a.getContext("2d"),e=!0),a=this.b.lh,c=this.b.tl,a.width!==this.b.F&&(a.width=
this.b.F,e=!0),a.height!==this.b.D&&(a.height=this.b.D,e=!0),e&&(c.webkitImageSmoothingEnabled=this.b.M,c.mozImageSmoothingEnabled=this.b.M,c.msImageSmoothingEnabled=this.b.M,c.imageSmoothingEnabled=this.b.M),this.Xc&&c.clearRect(0,0,this.b.F,this.b.D));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Xc||(c.fillStyle="rgb("+this.ed[0]+","+this.ed[1]+","+this.ed[2]+")",c.fillRect(0,0,this.b.F,this.b.D));c.save();this.Sd=!0;var e=this.Ce(!0),f=this.Ce(!1);this.Sd=!1;this.b.Bd&&(e=Math.round(e),
f=Math.round(f));this.Fj(e,f,c);var h=this.Fb();c.scale(h,h);c.translate(-e,-f);this.lc?(this.Mb.left=this.sb.xb(this.ea),this.Mb.top=this.sb.yb(this.fa),this.Mb.right=this.sb.xb(this.ua),this.Mb.bottom=this.sb.yb(this.ta),this.Vc||!this.Mb.Ng(this.hh)?(u(this.Pe),e=this.Uk(),this.Vc=!1,this.hh.Eg(this.Mb)):e=this.Pe):e=this.d;for(var g,n=null,f=0,h=e.length;f<h;++f)g=e[f],g!==n&&(this.zo(g,c),n=g);this.lc&&(this.Pe=e);c.restore();this.Ed&&(b.globalCompositeOperation=this.tf,b.globalAlpha=this.opacity,
b.drawImage(a,0,0))};a.prototype.zo=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.Z();var c=b.ga;c.right<this.ea||c.bottom<this.fa||c.left>this.ua||c.top>this.ta||(a.globalCompositeOperation=b.tf,b.Kc(a))}};a.prototype.Yj=function(){this.Sd=!0;var b=this.Ce(!0),a=this.Ce(!1);this.Sd=!1;this.b.Bd&&(b=Math.round(b),a=Math.round(a));this.Fj(b,a,null)};a.prototype.Fj=function(b,a,c){var e=this.Fb();this.ea=b;this.fa=a;this.ua=b+1/e*this.b.F;this.ta=a+1/e*this.b.D;b=this.Db();0!==b&&(c&&(c.translate(this.b.F/
2,this.b.D/2),c.rotate(-b),c.translate(this.b.F/-2,this.b.D/-2)),this.Wc.set(this.ea,this.fa,this.ua,this.ta),this.Wc.offset((this.ea+this.ua)/-2,(this.fa+this.ta)/-2),this.Km.xm(this.Wc,b),this.Km.mk(this.Wc),this.Wc.offset((this.ea+this.ua)/2,(this.fa+this.ta)/2),this.ea=this.Wc.left,this.fa=this.Wc.top,this.ua=this.Wc.right,this.ta=this.Wc.bottom)};a.prototype.Zb=function(b){var a=0,c=0;if(this.Ed=this.Ei||1!==this.opacity||0<this.K.length||0!==this.Va){this.b.Gb||(this.b.Gb=b.Hc(this.b.F,this.b.D,
this.b.M));if(this.b.Gb.sf!==this.b.F||this.b.Gb.rf!==this.b.D)b.deleteTexture(this.b.Gb),this.b.Gb=b.Hc(this.b.F,this.b.D,this.b.M);b.zc(this.b.Gb);this.Xc&&b.clear(0,0,0,0)}this.Xc||b.clear(this.ed[0]/255,this.ed[1]/255,this.ed[2]/255,1);this.Sd=!0;var e=this.Ce(!0),a=this.Ce(!1);this.Sd=!1;this.b.Bd&&(e=Math.round(e),a=Math.round(a));this.Fj(e,a,null);e=this.Fb();b.yc();b.scale(e,e);b.Gj(-this.Db());b.translate((this.ea+this.ua)/-2,(this.fa+this.ta)/-2);b.Dc();this.lc?(this.Mb.left=this.sb.xb(this.ea),
this.Mb.top=this.sb.yb(this.fa),this.Mb.right=this.sb.xb(this.ua),this.Mb.bottom=this.sb.yb(this.ta),this.Vc||!this.Mb.Ng(this.hh)?(u(this.Pe),a=this.Uk(),this.Vc=!1,this.hh.Eg(this.Mb)):a=this.Pe):a=this.d;var f,h,g=null,c=0;for(f=a.length;c<f;++c)h=a[c],h!==g&&(this.Ao(a[c],b),g=h);this.lc&&(this.Pe=a);this.Ed&&(a=this.K.length?this.K[0].Ka:0,c=this.K.length?this.K[0].index:0,0===this.K.length||1===this.K.length&&!b.xj(a)&&1===this.opacity?(1===this.K.length?(b.Ac(a),b.cf(this.T.Cf(),1/this.b.F,
1/this.b.D,0,0,1,1,e,this.Db(),this.ea,this.fa,(this.ea+this.ua)/2,(this.fa+this.ta)/2,this.ba[c]),b.Bh(a)&&(this.b.Q=!0)):b.Ac(0),b.zc(this.T.Cf()),b.bf(this.opacity),b.Ib(this.b.Gb),b.Fd(this.Qa,this.Na),b.yc(),b.Dc(),e=this.b.F/2,a=this.b.D/2,b.Dh(-e,a,e,a,e,-a,-e,-a),b.Ib(null)):this.T.Cj(b,this,null,this.T.Cf()))};a.prototype.Ao=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.Z();var c=b.ga;c.right<this.ea||c.bottom<this.fa||c.left>this.ua||c.top>this.ta||(b.Xm?this.Bo(b,a):(a.Ac(0),
a.Fd(b.Qa,b.Na),b.Zb(a)))}};a.prototype.Bo=function(b,a){var c=b.K[0].Ka,e=b.K[0].index,f=this.Fb();if(1!==b.K.length||a.xj(c)||a.Bq(c)||(b.g||b.e.Db())&&a.dg(c)||1!==b.opacity||b.type.Aa.Rl)this.T.Cj(a,this,b,this.Ed?this.b.Gb:this.T.Cf()),a.yc(),a.scale(f,f),a.Gj(-this.Db()),a.translate((this.ea+this.ua)/-2,(this.fa+this.ta)/-2),a.Dc();else{a.Ac(c);a.Fd(b.Qa,b.Na);a.Bh(c)&&(this.b.Q=!0);var h=0,g=0,n=0,y=0;a.dg(c)&&(c=b.ga,h=this.Y(c.left,c.top,!0,!0),g=this.Y(c.left,c.top,!1,!0),n=this.Y(c.right,
c.bottom,!0,!0),c=this.Y(c.right,c.bottom,!1,!0),h/=windowWidth,g=1-g/windowHeight,n/=windowWidth,y=1-c/windowHeight);a.cf(this.Ed?this.b.Gb:this.T.Cf(),1/b.width,1/b.height,h,g,n,y,f,this.Db(),this.ea,this.fa,(this.ea+this.ua)/2,(this.fa+this.ta)/2,b.ba[e]);b.Zb(a)}};a.prototype.Ce=function(b){var a=0,c=0,e=this.b.devicePixelRatio;this.b.be&&(a*=e,c*=e);var e=this.b.cm,f=this.b.dm,e=(this.T.scrollX-e)*this.Tc+e,f=(this.T.scrollY-f)*this.Uc+f,h=1/this.Fb(!1),e=e-this.b.F*h/2,f=f-this.b.D*h/2,e=e+
a*h,f=f+c*h,c=this.Db();0!==c&&(e-=this.T.scrollX,f-=this.T.scrollY,a=Math.cos(c),c=Math.sin(c),h=e*a-f*c,f=f*a+e*c,e=h+this.T.scrollX,f+=this.T.scrollY);return b?e:f};a.prototype.Y=function(b,a,c,e){var f=this.Db();if(0!==f){b-=this.T.scrollX;a-=this.T.scrollY;var h=Math.cos(-f),f=Math.sin(-f),g=b*h-a*f;a=a*h+b*f;b=g+this.T.scrollX;a+=this.T.scrollY}h=this.b.cm;f=this.b.dm;h=(this.T.scrollX-h)*this.Tc+h;f=(this.T.scrollY-f)*this.Uc+f;g=1/this.Fb(!e);e?(h-=this.b.F*g/2,f-=this.b.D*g/2):(h-=this.b.width*
g/2,f-=this.b.height*g/2);h=(b-h)/g;f=(a-f)/g;b=this.b.devicePixelRatio;this.b.be&&!e&&(h/=b,f/=b);return c?h:f};a.prototype.Rb=function(){var b,a,c,e={s:this.scale,a:this.g,vl:this.ea,vt:this.fa,vr:this.ua,vb:this.ta,v:this.visible,bc:this.ed,t:this.Xc,px:this.Tc,py:this.Uc,o:this.opacity,zr:this.sg,fx:[],instances:[]};b=0;for(a=this.p.length;b<a;b++)c=this.p[b],e.fx.push({name:c.name,active:c.zb,params:this.ba[c.index]});return e};a.prototype.uc=function(b){var a,c;this.scale=b.s;this.g=b.a;this.ea=
b.vl;this.fa=b.vt;this.ua=b.vr;this.ta=b.vb;this.visible=b.v;this.ed=b.bc;this.Xc=b.t;this.Tc=b.px;this.Uc=b.py;this.opacity=b.o;this.sg=b.zr;var e=b.fx;b=0;for(a=e.length;b<a;b++)if(c=this.Mi(e[b].name))c.zb=e[b].active,this.ba[c.index]=e[b].params;this.Yc();this.d.sort(r);this.ve=!0};Hb=a})();
(function(){function l(b,a){var c,d=b.length;switch(d){case 0:return!0;case 1:return b[0]===a[0];case 2:return b[0]===a[0]&&b[1]===a[1];default:for(c=0;c<d;c++)if(b[c]!==a[c])return!1;return!0}}function r(b,a){return b.index-a.index}function a(b){var a,c,d,e;2===b.length?b[0].index>b[1].index&&(a=b[0],b[0]=b[1],b[1]=a):2<b.length&&b.sort(r);b.length>=p.length&&(p.length=b.length+1);p[b.length]||(p[b.length]=[]);e=p[b.length];a=0;for(c=e.length;a<c;a++)if(d=e[a],l(b,d))return d;e.push(b);return b}
function m(b,a){this.b=b;this.Mm={};this.Ik={};this.Ri=!1;this.Zk=new D;this.ti=[];this.ci=[];this.name=a[0];var c=a[1];this.nd=[];var d,e;d=0;for(e=c.length;d<e;d++)this.al(c[d],null,this.nd)}function u(b){this.type=b;this.d=[];this.L=[];this.O=!0}function q(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.V=[];this.Gd=[];this.Yk=this.Th=this.Tj=this.Ui=this.group=this.Mj=!1;this.wa=[];this.Vb=[];this.Tb=[];this.Ef="";this.Wg=this.Ui=this.group=!1;this.wk=null;c[1]&&(this.Ef=c[1][1].toLowerCase(),
this.group=!0,this.Ui=!!c[1][0],this.wk=[],this.Wg=this.Ui,this.b.Be.push(this),this.b.Xg[this.Ef]=this);this.fc=c[2];this.C=c[4];this.group||(this.b.lk[this.C.toString()]=this);var d=c[5];b=0;for(a=d.length;b<a;b++){var e=new Ib(this,d[b]);e.index=b;this.wa.push(e);this.hk(e.type)}d=c[6];b=0;for(a=d.length;b<a;b++)e=new Jb(this,d[b]),e.index=b,this.Vb.push(e);if(8===c.length)for(c=c[7],b=0,a=c.length;b<a;b++)this.sheet.al(c[b],this,this.Tb);this.dh=!1;this.wa.length&&(this.dh=null==this.wa[0].type&&
this.wa[0].Ha==X.prototype.u.ln)}function h(b,a){var c,d,e;if(b&&(-1===a.indexOf(b)&&a.push(b),b.pb))for(c=0,d=b.kb.length;c<d;c++)e=b.kb[c],b!==e&&-1===a.indexOf(e)&&a.push(e)}function f(b,a){this.Ab=b;this.sheet=b.sheet;this.b=b.b;this.q=[];this.R=[];this.G={};this.index=-1;this.mf=!1;this.Ha=this.b.ad(a[1]);this.trigger=0<a[3];this.Hk=2===a[3];this.Yi=a[5];this.cq=a[6];this.C=a[7];this.b.De[this.C.toString()]=this;-1===a[0]?(this.type=null,this.na=this.Ij,this.Pd=null,this.Kb=-1):(this.type=this.b.j[a[0]],
this.na=this.cq?this.Kq:this.Hj,a[2]?(this.Pd=this.type.Ug(a[2]),this.Kb=this.type.Ii(a[2])):(this.Pd=null,this.Kb=-1),this.Ab.parent&&this.Ab.parent.Jh());this.Hk&&(this.na=this.Lq);if(10===a.length){var c,d,e=a[9];c=0;for(d=e.length;c<d;c++){var f=new Kb(this,e[c]);this.q.push(f)}this.R.length=e.length}}function e(b,a){this.Ab=b;this.sheet=b.sheet;this.b=b.b;this.q=[];this.R=[];this.G={};this.index=-1;this.mf=!1;this.Ha=this.b.ad(a[1]);-1===a[0]?(this.type=null,this.na=this.Ij,this.Pd=null,this.Kb=
-1):(this.type=this.b.j[a[0]],this.na=this.Hj,a[2]?(this.Pd=this.type.Ug(a[2]),this.Kb=this.type.Ii(a[2])):(this.Pd=null,this.Kb=-1));this.C=a[3];this.b.Ae[this.C.toString()]=this;if(6===a.length){var c,d,e=a[5];c=0;for(d=e.length;c<d;c++){var f=new Kb(this,e[c]);this.q.push(f)}this.R.length=e.length}}function c(b,a){this.n=b;this.Ab=b.Ab;this.sheet=b.sheet;this.b=b.b;this.type=a[0];this.rc=null;this.Hd=0;this.get=null;this.vk=0;this.T=null;this.key=0;this.object=null;this.index=0;this.pg=this.te=
this.pg=this.te=this.Jk=this.Td=this.qg=null;this.Ub=!1;var c,d,e;switch(a[0]){case 0:case 7:this.rc=new U(this,a[1]);this.Hd=0;this.get=this.Dp;break;case 1:this.rc=new U(this,a[1]);this.Hd=0;this.get=this.Ep;break;case 5:this.rc=new U(this,a[1]);this.Hd=0;this.get=this.Ip;break;case 3:case 8:this.vk=a[1];this.get=this.Bp;break;case 6:this.T=this.b.hj[a[1]];this.get=this.Jp;break;case 9:this.key=a[1];this.get=this.Hp;break;case 4:this.object=this.b.j[a[1]];this.get=this.Kp;this.Ab.hk(this.object);
this.n instanceof Jb?this.Ab.Jh():this.Ab.parent&&this.Ab.parent.Jh();break;case 10:this.index=a[1];b.type.H?(this.get=this.Fp,this.Ub=!0):this.get=this.Gp;break;case 11:this.qg=a[1];this.Td=null;this.get=this.Cp;break;case 2:case 12:this.Jk=a[1];this.get=this.Ap;break;case 13:for(this.get=this.Lp,this.te=[],this.pg=[],c=1,d=a.length;c<d;c++)e=new Kb(this.n,a[c]),this.te.push(e),this.pg.push(0)}}function b(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.V=[];this.name=c[1];this.Ym=c[2];this.Ti=
c[3];this.Lf=!!c[4];this.ah=!!c[5];this.C=c[6];this.b.kf[this.C.toString()]=this;this.data=this.Ti;this.parent?(this.le=this.Lf||this.ah?-1:this.b.Rq++,this.b.Tn.push(this)):(this.le=-1,this.b.Sn.push(this))}function k(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.V=[];this.Gf=null;this.Rp=c[1];this.zb=!0}function t(){this.Dm=[];this.reset(null)}var p=[];m.prototype.toString=function(){return this.name};m.prototype.al=function(b,a,c){switch(b[0]){case 0:b=new Lb(this,a,b);if(b.fc)for(c.push(b),
c=0,a=b.wa.length;c<a;c++)b.wa[c].trigger&&this.bl(b,c);else b.ll()?this.bl(b,0):c.push(b);break;case 1:b=new Eb(this,a,b);c.push(b);break;case 2:b=new Mb(this,a,b),c.push(b)}};m.prototype.ia=function(){var b,a;b=0;for(a=this.nd.length;b<a;b++)this.nd[b].ia(b<a-1&&this.nd[b+1].dh)};m.prototype.Vm=function(){this.ti.length=0;this.ci.length=0;this.gk(this);this.ci.length=0};m.prototype.gk=function(b){var a,c,d,e,f=b.ti,k=b.ci,p=this.Zk.Ld();a=0;for(c=p.length;a<c;++a)d=p[a],e=d.Gf,!d.zb||b===e||-1<
k.indexOf(e)||(k.push(e),e.gk(b),f.push(e))};m.prototype.na=function(b){this.b.As||(this.Ri=!0,b||(this.b.aj=!0));var a,c;a=0;for(c=this.nd.length;a<c;a++){var d=this.nd[a];d.na();this.b.ni(d.V);this.b.qd&&this.b.Ma()}b||(this.b.aj=!1)};m.prototype.bl=function(b,a){b.fc||this.b.Uh.push(b);var c,d,e=b.wa[a],f;f=e.type?e.type.name:"system";var k=(c=e.Hk)?this.Ik:this.Mm;k[f]||(k[f]=[]);f=k[f];k=e.Ha;if(c){if(e.q.length&&(e=e.q[0],1===e.type&&2===e.rc.type)){e=e.rc.value.toLowerCase();c=0;for(d=f.length;c<
d;c++)if(f[c].method==k){c=f[c].yf;c[e]?c[e].push([b,a]):c[e]=[[b,a]];return}c={};c[e]=[[b,a]];f.push({method:k,yf:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==k){f[c].yf.push([b,a]);return}Z&&k===Z.prototype.u.ze?f.unshift({method:k,yf:[[b,a]]}):f.push({method:k,yf:[[b,a]]})}};ub=m;u.prototype.Wk=function(){return this.O?this.type.d.length:this.d.length};u.prototype.Eb=function(){return this.O?this.type.d:this.d};u.prototype.bg=function(b){b&&(b.b.Oa().Ta.fc?(this.O&&(this.d.length=0,xa(this.L,
b.type.d),this.O=!1),b=this.L.indexOf(b),-1!==b&&(this.d.push(this.L[b]),this.L.splice(b,1))):(this.O=!1,this.d.length=1,this.d[0]=b))};db=u;window._c2hh_="";q.prototype.ia=function(b){var c,e=this.parent;if(this.group)for(this.Th=!0;e;){if(!e.group){this.Th=!1;break}e=e.parent}this.Tj=!this.ll()&&(!this.parent||this.parent.group&&this.parent.Th);this.Yk=!!b;this.Gd=this.V.slice(0);for(e=this.parent;e;){b=0;for(c=e.V.length;b<c;b++)this.Rn(e.V[b]);e=e.parent}this.V=a(this.V);this.Gd=a(this.Gd);b=
0;for(c=this.wa.length;b<c;b++)this.wa[b].ia();b=0;for(c=this.Vb.length;b<c;b++)this.Vb[b].ia();b=0;for(c=this.Tb.length;b<c;b++)this.Tb[b].ia(b<c-1&&this.Tb[b+1].dh)};q.prototype.hk=function(b){h(b,this.V)};q.prototype.Rn=function(b){h(b,this.Gd)};q.prototype.Jh=function(){this.Mj=!0;this.parent&&this.parent.Jh()};q.prototype.ll=function(){return this.wa.length?this.wa[0].trigger:!1};q.prototype.na=function(){var b,a=!1,c,d=this.b,e=this.b.Oa();e.Ta=this;var f=this.wa;this.dh||(e.xi=!1);if(this.fc){0===
f.length&&(a=!0);e.la=0;for(b=f.length;e.la<b;e.la++)f[e.la].trigger||(c=f[e.la].na())&&(a=!0);(e.he=a)&&this.Ih()}else{e.la=0;for(b=f.length;e.la<b;e.la++)if(c=f[e.la].na(),!c){e.he=!1;this.Tj&&d.qd&&d.Ma();return}e.he=!0;this.Ih()}this.Eo(e)};q.prototype.Eo=function(b){b.he&&this.Yk&&(b.xi=!0);this.Tj&&this.b.qd&&this.b.Ma()};q.prototype.Iq=function(b){this.b.Oa().Ta=this;this.wa[b].na()&&(this.Ih(),this.b.Oa().he=!0)};q.prototype.Ih=function(){var b=this.b.Oa(),a;b.Jb=0;for(a=this.Vb.length;b.Jb<
a;b.Jb++)if(this.Vb[b.Jb].na())return;this.pm()};q.prototype.Gq=function(){var b=this.b.Oa(),a;for(a=this.Vb.length;b.Jb<a;b.Jb++)if(this.Vb[b.Jb].na())return;this.pm()};q.prototype.pm=function(){if(this.Tb.length){var b,a,c,d,e=this.Tb.length-1;this.b.Ch(this);if(this.Mj)for(b=0,a=this.Tb.length;b<a;b++)c=this.Tb[b],(d=!this.Th||!this.group&&b<e)&&this.b.gg(c.V),c.na(),d?this.b.Cd(c.V):this.b.ni(c.V);else for(b=0,a=this.Tb.length;b<a;b++)this.Tb[b].na();this.b.Ah()}};q.prototype.Jq=function(){var b=
this.b.Oa();b.Ta=this;var a=!1,c;b.la=0;for(c=this.wa.length;b.la<c;b.la++)if(this.wa[b.la].na())a=!0;else if(!this.fc)return!1;return this.fc?a:!0};q.prototype.Ej=function(){this.b.Pg++;var b=this.b.Oa().la,a=this.b.Ch(this);if(!this.fc)for(a.la=b+1,b=this.wa.length;a.la<b;a.la++)if(!this.wa[a.la].na()){this.b.Ah();return}this.Ih();this.b.Ah()};q.prototype.Yp=function(b){var a=b.index;if(0===a)return!0;for(--a;0<=a;--a)if(this.wa[a].type===b.type)return!1;return!0};Lb=q;f.prototype.ia=function(){var b,
a,c;b=0;for(a=this.q.length;b<a;b++)c=this.q[b],c.ia(),c.Ub&&(this.mf=!0)};f.prototype.Lq=function(){return!0};f.prototype.Ij=function(){var b,a;b=0;for(a=this.q.length;b<a;b++)this.R[b]=this.q[b].get();return La(this.Ha.apply(this.b.Bc,this.R),this.Yi)};f.prototype.Kq=function(){var b,a;b=0;for(a=this.q.length;b<a;b++)this.R[b]=this.q[b].get();b=this.Ha.apply(this.Pd?this.Pd:this.type,this.R);this.type.qc();return b};f.prototype.Hj=function(){var b,a,c,d,e,f,k,p,h=this.type,m=h.J(),l=this.Ab.fc&&
!this.trigger;a=0;var t=h.pb,r=h.H,v=h.Nc,q=this.Kb,x=-1<q,u=this.mf,B=this.q,z=this.R,C=this.Yi,L=this.Ha,A;if(u)for(a=0,e=B.length;a<e;++a)f=B[a],f.Ub||(z[a]=f.get(0));else for(a=0,e=B.length;a<e;++a)z[a]=B[a].get(0);if(m.O){m.d.length=0;m.L.length=0;A=h.d;b=0;for(d=A.length;b<d;++b){p=A[b];if(u)for(a=0,e=B.length;a<e;++a)f=B[a],f.Ub&&(z[a]=f.get(b));x?(a=0,r&&(a=p.type.He[v]),a=L.apply(p.r[q+a],z)):a=L.apply(p,z);(k=La(a,C))?m.d.push(p):l&&m.L.push(p)}h.finish&&h.finish(!0);m.O=!1;h.qc();return m.Wk()}c=
0;A=(k=l&&!this.Ab.Yp(this))?m.L:m.d;var M=!1;b=0;for(d=A.length;b<d;++b){p=A[b];if(u)for(a=0,e=B.length;a<e;++a)f=B[a],f.Ub&&(z[a]=f.get(b));x?(a=0,r&&(a=p.type.He[v]),a=L.apply(p.r[q+a],z)):a=L.apply(p,z);if(La(a,C))if(M=!0,k){if(m.d.push(p),t)for(a=0,e=p.siblings.length;a<e;a++)f=p.siblings[a],f.type.J().d.push(f)}else{A[c]=p;if(t)for(a=0,e=p.siblings.length;a<e;a++)f=p.siblings[a],f.type.J().d[c]=f;c++}else if(k){A[c]=p;if(t)for(a=0,e=p.siblings.length;a<e;a++)f=p.siblings[a],f.type.J().L[c]=
f;c++}else if(l&&(m.L.push(p),t))for(a=0,e=p.siblings.length;a<e;a++)f=p.siblings[a],f.type.J().L.push(f)}A.length=c;if(t)for(r=h.kb,b=0,d=r.length;b<d;b++)p=r[b].J(),k?p.L.length=c:p.d.length=c;c=M;if(k&&!M)for(b=0,d=m.d.length;b<d;b++){p=m.d[b];if(u)for(a=0,e=B.length;a<e;a++)f=B[a],f.Ub&&(z[a]=f.get(b));a=x?L.apply(p.r[q],z):L.apply(p,z);if(La(a,C)){M=!0;break}}h.finish&&h.finish(c||l);return l?M:m.Wk()};Ib=f;e.prototype.ia=function(){var b,a,c;b=0;for(a=this.q.length;b<a;b++)c=this.q[b],c.ia(),
c.Ub&&(this.mf=!0)};e.prototype.Ij=function(){var b,a;b=0;for(a=this.q.length;b<a;b++)this.R[b]=this.q[b].get();return this.Ha.apply(this.b.Bc,this.R)};e.prototype.Hj=function(){var b=this.type.J().Eb(),a=this.type.H,c=this.type.Nc,d=this.Kb,e=-1<d,f=this.mf,k=this.q,p=this.R,h=this.Ha,m,l,t,r,v,q;if(f)for(l=0,r=k.length;l<r;++l)v=k[l],v.Ub||(p[l]=v.get(0));else for(l=0,r=k.length;l<r;++l)p[l]=k[l].get(0);m=0;for(t=b.length;m<t;++m){q=b[m];if(f)for(l=0,r=k.length;l<r;++l)v=k[l],v.Ub&&(p[l]=v.get(m));
e?(l=0,a&&(l=q.type.He[c]),h.apply(q.r[d+l],p)):h.apply(q,p)}return!1};Jb=e;var v=[],x=-1;c.prototype.ia=function(){var b,a;if(11===this.type)this.Td=this.b.Pk(this.qg,this.Ab.parent);else if(13===this.type)for(b=0,a=this.te.length;b<a;b++)this.te[b].ia();this.rc&&this.rc.ia()};c.prototype.iq=function(b){this.Ub||!b||b.Aa.Lh||(this.Ub=!0)};c.prototype.vm=function(){this.Ub=!0};c.prototype.Ca=function(){x++;v.length===x&&v.push(new Nb);return v[x]};c.prototype.ma=function(){x--};c.prototype.Dp=function(b){this.Hd=
b||0;b=this.Ca();this.rc.get(b);this.ma();return b.data};c.prototype.Ep=function(b){this.Hd=b||0;b=this.Ca();this.rc.get(b);this.ma();return K(b.data)?b.data:""};c.prototype.Kp=function(){return this.object};c.prototype.Bp=function(){return this.vk};c.prototype.Ip=function(b){this.Hd=b||0;b=this.Ca();this.rc.get(b);this.ma();return b.Ea()?this.b.sp(b.data):this.b.rp(b.data)};c.prototype.Jp=function(){return this.T};c.prototype.Hp=function(){return this.key};c.prototype.Gp=function(){return this.index};
c.prototype.Fp=function(b){b=b||0;var a=this.n.type,c=null,c=a.J(),d=c.Eb();if(d.length)c=d[b%d.length].type;else if(c.L.length)c=c.L[b%c.L.length].type;else if(a.d.length)c=a.d[b%a.d.length].type;else return 0;return this.index+c.Qg[a.Nc]};c.prototype.Cp=function(){return this.Td};c.prototype.Ap=function(){return this.Jk};c.prototype.Lp=function(){var b,a;b=0;for(a=this.te.length;b<a;b++)this.pg[b]=this.te[b].get();return this.pg};Kb=c;b.prototype.ia=function(){this.V=a(this.V)};b.prototype.Kh=function(b){var a=
this.b.Ok();this.parent&&!this.Lf&&a?(this.le>=a.length&&(a.length=this.le+1),a[this.le]=b):this.data=b};b.prototype.zp=function(){var b=this.b.Ok();return!this.parent||this.Lf||!b||this.ah?this.data:this.le>=b.length||"undefined"===typeof b[this.le]?this.Ti:b[this.le]};b.prototype.na=function(){!this.parent||this.Lf||this.ah||this.Kh(this.Ti)};Eb=b;k.prototype.toString=function(){return"include:"+this.Gf.toString()};k.prototype.ia=function(){this.Gf=this.b.Ai[this.Rp];this.sheet.Zk.add(this);this.V=
a(this.V);for(var b=this.parent;b;)b.group&&b.wk.push(this),b=b.parent;this.Zq()};k.prototype.na=function(){this.parent&&this.b.fg(this.b.j);this.Gf.Ri||this.Gf.na(!0);this.parent&&this.b.Cd(this.b.j)};k.prototype.Zq=function(){for(var b=this.parent;b;){if(b.group&&!b.Wg){this.zb=!1;return}b=b.parent}this.zb=!0};Mb=k;t.prototype.reset=function(b){this.Ta=b;this.Jb=this.la=0;this.Dm.length=0;this.xi=this.he=!1};t.prototype.Zp=function(){return this.Ta.Mj?!0:this.la<this.Ta.wa.length-1?!!this.Ta.V.length:
!1};Db=t})();
(function(){function l(a,m){this.n=a;this.b=a.b;this.type=m[0];this.get=[this.Qo,this.Mo,this.Yo,this.bp,this.Go,this.Zo,this.Uo,this.Jo,this.To,this.Xo,this.Ho,this.Wo,this.Ko,this.Vo,this.Ro,this.So,this.No,this.Oo,this.Io,this.$o,this.Fk,this.Po,this.Fk,this.Lo][this.type];var l=null;this.bb=this.q=this.R=this.Ha=this.Qh=this.Ga=this.first=this.value=null;this.Kb=-1;this.Pc=null;this.ak=-1;this.Td=this.qg=null;this.ig=!1;switch(this.type){case 0:case 1:case 2:this.value=m[1];break;case 3:this.first=
new U(a,m[1]);break;case 18:this.first=new U(a,m[1]);this.Ga=new U(a,m[2]);this.Qh=new U(a,m[3]);break;case 19:this.Ha=this.b.ad(m[1]);this.Ha!==X.prototype.Bb.random&&this.Ha!==X.prototype.Bb.ao||this.n.vm();this.R=[];this.q=[];3===m.length?(l=m[2],this.R.length=l.length+1):this.R.length=1;break;case 20:this.bb=this.b.j[m[1]];this.Kb=-1;this.Ha=this.b.ad(m[2]);this.ig=m[3];Pb.Function&&this.Ha===Pb.Function.prototype.Bb.mr&&this.n.vm();this.Pc=m[4]?new U(a,m[4]):null;this.R=[];this.q=[];6===m.length?
(l=m[5],this.R.length=l.length+1):this.R.length=1;break;case 21:this.bb=this.b.j[m[1]];this.ig=m[2];this.Pc=m[3]?new U(a,m[3]):null;this.ak=m[4];break;case 22:this.bb=this.b.j[m[1]];this.bb.Ug(m[2]);this.Kb=this.bb.Ii(m[2]);this.Ha=this.b.ad(m[3]);this.ig=m[4];this.Pc=m[5]?new U(a,m[5]):null;this.R=[];this.q=[];7===m.length?(l=m[6],this.R.length=l.length+1):this.R.length=1;break;case 23:this.qg=m[1],this.Td=null}this.n.iq(this.bb);4<=this.type&&17>=this.type&&(this.first=new U(a,m[1]),this.Ga=new U(a,
m[2]));if(l){var r,h;r=0;for(h=l.length;r<h;r++)this.q.push(new U(a,l[r]))}}function r(a,m){this.type=a||W.ye;this.data=m||0;this.Ve=null;this.type==W.ye&&(this.data=Math.floor(this.data))}l.prototype.ia=function(){23===this.type&&(this.Td=this.n.b.Pk(this.qg,this.n.Ab.parent));this.first&&this.first.ia();this.Ga&&this.Ga.ia();this.Qh&&this.Qh.ia();this.Pc&&this.Pc.ia();if(this.q){var a,m;a=0;for(m=this.q.length;a<m;a++)this.q[a].ia()}};l.prototype.$o=function(a){this.R[0]=a;a=this.n.Ca();var m,l;
m=0;for(l=this.q.length;m<l;m++)this.q[m].get(a),this.R[m+1]=a.data;this.n.ma();this.Ha.apply(this.b.Bc,this.R)};l.prototype.Fk=function(a){var m=this.bb.J(),l=m.Eb();if(!l.length)if(m.L.length)l=m.L;else{this.ig?a.tb(""):a.S(0);return}this.R[0]=a;a.Ve=this.bb;a=this.n.Ca();var r,m=0;for(r=this.q.length;m<r;m++)this.q[m].get(a),this.R[m+1]=a.data;m=this.n.Hd;this.Pc&&(this.Pc.get(a),a.Ea()&&(m=a.data,l=this.bb.d));this.n.ma();m%=l.length;0>m&&(m+=l.length);l=l[m];-1<this.Kb?(a=0,this.bb.H&&(a=l.type.He[this.bb.Nc]),
this.Ha.apply(l.r[this.Kb+a],this.R)):this.Ha.apply(l,this.R)};l.prototype.Po=function(a){var m=this.bb.J(),l=m.Eb();if(!l.length)if(m.L.length)l=m.L;else{this.ig?a.tb(""):a.S(0);return}m=this.n.Hd;if(this.Pc){var r=this.n.Ca();this.Pc.get(r);if(r.Ea()){m=r.data;l=this.bb.d;m%=l.length;0>m&&(m+=l.length);l=l[m].xa[this.ak];K(l)?a.tb(l):a.B(l);this.n.ma();return}this.n.ma()}m%=l.length;0>m&&(m+=l.length);l=l[m];m=0;this.bb.H&&(m=l.type.Qg[this.bb.Nc]);l=l.xa[this.ak+m];K(l)?a.tb(l):a.B(l)};l.prototype.Qo=
function(a){a.type=W.ye;a.data=this.value};l.prototype.Mo=function(a){a.type=W.xe;a.data=this.value};l.prototype.Yo=function(a){a.type=W.String;a.data=this.value};l.prototype.bp=function(a){this.first.get(a);a.Ea()&&(a.data=-a.data)};l.prototype.Go=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.Ea()&&m.Ea()&&(a.data+=m.data,m.Me()&&a.Se());this.n.ma()};l.prototype.Zo=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.Ea()&&m.Ea()&&(a.data-=m.data,m.Me()&&a.Se());this.n.ma()};
l.prototype.Uo=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.Ea()&&m.Ea()&&(a.data*=m.data,m.Me()&&a.Se());this.n.ma()};l.prototype.Jo=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.Ea()&&m.Ea()&&(a.data/=m.data,a.Se());this.n.ma()};l.prototype.To=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.Ea()&&m.Ea()&&(a.data%=m.data,m.Me()&&a.Se());this.n.ma()};l.prototype.Xo=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.Ea()&&m.Ea()&&
(a.data=Math.pow(a.data,m.data),m.Me()&&a.Se());this.n.ma()};l.prototype.Ho=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.Ea()?m.eh()?a.tb(a.data.toString()+m.data):a.data&&m.data?a.S(1):a.S(0):a.eh()&&(a.data=m.eh()?a.data+m.data:a.data+(Math.round(1E10*m.data)/1E10).toString());this.n.ma()};l.prototype.Wo=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.Ea()&&m.Ea()&&(a.data||m.data?a.S(1):a.S(0));this.n.ma()};l.prototype.Io=function(a){this.first.get(a);a.data?
this.Ga.get(a):this.Qh.get(a)};l.prototype.Ko=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.S(a.data===m.data?1:0);this.n.ma()};l.prototype.Vo=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.S(a.data!==m.data?1:0);this.n.ma()};l.prototype.Ro=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.S(a.data<m.data?1:0);this.n.ma()};l.prototype.So=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.S(a.data<=m.data?1:0);this.n.ma()};l.prototype.No=
function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.S(a.data>m.data?1:0);this.n.ma()};l.prototype.Oo=function(a){this.first.get(a);var m=this.n.Ca();this.Ga.get(m);a.S(a.data>=m.data?1:0);this.n.ma()};l.prototype.Lo=function(a){var m=this.Td.zp();ha(m)?a.B(m):a.tb(m)};U=l;r.prototype.Me=function(){return this.type===W.xe};r.prototype.Ea=function(){return this.type===W.ye||this.type===W.xe};r.prototype.eh=function(){return this.type===W.String};r.prototype.Se=function(){this.Me()||(this.eh()&&
(this.data=parseFloat(this.data)),this.type=W.xe)};r.prototype.S=function(a){this.type=W.ye;this.data=Math.floor(a)};r.prototype.B=function(a){this.type=W.xe;this.data=a};r.prototype.tb=function(a){this.type=W.String;this.data=a};r.prototype.Oq=function(a){ha(a)?(this.type=W.xe,this.data=a):K(a)?(this.type=W.String,this.data=a.toString()):(this.type=W.ye,this.data=0)};Nb=r;W={ye:0,xe:1,String:2}})();function X(l){this.b=l;this.wb=[]}
X.prototype.Rb=function(){var l={},r,a,m,u,q,h,f,e;l.waits=[];var c=l.waits,b;r=0;for(a=this.wb.length;r<a;r++){h=this.wb[r];b={t:h.time,st:h.Pq,s:h.Am,ev:h.wf.C,sm:[],sols:{}};h.wf.Vb[h.Jb]&&(b.act=h.wf.Vb[h.Jb].C);m=0;for(u=h.V.length;m<u;m++)b.sm.push(h.V[m].C);for(q in h.ub)if(h.ub.hasOwnProperty(q)){f=this.b.j[parseInt(q,10)];e={sa:h.ub[q].qm,insts:[]};m=0;for(u=h.ub[q].Yd.length;m<u;m++)e.insts.push(h.ub[q].Yd[m].uid);b.sols[f.C.toString()]=e}c.push(b)}return l};
X.prototype.uc=function(l){l=l.waits;var r,a,m,u,q,h,f,e,c,b,k;r=this.wb.length=0;for(a=l.length;r<a;r++)if(h=l[r],e=this.b.lk[h.ev.toString()]){c=-1;m=0;for(u=e.Vb.length;m<u;m++)if(e.Vb[m].C===h.act){c=m;break}if(-1!==c){f={ub:{},V:[],Bk:!1};f.time=h.t;f.Pq=h.st||"";f.Am=!!h.s;f.wf=e;f.Jb=c;m=0;for(u=h.sm.length;m<u;m++)(e=this.b.Ie(h.sm[m]))&&f.V.push(e);for(q in h.sols)if(h.sols.hasOwnProperty(q)&&(e=this.b.Ie(parseInt(q,10)))){c=h.sols[q];b={qm:c.sa,Yd:[]};m=0;for(u=c.insts.length;m<u;m++)(k=
this.b.Tk(c.insts[m]))&&b.Yd.push(k);f.ub[e.index.toString()]=b}this.wb.push(f)}}};
(function(){function l(){}function r(){}function a(){}var m=X.prototype;l.prototype.on=function(){return!0};l.prototype.Dn=function(){return!0};l.prototype.Cn=function(){return!0};l.prototype.gn=function(a,c,b){return Ob(a,c,b)};var u=[],q=-1;l.prototype.qn=function(a){var c=a.J();q++;u.length===q&&u.push([]);var b=u[q];xa(b,c.Eb());var f=this.b.Oa(),h=f.Ta,p=f.Zp(),f=this.b.Dq(),m,l,g,n,r,d,s=a.pb;if(p)for(p=0,m=b.length;p<m&&!f.Oj;p++){this.b.gg(h.V);n=b[p];c=a.J();c.O=!1;c.d.length=1;c.d[0]=n;
if(s)for(l=0,g=n.siblings.length;l<g;l++)r=n.siblings[l],d=r.type.J(),d.O=!1,d.d.length=1,d.d[0]=r;f.index=p;h.Ej();this.b.Cd(h.V)}else for(c.O=!1,c.d.length=1,p=0,m=b.length;p<m&&!f.Oj;p++){n=b[p];c.d[0]=n;if(s)for(l=0,g=n.siblings.length;l<g;l++)r=n.siblings[l],d=r.type.J(),d.O=!1,d.d.length=1,d.d[0]=r;f.index=p;h.Ej()}b.length=0;this.b.vq();q--;return!1};l.prototype.nn=function(a){var c=this.b.Ki(),b=c.G.Every_lastTime||0,f=this.b.fe.La;"undefined"===typeof c.G.Every_seconds&&(c.G.Every_seconds=
a);var h=c.G.Every_seconds;if(f>=b+h)return c.G.Every_lastTime=b+h,f>=c.G.Every_lastTime+.04&&(c.G.Every_lastTime=f),c.G.Every_seconds=a,!0;f<b-.1&&(c.G.Every_lastTime=f);return!1};l.prototype.ln=function(){var a=this.b.Oa();return a.xi?!1:!a.he};l.prototype.ek=function(){return!0};l.prototype.yn=function(){return!0};l.prototype.$h=function(){return!0};l.prototype.En=function(){return!0};l.prototype.Zh=function(){return!0};l.prototype.an=function(a,c,b){return Ia(P(a),P(b))<=P(c)};l.prototype.sn=
function(a,c){return S(P(a),P(c))};l.prototype.rn=function(a,c,b){a=Ga(a);c=Ga(c);b=Ga(b);return S(b,c)?S(a,c)&&!S(a,b):!(!S(a,c)&&S(a,b))};m.u=new l;r.prototype.jn=function(a,c,b,f){if(c&&a&&(c=this.b.yk(a,c,b,f))){this.b.cc++;var h;this.b.trigger(Object.getPrototypeOf(a.Aa).u.Yh,c);if(c.pb)for(b=0,f=c.siblings.length;b<f;b++)h=c.siblings[b],this.b.trigger(Object.getPrototypeOf(h.type.Aa).u.Yh,h);this.b.cc--;a=a.J();a.O=!1;a.d.length=1;a.d[0]=c;if(c.pb)for(b=0,f=c.siblings.length;b<f;b++)h=c.siblings[b],
a=h.type.J(),a.O=!1,a.d.length=1,a.d[0]=h}};r.prototype.Gn=function(a,c){0===a.Ym?ha(c)?a.Kh(c):a.Kh(parseFloat(c)):1===a.Ym&&a.Kh(c.toString())};var h=[],f=[];m.Ra=new r;a.prototype["int"]=function(a,c){K(c)?(a.S(parseInt(c,10)),isNaN(a.data)&&(a.data=0)):a.S(c)};a.prototype["float"]=function(a,c){K(c)?(a.B(parseFloat(c)),isNaN(a.data)&&(a.data=0)):a.B(c)};a.prototype.random=function(a,c,b){void 0===b?a.B(Math.random()*c):a.B(Math.random()*(b-c)+c)};a.prototype.sqrt=function(a,c){a.B(Math.sqrt(c))};
a.prototype.abs=function(a,c){a.B(Math.abs(c))};a.prototype.round=function(a,c){a.S(Math.round(c))};a.prototype.floor=function(a,c){a.S(Math.floor(c))};a.prototype.ceil=function(a,c){a.S(Math.ceil(c))};a.prototype.sin=function(a,c){a.B(Math.sin(P(c)))};a.prototype.cos=function(a,c){a.B(Math.cos(P(c)))};a.prototype.tan=function(a,c){a.B(Math.tan(P(c)))};a.prototype.asin=function(a,c){a.B(Ca(Math.asin(c)))};a.prototype.acos=function(a,c){a.B(Ca(Math.acos(c)))};a.prototype.atan=function(a,c){a.B(Ca(Math.atan(c)))};
a.prototype.exp=function(a,c){a.B(Math.exp(c))};a.prototype.log10=function(a,c){a.B(Math.log(c)/Math.LN10)};a.prototype.max=function(a){var c=arguments[1];"number"!==typeof c&&(c=0);var b,f,h;b=2;for(f=arguments.length;b<f;b++)h=arguments[b],"number"===typeof h&&c<h&&(c=h);a.B(c)};a.prototype.min=function(a){var c=arguments[1];"number"!==typeof c&&(c=0);var b,f,h;b=2;for(f=arguments.length;b<f;b++)h=arguments[b],"number"===typeof h&&c>h&&(c=h);a.B(c)};a.prototype.Fe=function(a){a.B(this.b.Fe)};a.prototype.og=
function(a){a.B(this.b.og)};a.prototype.time=function(a){a.B(this.b.fe.La)};a.prototype.Cc=function(a){a.S(this.b.Cc)};a.prototype.xh=function(a){a.S(this.b.xh)};a.prototype.Fi=function(a){a.S(this.b.Fi)};a.prototype.ko=function(a,c,b,f,h){a.B(Ka(c,b,f,h))};a.prototype.g=function(a,c,b,f,h){a.B(Ca(Ha(c,b,f,h)))};a.prototype.find=function(a,c,b){K(c)&&K(b)?a.S(c.search(new RegExp(Ta(b),"i"))):a.S(-1)};a.prototype.left=function(a,c,b){a.tb(K(c)?c.substr(0,b):"")};a.prototype.right=function(a,c,b){a.tb(K(c)?
c.substr(c.length-b):"")};a.prototype.replace=function(a,c,b,f){K(c)&&K(b)&&K(f)?a.tb(c.replace(new RegExp(Ta(b),"gi"),f)):a.tb(K(c)?c:"")};a.prototype.trim=function(a,c){a.tb(K(c)?c.trim():"")};a.prototype.ao=function(a){var c=N(Math.random()*(arguments.length-1));a.Oq(arguments[c+1])};a.prototype.oi=function(a){a.B(this.b.oi/1E3)};a.prototype.qh=function(a){a.B(this.b.qh)};m.Bb=new a;m.Hq=function(){var a,c,b,k,m,p,l=this.b.Oa();a=0;for(b=this.wb.length;a<b;a++){k=this.wb[a];if(-1===k.time){if(!k.Am)continue}else if(k.time>
this.b.fe.La)continue;l.Ta=k.wf;l.Jb=k.Jb;l.la=0;for(c in k.ub)k.ub.hasOwnProperty(c)&&(m=this.b.j[parseInt(c,10)].J(),p=k.ub[c],m.O=p.qm,xa(m.d,p.Yd),m=p,m.Yd.length=0,f.push(m));k.wf.Gq();this.b.ni(k.V);k.Bk=!0}c=a=0;for(b=this.wb.length;a<b;a++)k=this.wb[a],this.wb[c]=k,k.Bk?(Na(k.ub),k.V.length=0,h.push(k)):c++;this.wb.length=c}})();
(function(){cb=function(l,a){var m=l[1],u=l[3],q=l[4],h=l[5],f=l[6],e=l[7],c=l[8];a.u||(a.u={});a.Ra||(a.Ra={});a.Bb||(a.Bb={});var b=a.u,k=a.Ra,t=a.Bb;u&&(b.qr=function(a,b){return Ob(this.x,a,b)},b.rr=function(a,b){return Ob(this.y,a,b)},b.Ar=function(){var a=this.e;this.Z();var b=this.ga;return!(b.right<a.ea||b.bottom<a.fa||b.left>a.ua||b.top>a.ta)},b.Br=function(){this.Z();var a=this.ga,b=this.b.U;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},b.Nr=function(a,b,c){var g=this.J(),
e=g.Eb();if(!e.length)return!1;var f=e[0],d=f,k=Ka(f.x,f.y,b,c),h,m,l;h=1;for(m=e.length;h<m;h++)if(f=e[h],l=Ka(f.x,f.y,b,c),0===a&&l<k||1===a&&l>k)k=l,d=f;g.bg(d);return!0},k.js=function(a){this.x!==a&&(this.x=a,this.oa())},k.ks=function(a){this.y!==a&&(this.y=a,this.oa())},k.bs=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.oa()},k.ds=function(a,b){var c=a.up(this);if(c){var e;c.Oi?(e=c.Oi(b,!0),c=c.Oi(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.oa()}},
k.Gr=function(a){0!==a&&(this.x+=Math.cos(this.g)*a,this.y+=Math.sin(this.g)*a,this.oa())},k.Fr=function(a,b){0!==b&&(this.x+=Math.cos(P(a))*b,this.y+=Math.sin(P(a))*b,this.oa())},t.On=function(a){a.B(this.x)},t.Pn=function(a){a.B(this.y)},t.Fe=function(a){a.B(this.b.Li(this))});q&&(b.pr=function(a,b){return Ob(this.width,a,b)},b.nr=function(a,b){return Ob(this.height,a,b)},k.Hn=function(a){this.width!==a&&(this.width=a,this.oa())},k.Zr=function(a){this.height!==a&&(this.height=a,this.oa())},k.es=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.oa()},t.os=function(a){a.B(this.width)},t.tr=function(a){a.B(this.height)},t.jr=function(a){this.Z();a.B(this.ga.left)},t.lr=function(a){this.Z();a.B(this.ga.top)},t.kr=function(a){this.Z();a.B(this.ga.right)},t.ir=function(a){this.Z();a.B(this.ga.bottom)});h&&(b.an=function(a,b){return Ia(this.g,P(b))<=P(a)},b.sn=function(a){return S(this.g,P(a))},b.rn=function(a,b){var c=Ga(a),e=Ga(b),f=Ea(this.g);return S(e,c)?S(f,
c)&&!S(f,e):!(!S(f,c)&&S(f,e))},k.Vr=function(a){a=P(Da(a));isNaN(a)||this.g===a||(this.g=a,this.oa())},k.Rr=function(a){0===a||isNaN(a)||(this.g+=P(a),this.g=Ea(this.g),this.oa())},k.Sr=function(a){0===a||isNaN(a)||(this.g-=P(a),this.g=Ea(this.g),this.oa())},k.Tr=function(a,b){var c=Ja(this.g,P(b),P(a));isNaN(c)||this.g===c||(this.g=c,this.oa())},k.Ur=function(a,b,c){a=Ja(this.g,Math.atan2(c-this.y,b-this.x),P(a));isNaN(a)||this.g===a||(this.g=a,this.oa())},k.gs=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.g===c||(this.g=c,this.oa())},t.hr=function(a){a.B(Fa(this.g))});m||(b.hn=function(a,b,c){return Ob(this.xa[a],b,c)},b.xr=function(a){return this.xa[a]},b.Or=function(a,b){var c=this.J(),e=c.Eb();if(!e.length)return!1;var f=e[0],k=f,d=f.xa[b],h,m,l;h=1;for(m=e.length;h<m;h++)if(f=e[h],l=f.xa[b],0===a&&l<d||1===a&&l>d)d=l,k=f;c.bg(k);return!0},b.Mr=function(a){var b,c,e,f,k;if(this.b.Ki().Yi){k=this.J();if(k.O)for(k.O=!1,k.d.length=0,k.L.length=0,e=this.d,b=0,c=e.length;b<
c;b++)f=e[b],f.uid===a?k.L.push(f):k.d.push(f);else{e=b=0;for(c=k.d.length;b<c;b++)f=k.d[b],k.d[e]=f,f.uid===a?k.L.push(f):e++;k.d.length=e}this.qc();return!!k.d.length}f=this.b.Tk(a);if(!f)return!1;k=this.J();if(!k.O&&-1===k.d.indexOf(f))return!1;if(this.H)for(a=f.type.X,b=0,c=a.length;b<c;b++){if(a[b]===this)return k.bg(f),this.qc(),!0}else if(f.type===this)return k.bg(f),this.qc(),!0;return!1},b.Yh=function(){return!0},b.An=function(){return!0},k.$r=function(a,b){var c=this.xa;ha(c[a])?c[a]=ha(b)?
b:parseFloat(b):K(c[a])&&(c[a]=K(b)?b:b.toString())},k.$m=function(a,b){var c=this.xa;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):K(c[a])&&(c[a]=K(b)?c[a]+b:c[a]+b.toString())},k.Kn=function(a,b){var c=this.xa;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},k.Wr=function(a,b){this.xa[a]=b?1:0},k.ls=function(a){this.xa[a]=1-this.xa[a]},k.kn=function(){this.b.we(this)},k.un||(k.un=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.oh(this,b,!0);this.cd&&this.cd();if(this.r)for(a=0,b=
this.r.length;a<b;++a)c=this.r[a],c.cd&&c.cd()}),t.sr=function(a){var b=a.Ve.d.length,c,e,f;c=0;for(e=this.b.Yb.length;c<e;c++)f=this.b.Yb[c],a.Ve.H?0<=f.type.X.indexOf(a.Ve)&&b++:f.type===a.Ve&&b++;a.S(b)},t.Qr=function(a){a.S(a.Ve.J().Eb().length)},t.ns=function(a){a.S(this.uid)},t.ur=function(a){a.S(this.Df())},t.bn||(t.bn=function(a){a.tb(JSON.stringify(this.b.Jj(this,!0)))}));f&&(b.Cr=function(){return this.visible},k.hs=function(a){!a!==!this.visible&&(this.visible=a,this.b.Q=!0)},b.or=function(a,
b){return Ob(Za(100*this.opacity),a,b)},k.as=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Q=!0)},t.Opacity=function(a){a.B(Za(100*this.opacity))});e&&(b.yr=function(a){return a?this.e===a:!1},b.Pr=function(a){var b=this.J(),c=b.Eb();if(!c.length)return!1;var e=c[0],f=e,k,d;k=1;for(d=c.length;k<d;k++)if(e=c[k],0===a){if(e.e.index>f.e.index||e.e.index===f.e.index&&e.sc()>f.sc())f=e}else if(e.e.index<f.e.index||e.e.index===f.e.index&&e.sc()<f.sc())f=e;b.bg(f);return!0},
k.Jr=function(){var a=this.e,b=a.d;b.length&&b[b.length-1]===this||(a.$e(this,!1),a.of(this,!1),this.b.Q=!0)},k.Hr=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.$e(this,!1),a.zq(this),this.b.Q=!0)},k.Ir=function(a){a&&a!=this.e&&(this.e.$e(this,!0),this.e=a,a.of(this,!0),this.b.Q=!0)},k.rs=function(a,b){var c=0===a;if(b){var e=b.np(this);e&&e.uid!==this.uid&&(this.e.index!==e.e.index&&(this.e.$e(this,!0),this.e=e.e,e.e.of(this,!0)),this.e.jq(this,e,c),this.b.Q=!0)}},t.Er=function(a){a.S(this.e.Ul)},
t.Dr=function(a){a.tb(this.e.name)},t.qs=function(a){a.S(this.sc())});c&&(k.Xr=function(a,b){if(this.b.m){var c=this.type.Ni(b);if(!(0>c)){var e=1===a;this.bd[c]!==e&&(this.bd[c]=e,this.Yc(),this.b.Q=!0)}}},k.Yr=function(a,b,c){if(this.b.m){var e=this.type.Ni(a);0>e||(a=this.type.p[e],e=this.ba[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.m.xp(a.Ka,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.zb&&(this.b.Q=!0))))}})};vb=function(){this.hi=this.ei=!0;this.type.tg=!0;this.b.Q=!0;var l,a,m=this.fi;l=0;for(a=
m.length;l<a;++l)m[l](this);this.e.lc&&this.Z()};wb=function(l){l&&this.fi.push(l)};yb=function(){if(this.ei){var l=this.ga,a=this.Sa;l.set(this.x,this.y,this.x+this.width,this.y+this.height);l.offset(-this.nb*this.width,-this.ob*this.height);this.g?(l.offset(-this.x,-this.y),a.xm(l,this.g),a.offset(this.x,this.y),a.mk(l)):a.se(l);l.normalize();this.ei=!1;this.br()}};var l=new O(0,0,0,0);zb=function(){if(this.e.lc){var r=this.e.sb,a=this.ga;l.set(r.xb(a.left),r.yb(a.top),r.xb(a.right),r.yb(a.bottom));
this.eb.Ng(l)||(this.eb.right<this.eb.left?r.update(this,null,l):r.update(this,this.eb,l),this.eb.Eg(l),this.e.Vc=!0)}};Ab=function(){if(this.hi&&this.jd){this.Z();var r=this.type.Dg,a=this.ga;l.set(r.xb(a.left),r.yb(a.top),r.xb(a.right),r.yb(a.bottom));this.hd.Ng(l)||(this.hd.right<this.hd.left?r.update(this,null,l):r.update(this,this.hd,l),this.hd.Eg(l),this.hi=!1)}};xb=function(l,a){return this.ga.lb(l,a)&&this.Sa.lb(l,a)?this.I&&!this.I.ee()?(this.I.Qd(this.width,this.height,this.g),this.I.lb(l-
this.x,a-this.y)):!0:!1};rb=function(){this.type.Vh();return this.Wd};Bb=function(){this.e.Zj();return this.mc};Cb=function(){this.K.length=0;var l,a;l=0;for(a=this.bd.length;l<a;l++)this.bd[l]&&this.K.push(this.type.p[l]);this.Xm=!!this.K.length};sb=function(){return"Inst"+this.lm};fb=function(l){if(l&&l.pb&&l.type!=this){var a,m,u;a=0;for(m=l.siblings.length;a<m;a++)if(u=l.siblings[a],u.type==this)return u}l=this.J().Eb();return l.length?l[0]:null};gb=function(l){var a=this.J().Eb();return a.length?
a[l.Df()%a.length]:null};eb=function(){if(this.ff&&!this.H){var l,a;l=0;for(a=this.d.length;l<a;l++)this.d[l].Wd=l;var m=l,u=this.b.Yb;l=0;for(a=u.length;l<a;++l)u[l].type===this&&(u[l].Wd=m++);this.ff=!1}};pb=function(l){if(l<this.d.length)return this.d[l];l-=this.d.length;var a=this.b.Yb,m,u;m=0;for(u=a.length;m<u;++m)if(a[m].type===this){if(0===l)return a[m];--l}return null};hb=function(){return this.Id[this.Jc]};ib=function(){this.Jc++;this.Jc===this.Id.length?this.Id.push(new db(this)):this.Id[this.Jc].O=
!0};jb=function(){this.Jc++;this.Jc===this.Id.length&&this.Id.push(new db(this));var l=this.Id[this.Jc],a=this.Id[this.Jc-1];a.O?l.O=!0:(l.O=!1,xa(l.d,a.d),xa(l.L,a.L))};kb=function(){this.Jc--};lb=function(l){var a,m,u,q,h,f=0;if(!this.H)for(a=0,m=this.X.length;a<m;a++)for(h=this.X[a],u=0,q=h.ja.length;u<q;u++){if(l===h.ja[u].name)return this.G.lastBehIndex=f,h.ja[u];f++}a=0;for(m=this.ja.length;a<m;a++){if(l===this.ja[a].name)return this.G.lastBehIndex=f,this.ja[a];f++}return null};mb=function(l){return this.Ug(l)?
this.G.lastBehIndex:-1};nb=function(l){var a,m;a=0;for(m=this.p.length;a<m;a++)if(this.p[a].name===l)return a;return-1};ob=function(){if(this.pb&&!this.H){var l,a,m,u,q,h,f;this.Vh();h=this.J();var e=h.O,c=(l=this.b.Oa())&&l.Ta&&l.Ta.fc;l=0;for(a=this.kb.length;l<a;l++)if(q=this.kb[l],q!==this&&(q.Vh(),f=q.J(),f.O=e,!e)){f.d.length=h.d.length;m=0;for(u=h.d.length;m<u;m++)f.d[m]=q.Qk(h.d[m].Wd);if(c)for(f.L.length=h.L.length,m=0,u=h.L.length;m<u;m++)f.L[m]=q.Qk(h.L[m].Wd)}}};qb=function(){return"Type"+
this.C};Ob=function(l,a,m){if("undefined"===typeof l||"undefined"===typeof m)return!1;switch(a){case 0:return l===m;case 1:return l!==m;case 2:return l<m;case 3:return l<=m;case 4:return l>m;case 5:return l>=m;default:return!1}}})();var Xb={};function Z(l){this.b=l}
(function(){function l(){if(0===this.ri.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.ef?b.drawImage(this.gb,this.We,this.Xe,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.gb,0,0,this.width,this.height);this.ri=a.toDataURL("image/png")}return this.ri}function r(){}function a(a){a[0]=0;a[1]=0;a[2]=0;k.push(a)}function m(a,b){return a<b?""+a+","+b:""+b+","+a}function u(a,b,c,d){b=b.uid;c=c.uid;var e=m(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var f=k.length?k.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=d;a[e]=f}}function q(b,c,e){c=m(c.uid,e.uid);b.hasOwnProperty(c)&&(a(b[c]),delete b[c])}function h(a,b,c){b=m(b.uid,c.uid);if(a.hasOwnProperty(b))return t=a[b][2],!0;t=-2;return!1}var f=Z.prototype;f.Md=function(a){this.Aa=a;this.b=a.b};var e=f.Md.prototype;e.Pa=function(){if(!this.H){var a,b,c,d,e,f,k,h,m;this.Wb=[];this.Ff=!1;a=0;for(b=this.jb.length;a<b;a++){e=this.jb[a];k={};k.name=e[0];k.speed=e[1];k.loop=e[2];k.Dj=e[3];k.Gh=e[4];k.em=
e[5];k.C=e[6];k.frames=[];c=0;for(d=e[7].length;c<d;c++)f=e[7][c],h={},h.Hm=f[0],h.Im=f[1],h.We=f[2],h.Xe=f[3],h.width=f[4],h.height=f[5],h.duration=f[6],h.nb=f[7],h.ob=f[8],h.Si=f[9],h.zh=f[10],h.fm=f[11],h.ef=0!==h.width,h.ri="",h.vs=l,m={left:0,top:0,right:1,bottom:1},h.Lj=m,h.Zc=null,(m=this.b.ep(f[0]))?h.gb=m:(h.gb=new Image,h.gb.fo=f[0],h.gb.eo=f[1],h.gb.Yn=null,this.b.gr(h.gb,f[0])),k.frames.push(h),this.Wb.push(h);this.jb[a]=k}}};e.Um=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=
this.d[a],c.Hg=c.Lb.Zc};e.sj=function(){if(!this.H){var a,b,c;a=0;for(b=this.Wb.length;a<b;++a)c=this.Wb[a],c.gb.Yn=null,c.Zc=null;this.Ff=!1;this.Um()}};e.$l=function(){if(!this.H&&this.d.length){var a,b,c;a=0;for(b=this.Wb.length;a<b;++a)c=this.Wb[a],c.Zc=this.b.m.wl(c.gb,this.b.M,c.fm);this.Um()}};e.fq=function(){if(!this.H&&!this.Ff&&this.b.m){var a,b,c;a=0;for(b=this.Wb.length;a<b;++a)c=this.Wb[a],c.Zc=this.b.m.wl(c.gb,this.b.M,c.fm);this.Ff=!0}};e.Rm=function(){if(!this.H&&!this.d.length&&this.Ff){var a,
b,c;a=0;for(b=this.Wb.length;a<b;++a)c=this.Wb[a],this.b.m.deleteTexture(c.Zc),c.Zc=null;this.Ff=!1}};var c=[];e.hm=function(a){var b,e,d;b=c.length=0;for(e=this.Wb.length;b<e;++b)d=this.Wb[b].gb,-1===c.indexOf(d)&&(a.drawImage(d,0,0),c.push(d))};f.nc=function(a){this.type=a;this.b=a.b;a=this.type.jb[0].frames[0].zh;this.Hb?this.I.kg(a):this.I=new Ua(a)};var b=f.nc.prototype;b.Pa=function(){this.visible=0===this.W[0];this.jd=0!==this.W[3];1===this.type.jb.length&&1===this.type.jb[0].frames.length||
0===this.type.jb[0].speed||this.b.Jm(this);this.aa=this.Nk(this.W[1])||this.type.jb[0];this.k=this.W[2];0>this.k&&(this.k=0);this.k>=this.aa.frames.length&&(this.k=this.aa.frames.length-1);var a=this.aa.frames[this.k];this.I.kg(a.zh);this.nb=a.nb;this.ob=a.ob;this.uf=this.aa.speed;this.Hb?this.pc.reset():this.pc=new Sa;this.Oc=this.pc.La;this.Od=!0;this.Fc=0;this.Nd=!0;this.li=this.ik="";this.Zn=0;this.ki=-1;this.type.fq();var b,c,d,e,f,k,h,a=0;for(b=this.type.jb.length;a<b;a++)for(e=this.type.jb[a],
c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.gb.width,f.height=f.gb.height),f.ef&&(h=f.gb,k=f.Lj,k.left=f.We/h.width,k.top=f.Xe/h.height,k.right=(f.We+f.width)/h.width,k.bottom=(f.Xe+f.height)/h.height,0===f.We&&0===f.Xe&&f.width===h.width&&f.height===h.height&&(f.ef=!1));this.Lb=this.aa.frames[this.k];this.Hg=this.Lb.Zc};b.Rb=function(){var a={a:this.aa.C,f:this.k,cas:this.uf,fs:this.Oc,ar:this.Fc,at:this.pc.La};this.Od||(a.ap=this.Od);this.Nd||(a.af=this.Nd);return a};b.uc=
function(a){var b=this.jp(a.a);b&&(this.aa=b);this.k=a.f;0>this.k&&(this.k=0);this.k>=this.aa.frames.length&&(this.k=this.aa.frames.length-1);this.uf=a.cas;this.Oc=a.fs;this.Fc=a.ar;this.pc.reset();this.pc.La=a.at;this.Od=a.hasOwnProperty("ap")?a.ap:!0;this.Nd=a.hasOwnProperty("af")?a.af:!0;this.Lb=this.aa.frames[this.k];this.Hg=this.Lb.Zc;this.I.kg(this.Lb.zh);this.nb=this.Lb.nb;this.ob=this.Lb.ob};b.di=function(a){this.k=a?0:this.aa.frames.length-1;this.Od=!1;this.ik=this.aa.name;this.b.trigger(Z.prototype.u.wn,
this);this.b.trigger(Z.prototype.u.vn,this);this.Fc=0};b.ws=function(){return this.pc.La};b.Jd=function(){this.pc.add(this.b.Li(this));this.li.length&&this.lo();0<=this.ki&&this.mo();var a=this.pc.La,b=this.aa,c=b.frames[this.k],d=c.duration/this.uf;this.Od&&a>=this.Oc+d&&(this.Nd?this.k++:this.k--,this.Oc+=d,this.k>=b.frames.length&&(b.em?(this.Nd=!1,this.k=b.frames.length-2):b.loop?this.k=b.Gh:(this.Fc++,this.Fc>=b.Dj?this.di(!1):this.k=b.Gh)),0>this.k&&(b.em?(this.k=1,this.Nd=!0,b.loop||(this.Fc++,
this.Fc>=b.Dj&&this.di(!0))):b.loop?this.k=b.Gh:(this.Fc++,this.Fc>=b.Dj?this.di(!0):this.k=b.Gh)),0>this.k?this.k=0:this.k>=b.frames.length&&(this.k=b.frames.length-1),a>this.Oc+b.frames[this.k].duration/this.uf&&(this.Oc=a),a=b.frames[this.k],this.ze(c,a),this.b.Q=!0)};b.Nk=function(a){var b,c,d;b=0;for(c=this.type.jb.length;b<c;b++)if(d=this.type.jb[b],$a(d.name,a))return d;return null};b.jp=function(a){var b,c,d;b=0;for(c=this.type.jb.length;b<c;b++)if(d=this.type.jb[b],d.C===a)return d;return null};
b.lo=function(){var a=this.aa.frames[this.k],b=this.Nk(this.li);this.li="";!b||$a(b.name,this.aa.name)&&this.Od||(this.aa=b,this.uf=b.speed,0>this.k&&(this.k=0),this.k>=this.aa.frames.length&&(this.k=this.aa.frames.length-1),1===this.Zn&&(this.k=0),this.Od=!0,this.Oc=this.pc.La,this.Nd=!0,this.ze(a,this.aa.frames[this.k]),this.b.Q=!0)};b.mo=function(){var a=this.aa.frames[this.k],b=this.k;this.k=N(this.ki);0>this.k&&(this.k=0);this.k>=this.aa.frames.length&&(this.k=this.aa.frames.length-1);b!==this.k&&
(this.ze(a,this.aa.frames[this.k]),this.Oc=this.pc.La,this.b.Q=!0);this.ki=-1};b.ze=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.nb=b.nb;this.ob=b.ob;this.I.kg(b.zh);this.oa();this.Lb=b;this.Hg=b.Zc;c=0;for(d=this.r.length;c<d;c++)e=this.r[c],e.oq&&e.oq(a,b);this.b.trigger(Z.prototype.u.ze,this)};b.Kc=function(a){a.globalAlpha=this.opacity;var b=this.Lb,c=b.ef,d=b.gb,e=this.x,f=this.y,k=this.width,h=this.height;if(0===this.g&&0<=
k&&0<=h)e-=this.nb*k,f-=this.ob*h,this.b.Bd&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.We,b.Xe,b.width,b.height,e,f,k,h):a.drawImage(d,e,f,k,h);else{this.b.Bd&&(e=Math.round(e),f=Math.round(f));a.save();var l=0<k?1:-1,m=0<h?1:-1;a.translate(e,f);1===l&&1===m||a.scale(l,m);a.rotate(this.g*l*m);e=0-this.nb*la(k);f=0-this.ob*la(h);c?a.drawImage(d,b.We,b.Xe,b.width,b.height,e,f,la(k),la(h)):a.drawImage(d,e,f,la(k),la(h));a.restore()}};b.Zb=function(a){a.Ib(this.Hg);a.bf(this.opacity);var b=
this.Lb,c=this.Sa;if(this.b.Bd){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.ef?a.Dd(c.pa+d,c.qa+e,c.hb+d,c.ib+e,c.Ya+d,c.Za+e,c.Wa+d,c.Xa+e,b.Lj):a.Dh(c.pa+d,c.qa+e,c.hb+d,c.ib+e,c.Ya+d,c.Za+e,c.Wa+d,c.Xa+e)}else b.ef?a.Dd(c.pa,c.qa,c.hb,c.ib,c.Ya,c.Za,c.Wa,c.Xa,b.Lj):a.Dh(c.pa,c.qa,c.hb,c.ib,c.Ya,c.Za,c.Wa,c.Xa)};b.pp=function(a){var b=this.Lb,c,d;c=0;for(d=b.Si.length;c<d;c++)if($a(a,b.Si[c][0]))return c;return-1};b.Oi=function(a,b){var c=this.Lb,d=c.Si,e;e=K(a)?this.pp(a):a-1;
e=N(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.nb)*this.width,d=d[e][2],d=(d-c.ob)*this.height,c=Math.cos(this.g);e=Math.sin(this.g);var k=f*c-d*e,d=d*c+f*e,f=k+this.x,d=d+this.y;return b?f:d};var k=[],t=-2,p=[];r.prototype.zn=function(b){if(!b)return!1;var c=this.b,e=c.Ki(),d=e.type;e.G.collmemory||(e.G.collmemory={},c.Qn(function(b){return function(c){c=c.uid;var d,e;for(d in b)b.hasOwnProperty(d)&&(e=b[d],e[0]===c||e[1]===c)&&(a(b[d]),delete b[d])}}(e.G.collmemory)));var e=
e.G.collmemory,f=d.J(),k=b.J(),f=f.Eb(),l,m,r,v,x,Q,V,J=this.b.Cc,F=J-1,ja=c.Oa().Ta;for(m=0;m<f.length;m++){r=f[m];k.O?(r.Z(),this.b.Ji(r.e,b,r.ga,p),l=p):l=k.Eb();for(v=0;v<l.length;v++)x=l[v],c.Tq(r,x)||c.$n(r,x)?(Q=h(e,r,x),Q=!Q||t<F,u(e,r,x,J),Q&&(c.gg(ja.V),Q=d.J(),V=b.J(),Q.O=!1,V.O=!1,d===b?(Q.d.length=2,Q.d[0]=r,Q.d[1]=x,d.qc()):(Q.d.length=1,V.d.length=1,Q.d[0]=r,V.d[0]=x,d.qc(),b.qc()),ja.Ej(),c.Cd(ja.V))):q(e,r,x);p.length=0}return!1};var v=new D,x=!1;e.finish=function(a){if(x){if(a){var b=
this.b.Oa().Ta.fc;a=null.J();var c=v.Ld(),d,e;if(a.O){a.O=!1;a.d.length=c.length;d=0;for(e=c.length;d<e;d++)a.d[d]=c[d];if(b)for(d=a.L.length=0,e=null.d.length;d<e;d++)c=null.d[d],v.contains(c)||a.L.push(c)}else if(b)for(b=a.d.length,a.d.length=b+c.length,d=0,e=c.length;d<e;d++)a.d[b+d]=c[d],Ba(a.L,c[d]);else xa(a.d,c);null.qc()}v.clear();x=!1}};r.prototype.vn=function(a){return $a(this.ik,a)};r.prototype.wn=function(){return!0};r.prototype.ze=function(){return!0};f.u=new r;f.Ra=new function(){};
f.Bb=new function(){}})();function Zb(l){this.b=l}
(function(){function l(){return f.length?f.pop():{}}function r(a){var c,b;c=0;for(b=a.length;c<b;c++)f.push(a[c]);a.length=0}function a(){}function m(){}var u=Zb.prototype;u.Pa=function(){u.Ra.Hn=function(a){this.width!==a&&(this.width=a,this.ue=!0,this.oa())}};u.Md=function(a){this.Aa=a;this.b=a.b};var q=u.Md.prototype;q.Pa=function(){};q.sj=function(){if(!this.H){var a,c,b;a=0;for(c=this.d.length;a<c;a++)b=this.d[a],b.wc=null,b.ne=null,b.rb=null}};u.nc=function(a){this.type=a;this.b=a.b;this.Hb?
this.wd.length=0:this.wd=[];this.ue=!0};q=u.nc.prototype;q.Pa=function(){this.text=this.W[0];this.visible=0===this.W[1];this.font=this.W[2];this.color=this.W[3];this.Yg=this.W[4];this.Wh=this.W[5];this.dk=0===this.W[7];this.gj=this.kh=this.width;this.jh=this.height;this.ij=this.W[8];this.Sg=this.Ge="";this.Fm=this.Gm=this.eg=0;this.pq();this.rb=this.ne=this.wc=null;this.Sl=!1;this.Pf=this.b.Cc;this.Hb?this.Ze.set(0,0,1,1):this.Ze=new O(0,0,1,1);this.b.m&&this.b.Jm(this)};q.pq=function(){var a=this.font.split(" "),
c;for(c=0;c<a.length;c++)if("pt"===a[c].substr(a[c].length-2,2)){this.eg=parseInt(a[c].substr(0,a[c].length-2));this.yj=Math.ceil(this.eg/72*96)+4;0<c&&(this.Sg=a[c-1]);this.Ge=a[c+1];for(c+=2;c<a.length;c++)this.Ge+=" "+a[c];break}};q.Rb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Yg,va:this.Wh,wr:this.dk,lho:this.ij,fn:this.Ge,fs:this.Sg,ps:this.eg,pxh:this.yj,tw:this.Gm,th:this.Fm,lrt:this.Pf}};q.uc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Yg=a.ha;this.Wh=
a.va;this.dk=a.wr;this.ij=a.lho;this.Ge=a.fn;this.Sg=a.fs;this.eg=a.ps;this.yj=a.pxh;this.Gm=a.tw;this.Fm=a.th;this.Pf=a.lrt;this.ue=!0;this.gj=this.kh=this.width;this.jh=this.height};q.Jd=function(){if(this.b.m&&this.rb&&300<=this.b.Cc-this.Pf){var a=this.e;this.Z();var c=this.ga;if(c.right<a.ea||c.bottom<a.fa||c.left>a.ua||c.top>a.ta)this.b.m.deleteTexture(this.rb),this.wc=this.ne=this.rb=null}};q.ag=function(){this.wc=this.ne=null;this.b.m&&this.rb&&this.b.m.deleteTexture(this.rb);this.rb=null};
q.Gs=function(){this.font=this.Sg+" "+this.eg.toString()+"pt "+this.Ge;this.ue=!0;this.b.Q=!0};q.Kc=function(a,c){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=c?1:this.opacity;var b=1;c&&(b=this.e.Fb(),a.save(),a.scale(b,b));if(this.ue||this.width!==this.gj)this.type.Aa.Mn(this.text,this.wd,a,this.width,this.dk),this.ue=!1,this.gj=this.width;this.Z();var b=c?0:this.Sa.pa,f=c?0:this.Sa.qa;this.b.Bd&&(b=b+.5|0,f=f+.5|0);0===this.g||c||(a.save(),a.translate(b,f),a.rotate(this.g),
f=b=0);var h=f+this.height,l=this.yj,l=l+this.ij,m,q;1===this.Wh?f+=Math.max(this.height/2-this.wd.length*l/2,0):2===this.Wh&&(f+=Math.max(this.height-this.wd.length*l-2,0));for(q=0;q<this.wd.length&&!(m=b,1===this.Yg?m=b+(this.width-this.wd[q].width)/2:2===this.Yg&&(m=b+(this.width-this.wd[q].width)),a.fillText(this.wd[q].text,m,f),f+=l,f>=h-l);q++);(0!==this.g||c)&&a.restore();this.Pf=this.b.Cc};q.Zb=function(a){if(!(1>this.width||1>this.height)){var c=this.ue||this.Sl;this.Sl=!1;var b=this.e.Fb(),
f=this.e.Db(),h=this.Ze,l=b*this.width,m=b*this.height,q=Math.ceil(l),g=Math.ceil(m),n=this.b.F/2,r=this.b.D/2;this.ne||(this.wc=document.createElement("canvas"),this.wc.width=q,this.wc.height=g,this.kh=q,this.jh=g,c=!0,this.ne=this.wc.getContext("2d"));if(q!==this.kh||g!==this.jh)this.wc.width=q,this.wc.height=g,this.rb&&(a.deleteTexture(this.rb),this.rb=null),c=!0;c&&(this.ne.clearRect(0,0,q,g),this.Kc(this.ne,!0),this.rb||(this.rb=a.Hc(q,g,this.b.M,this.b.sd)),a.er(this.wc,this.rb,this.b.sd));
this.kh=q;this.jh=g;a.Ib(this.rb);a.bf(this.opacity);a.yc();a.translate(-n,-r);a.Dc();var d=this.Sa,c=this.e.Y(d.pa,d.qa,!0,!0),n=this.e.Y(d.pa,d.qa,!1,!0),r=this.e.Y(d.hb,d.ib,!0,!0),s=this.e.Y(d.hb,d.ib,!1,!0),u=this.e.Y(d.Ya,d.Za,!0,!0),T=this.e.Y(d.Ya,d.Za,!1,!0),R=this.e.Y(d.Wa,d.Xa,!0,!0),d=this.e.Y(d.Wa,d.Xa,!1,!0);if(this.b.Bd||0===this.g&&0===f)var Y=(c+.5|0)-c,fa=(n+.5|0)-n,c=c+Y,n=n+fa,r=r+Y,s=s+fa,u=u+Y,T=T+fa,R=R+Y,d=d+fa;0===this.g&&0===f?(r=c+q,s=n,u=r,T=n+g,R=c,d=T,h.right=1,h.bottom=
1):(h.right=l/q,h.bottom=m/g);a.Dd(c,n,r,s,u,T,R,d,h);a.yc();a.scale(b,b);a.Gj(-this.e.Db());a.translate((this.e.ea+this.e.ua)/-2,(this.e.fa+this.e.ta)/-2);a.Dc();this.Pf=this.b.Cc}};var h=[];u.Ln=function(a){h.length=0;for(var c="",b,f=0;f<a.length;)if(b=a.charAt(f),"\n"===b)c.length&&(h.push(c),c=""),h.push("\n"),++f;else if(" "===b||"\t"===b||"-"===b){do c+=a.charAt(f),f++;while(f<a.length&&(" "===a.charAt(f)||"\t"===a.charAt(f)));h.push(c);c=""}else f<a.length&&(c+=b,f++);c.length&&h.push(c)};
var f=[];u.Mn=function(a,c,b,f,h){if(a&&a.length)if(2>=f)r(c);else{if(100>=a.length&&-1===a.indexOf("\n")){var m=b.measureText(a).width;if(m<=f){r(c);c.push(l());c[0].text=a;c[0].width=m;return}}this.Nn(a,c,b,f,h)}else r(c)};u.Nn=function(a,c,b,k,m){m&&(this.Ln(a),a=h);var p="",q,r,g,n=0;for(g=0;g<a.length;g++)"\n"===a[g]?(n>=c.length&&c.push(l()),r=c[n],r.text=p,r.width=b.measureText(p).width,n++,p=""):(q=p,p+=a[g],r=b.measureText(p).width,r>=k&&(n>=c.length&&c.push(l()),r=c[n],r.text=q,r.width=
b.measureText(q).width,n++,p=a[g],m||" "!==p||(p="")));p.length&&(n>=c.length&&c.push(l()),r=c[n],r.text=p,r.width=b.measureText(p).width,n++);for(g=n;g<c.length;g++)f.push(c[g]);c.length=n};u.u=new function(){};a.prototype.Fn=function(a){ha(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.ue=!0,this.b.Q=!0)};u.Ra=new a;m.prototype.Text=function(a){a.tb(this.text)};u.Bb=new m})();function $b(l){this.b=l}
(function(){function l(){}function r(){}var a=$b.prototype;a.Md=function(a){this.behavior=a;this.b=a.b};a.Md.prototype.Pa=function(){this.$f=[];this.kd=[]};var m={};a.nc=function(a,e){this.type=a;this.behavior=a.behavior;this.Ia=e;this.b=a.b};var u=a.nc.prototype;u.Pa=function(){this.ka=this.W[0];3>this.ka&&(this.ka=3);this.Xb=this.W[1];this.kq=this.W[2];this.vc=this.W[3];this.ai=this.W[4];this.si=this.W[5];this.vg=P(this.W[6]);this.Hh=0!==this.W[7];this.Mg=0!==this.W[8];this.enabled=0!==this.W[9];
this.Je=this.Af=this.Xf=this.Rc=!1;this.ab=0;this.gh=this.oc=this.Ia.g;this.Ye=this.jc=this.ic=this.da=0;this.me=Math.ceil(this.b.U.width/this.ka);this.Ue=Math.ceil(this.b.U.height/this.ka);this.ca=[];this.Ee=!1;this.Lg=this.Kg=0;this.If=this.bh=!1;this.rk=this.qk=0;this.Kk=!0;var a=this;this.Hb||(this.rq=function(){a.bh||(a.If=!1,a.co(),a.Je=0<a.ca.length,a.ab=0,a.b.trigger($b.prototype.u.fk,a.Ia),a.wi())},this.qq=function(){a.bh||(a.If=!1,a.uk(),a.Je=!1,a.Rc=!1,a.ab=0,a.b.trigger($b.prototype.u.Bn,
a.Ia),a.wi())})};u.ag=function(){this.bh=!0;this.Ee=!1};u.Rb=function(){var a={cs:this.ka,cb:this.Xb,ms:this.vc,acc:this.ai,dec:this.si,av:this.vg,re:this.Hh,de:this.Mg,im:this.Rc,mfs:this.Xf,ftmwm:this.Af,hp:this.Je,mn:this.ab,a:this.oc,lka:this.gh,s:this.da,rx:this.ic,ry:this.jc,ra:this.Ye,myhc:this.me,myvc:this.Ue,path:this.ca,en:this.enabled,fr:this.Kk,obs:[],costs:[]};this.If?(a.dfp=!0,a.dpx=this.qk,a.dpy=this.rk):(a.dfp=this.Ee,a.dpx=this.Kg,a.dpy=this.Lg);var e,c;e=0;for(c=this.type.$f.length;e<
c;e++)a.obs.push(this.type.$f[e].C);e=0;for(c=this.type.kd.length;e<c;e++)a.costs.push({sid:this.type.kd[e].Vl.C,cost:this.type.kd[e].xk});return a};u.uc=function(a){this.ka=a.cs;this.Xb=a.cb;this.vc=a.ms;this.ai=a.acc;this.si=a.dec;this.vg=a.av;this.Hh=a.re;this.Mg=a.de;this.Rc=a.im;this.Xf=a.mfs;this.Af=a.ftmwm;this.Je=a.hp;this.ab=a.mn;this.oc=a.a;this.gh=a.lka;this.da=a.s;this.ic=a.rx;this.jc=a.ry;this.Ye=a.ra;this.me=a.myhc;this.Ue=a.myvc;this.ca=a.path;this.enabled=a.en;this.Kk=a.fr;this.Ee=
a.dfp;this.Kg=a.dpx;this.Lg=a.dpy;this.type.$f.length=0;var e=a.obs,c,b,k;c=0;for(b=e.length;c<b;c++)(k=this.b.Ie(e[c]))&&this.type.$f.push(k);this.type.kd.length=0;a=a.costs;c=0;for(b=a.length;c<b;c++)(k=this.b.Ie(a[c].sid))&&this.type.kd.push({Vl:k,xk:a[c].cost});this.pd().zd.setDiagonals(this.Mg)};u.cd=function(){this.pd().hg=!0};u.Jd=function(){if(this.enabled&&this.Rc){this.Hh&&this.Ia.g!==this.gh&&(this.oc=this.Ia.g);var a=this.b.Li(this.Ia),e,c,b,k,h,l=this.Ia,m=Math.min(.4*this.vc,2*Math.abs(this.Ia.width)),
q=Math.max(1.5*this.da,30);this.ab<this.ca.length?(k=this.ca[this.ab].x,h=this.ca[this.ab].y,b=Ka(this.ic,this.jc,k,h),b<3*q*a&&(this.ab++,this.ic=k,this.jc=h,this.ab<this.ca.length&&(k=this.ca[this.ab].x,h=this.ca[this.ab].y))):(k=this.ca[this.ca.length-1].x,h=this.ca[this.ca.length-1].y);this.Ye=Ha(this.ic,this.jc,k,h);b=Ka(l.x,l.y,this.ic,this.jc);b<m&&this.ab<this.ca.length&&(this.Af?this.Af=!1:m=q*a,this.ic+=Math.cos(this.Ye)*m,this.jc+=Math.sin(this.Ye)*m);e=Ha(l.x,l.y,this.ic,this.jc);c=Ia(this.oc,
e);m=Ka(l.x,l.y,this.ca[this.ca.length-1].x,this.ca[this.ca.length-1].y);q=this.vc*this.vc/(2*this.si);1<b&&(this.oc=Ja(this.oc,e,this.vg*a),.5>=Ca(c)?c=this.vc:120<=Ca(c)||this.Xf&&0===this.ab?(c=0,this.Xf=!0):(e=c/this.vg,b=Ka(l.x,l.y,this.ic,this.jc),b/=2*Math.sin(c),c=b*c/e,0>c&&(c=0),c>this.vc&&(c=this.vc)),m<q&&(c=Math.min(c,m/q*this.vc+this.vc/40)),this.da+=this.ai*a,this.da>c&&(this.da=c));l.x+=Math.cos(this.oc)*this.da*a;l.y+=Math.sin(this.oc)*this.da*a;this.Hh&&(this.gh=l.g=this.oc);l.oa();
this.ab===this.ca.length&&Ka(l.x,l.y,k,h)<Math.max(3*this.da*a,10)&&(this.Je=this.Rc=!1,this.da=this.ab=0,this.b.trigger($b.prototype.u.xn,l))}};u.Sj=function(){this.enabled&&(this.ip(),this.wi())};u.wi=function(){this.Ee&&!this.bh&&(this.Ee=!1,this.Dk(this.Ia.x,this.Ia.y,this.Kg,this.Lg))};u.pd=function(){var a=""+this.ka+","+this.Xb;m.hasOwnProperty(a)||(m[a]={zd:new window.Pathfinder,cells:null,hg:!1,pe:[]});return m[a]};u.ip=function(){var a=this.pd();if(!a.zd.isReady()||a.hg||a.pe.length){var e,
c,b,h,l,m,q,r,g,n;if(!a.zd.isReady()||a.hg){e=[];h=e.length=this.me;l=this.Ue;for(c=0;c<h;++c)for(e[c]=[],e[c].length=l,b=0;b<l;++b)e[c][b]=this.mm(c,b);a.cells=e;a.zd.init(this.me,this.Ue,e,this.Mg);a.hg=!1;a.pe.length=0}else if(a.pe.length){m=0;for(q=a.pe.length;m<q;++m){e=a.pe[m];r=e[0];g=e[1];h=e[2];c=e[3];e=[];h-=r;l=c-g;e.length=h;for(c=0;c<h;++c)for(e[c]=[],e[c].length=l,b=0;b<l;++b)n=this.mm(r+c,g+b),e[c][b]=n,a.cells[r+c][g+b]=n;a.zd.updateRegion(r,g,h,l,e)}a.pe.length=0}}};u.uk=function(){var a,
e;a=0;for(e=this.ca.length;a<e;a++)window.freeResultNode(this.ca[a]);this.ca.length=0};u.co=function(){var a=this.pd().zd.pathList;this.uk();var e,c,b,h;e=0;for(c=a.length;e<c;e++)b=a[e],h=window.allocResultNode(),h.x=(b.x+.5)*this.ka,h.y=(b.y+.5)*this.ka,this.ca.push(h)};var q=[],h=new O;u.mm=function(a,e){var c,b,k,l,m,r=0;h.left=a*this.ka-this.Xb;h.top=e*this.ka-this.Xb;h.right=(a+1)*this.ka+this.Xb;h.bottom=(e+1)*this.ka+this.Xb;if(0===this.kq){if(this.b.Uq(h))return window.PF_OBSTACLE}else{this.b.Vk(this.Ia.e,
this.type.$f,h,q);c=0;for(b=q.length;c<b;++c)if(this.b.Qj(h,q[c]))return q.length=0,window.PF_OBSTACLE;q.length=0}c=0;for(b=this.type.kd.length;c<b;c++){k=this.type.kd[c].Vl;m=this.type.kd[c].xk;this.b.Ji(this.Ia.e,k,h,q);k=0;for(l=q.length;k<l;++k)this.b.Qj(h,q[k])&&(r+=m);q.length=0}return r};u.Dk=function(a,e,c,b){var h=this.pd().zd;if(h.isReady()){this.If=!0;this.qk=c;this.rk=b;a=Math.floor(a/this.ka);e=Math.floor(e/this.ka);c=Math.floor(c/this.ka);b=Math.floor(b/this.ka);var l,m,q,r,g,n,u;if(h.at(c,
b)===window.PF_OBSTACLE){l=1E6;for(r=q=m=0;r<this.me;r++)for(g=0;g<this.Ue;g++)h.at(r,g)!==window.PF_OBSTACLE&&(n=c-r,u=b-g,n=n*n+u*u,n<l&&(l=n,m=r,q=g));c=m;b=q}h.findPath(a,e,c,b,this.rq,this.qq)}};u.yh=function(){this.pd().hg=!0};l.prototype.fk=function(){return!0};l.prototype.Bn=function(){return!0};l.prototype.xn=function(){return!0};a.u=new l;r.prototype.pn=function(a,e){this.enabled&&(this.If||!this.pd().zd.isReady()?(this.Ee=!0,this.Kg=a,this.Lg=e):this.Dk(this.Ia.x,this.Ia.y,a,e))};r.prototype.In=
function(){this.Je&&(this.Rc&&(this.Af=!0),this.Xf=!this.Rc,this.Rc=!0,this.ic=this.Ia.x,this.jc=this.Ia.y,this.Ye=this.Ia.g)};r.prototype.Jn=function(){this.Rc=!1};u.us=function(a,e,c,b){var h=Math.min(a,c)-this.Xb,l=Math.min(e,b)-this.Xb;a=Math.max(a,c)+this.Xb;e=Math.max(e,b)+this.Xb;h=Math.max(Math.floor(h/this.ka),0);l=Math.max(Math.floor(l/this.ka),0);a=Math.min(Math.ceil(a/this.ka),this.me);e=Math.min(Math.ceil(e/this.ka),this.Ue);h>=a||l>=e||this.pd().pe.push([h,l,a,e])};a.Ra=new r;a.Bb=new function(){}})();
function Yb(){return[Z,Zb,$b,X.prototype.u.nn,Z.prototype.Ra.Kn,X.prototype.Bb.random,X.prototype.Ra.jn,X.prototype.Ra.Gn,X.prototype.Bb.ko,Z.prototype.Bb.On,Z.prototype.Bb.Pn,$b.prototype.u.fk,Z.prototype.u.hn,$b.prototype.Ra.In,X.prototype.u.on,$b.prototype.Ra.Jn,Zb.prototype.Ra.Fn,Z.prototype.u.zn,Z.prototype.Ra.$m,Z.prototype.Ra.kn,X.prototype.u.qn,X.prototype.u.gn,$b.prototype.Ra.pn]};
